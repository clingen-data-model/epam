{"version":3,"sources":["webpack:///./src/components/next_actions/NextActionForm.vue","webpack:///./src/components/next_actions/NextActionForm.vue?b922"],"names":["class","label","errors","date_created","type","newAction","application","ep_type_id","step","Date","target_date","entry","completed","date_completed","cancel","save","name","components","StepInput","RichTextEditor","props","uuid","required","String","emits","data","computed","steps","methods","$store","dispatch","nextActionData","$emit","clearForm","response","status","this","initNewAction","unmounted","mounted","render"],"mappings":"6IAEQ,yBAA4C,MAAxCA,MAAM,eAAc,mBAAe,G,GAYhCA,MAAM,S,+BACkC,+B,2SAdnD,yBAyBiB,Q,8BAxBb,iBAA4C,CAA5C,EACA,yBAAwH,GAA7GC,MAAM,gBAAiBC,OAAQ,EAAAA,OAAOC,aAAcC,KAAK,O,WAAgB,EAAAC,UAAUF,a,qDAAV,EAAAE,UAAUF,aAAY,K,gCAEnB,GAAtB,EAAAG,YAAYC,Y,yBAA7E,yBAA2G,G,iBAAtF,EAAAF,UAAUG,K,qDAAV,EAAAH,UAAUG,KAAI,IAAGN,OAAQ,EAAAA,OAAOM,M,wEAErD,yBAAuH,GAA5GP,MAAM,SAASQ,KAAK,GAAIP,OAAQ,EAAAA,OAAOQ,YAAaN,KAAK,O,WAAgB,EAAAC,UAAUK,Y,qDAAV,EAAAL,UAAUK,YAAW,K,gCAEzG,yBAGY,GAHDT,MAAM,QAASC,OAAQ,EAAAA,OAAOS,O,+BAErC,iBAA+D,CAA/D,yBAA+D,G,WAApC,EAAAN,UAAUM,M,qDAAV,EAAAN,UAAUM,MAAK,K,8CAG9C,yBAEQ,QAFR,EAEQ,C,4BADJ,yBAA2C,SAApCP,KAAK,W,qDAAoB,EAAAQ,UAAS,K,gCAAT,EAAAA,a,IAGkD,EAAAA,W,yBAAtF,yBAEY,G,MAFDX,MAAM,iBAAkBC,OAAQ,EAAAA,OAAOW,eAAgBb,MAAM,S,+BACpE,iBAAsD,C,4BAAtD,yBAAsD,SAA/CI,KAAK,O,qDAAgB,EAAAC,UAAUQ,eAAc,K,4BAAxB,EAAAR,UAAUQ,sB,2DAG1C,yBAGa,Q,8BAFT,iBAAmD,CAAnD,yBAAmD,UAA3Cb,MAAM,MAAO,QAAK,8BAAE,EAAAc,QAAA,EAAAA,OAAA,sBAAQ,UACpC,yBAAoD,UAA5Cd,MAAM,WAAY,QAAK,8BAAE,EAAAe,MAAA,EAAAA,KAAA,sBAAM,Y,0FASpC,GACXC,KAAM,iBACNC,WAAY,CACRC,YAAA,KACAC,iBAAA,MAEJC,MAAO,CACHC,KAAM,CACFC,UAAU,EACVlB,KAAMmB,SAGdC,MAAO,CACH,QACA,SACA,cAEJC,KAjBW,WAkBP,MAAO,CACHvB,OAAQ,GACRG,UAAW,CACPgB,KAAM,KACNlB,aAAc,IAAIM,KAClBD,KAAM,KACNK,eAAgB,KAChBF,MAAO,MAEXC,WAAW,IAGnBc,SAAU,iCACH,eAAW,CAACpB,YAAa,8BADxB,IAEJqB,MAFM,WAGF,MAAO,CAAC,EAAE,EAAE,EAAE,MAGtBC,QAAS,CACCb,KADD,WACQ,iLAEC,EAAKc,OAAOC,SAAS,6BAA8B,CAACxB,YAAa,EAAKA,YAAayB,eAAgB,EAAK1B,YAFzG,OAGL,EAAK2B,MAAM,SACX,EAAKC,YAJA,uDAMD,KAAMC,UAAqC,KAAzB,KAAMA,SAASC,SAAiB,KAAMD,SAAST,KAAKvB,OANrE,wBAOD,EAAKA,OAAS,KAAMgC,SAAST,KAAKvB,OAPjC,+EAYbY,OAbK,WAcDsB,KAAKH,YACLG,KAAKJ,MAAM,aAEfC,UAjBK,WAkBDG,KAAKC,gBACLD,KAAKJ,MAAM,gBAEfK,cArBK,WAsBDD,KAAK/B,UAAY,CAEbF,aAAc,IAAIM,KAClBD,KAAM,KACNE,YAAa,KACbG,eAAgB,KAChBF,MAAO,QAInB2B,UApEW,WAqEPF,KAAKC,iBAETE,QAvEW,WAwEPH,KAAKC,kBCtGb,EAAOG,OAASA,EAED","file":"js/next-action-form.4053a896.js","sourcesContent":["<template>\n    <form-container>\n        <h2 class=\"block-title\">Add Next Action</h2>\n        <input-row label=\"Creation Date\" :errors=\"errors.date_created\" type=\"date\" v-model=\"newAction.date_created\"></input-row>\n\n        <step-input v-model=\"newAction.step\" :errors=\"errors.step\" v-if=\"application.ep_type_id == 2\"></step-input>\n\n        <input-row label=\"Target\" Date=\"\" :errors=\"errors.target_date\" type=\"date\" v-model=\"newAction.target_date\"></input-row>\n\n        <input-row label=\"Entry\" :errors=\"errors.entry\">\n            <!-- <textarea name=\"\" id=\"\" cols=\"30\" rows=\"5\" v-model=\"newAction.entry\" @keyup.enter.exact.stop=\"\" @keyup.meta.enter.exact=\"save\"></textarea> -->\n            <rich-text-editor v-model=\"newAction.entry\"></rich-text-editor>\n        </input-row>    \n\n        <label class=\"ml-36\">\n            <input type=\"checkbox\" v-model=\"completed\"> This is already completed\n        </label>\n\n        <input-row label=\"Date Completed\" :errors=\"errors.date_completed\" class=\"ml-36\" v-if=\"completed\">\n            <input type=\"date\" v-model=\"newAction.date_completed\">\n        </input-row>\n\n        <button-row>\n            <button class=\"btn\" @click=\"cancel\">Cancel</button>\n            <button class=\"btn blue\" @click=\"save\">Save</button>\n        </button-row>\n    </form-container>\n</template>\n<script>\nimport StepInput from '../forms/StepInput'\nimport {mapGetters} from 'vuex'\nimport RichTextEditor from '../forms/RichTextEditor'\n\nexport default {\n    name: 'NextActionForm',\n    components: {\n        StepInput,\n        RichTextEditor\n    },\n    props: {\n        uuid: {\n            required: true,\n            type: String\n        }\n    },\n    emits: [\n        'saved',\n        'closed',\n        'formCleard'\n    ],\n    data() {\n        return {\n            errors: {},\n            newAction: {\n                uuid: null,\n                date_created: new Date(),\n                step: null,\n                date_completed: null,\n                entry: null\n            },\n            completed: false\n        }\n    },\n    computed: {\n        ...mapGetters({application: 'applications/currentItem'}),\n        steps () {\n            return [1,2,3,4];\n        },\n    },\n    methods: {\n        async save() {\n            try {\n                await this.$store.dispatch('applications/addNextAction', {application: this.application, nextActionData: this.newAction})\n                this.$emit('saved')\n                this.clearForm();\n            } catch (error) {\n                if (error.response && error.response.status == 422 && error.response.data.errors) {\n                    this.errors = error.response.data.errors\n                    return;\n                }\n            }\n        },\n        cancel () {\n            this.clearForm();\n            this.$emit('canceled');\n        },\n        clearForm() {\n            this.initNewAction();\n            this.$emit('formCleared')\n        },\n        initNewAction () {\n            this.newAction = {\n                // uuid: this.uuid,\n                date_created: new Date(),\n                step: null,\n                target_date: null,\n                date_completed: null,\n                entry: null,\n            };      \n        }\n    },\n    unmounted() {\n        this.initNewAction()\n    },\n    mounted() {\n        this.initNewAction()\n    }\n}\n</script>","import { render } from \"./NextActionForm.vue?vue&type=template&id=1cf64bd0\"\nimport script from \"./NextActionForm.vue?vue&type=script&lang=js\"\nexport * from \"./NextActionForm.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}