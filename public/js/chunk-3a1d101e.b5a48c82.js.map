{"version":3,"sources":["webpack:///./src/http/is_validation_error.js","webpack:///./src/components/people/PersonForm.vue","webpack:///./src/components/people/PersonForm.vue?6fbf"],"names":["error","response","status","data","errors","class","save","person","name","label","first_name","workingPerson","ref","last_name","email","phone","handleCancel","submitText","props","computed","watch","deep","immediate","handler","this","syncWorkingPerson","methods","attributes","backToDetail","$router","push","params","uuid","$store","dispatch","is_validation_error","mounted","$refs","firstname","focus","render"],"mappings":"kHAAe,gBAAUA,GACrB,OAAOA,EAAMC,UAAqC,KAAzBD,EAAMC,SAASC,QAAiBF,EAAMC,SAASE,KAAKC,S,wECCrEC,MAAM,iB,yMADd,yBAQiB,GARA,QAAK,sBAAQ,EAAAC,KAAI,Y,+BAC9B,iBAAqD,CAArD,yBAAqD,KAArD,EAA0B,UAAO,6BAAE,EAAAC,OAAOC,MAAI,GAC9C,yBAAyH,GAA9GC,MAAM,aAAcL,OAAQ,EAAAA,OAAOM,W,WAAqB,EAAAC,cAAcD,W,qDAAd,EAAAC,cAAcD,WAAU,IAAEE,IAAI,a,gCACjG,yBAAsG,GAA3FH,MAAM,YAAaL,OAAQ,EAAAA,OAAOS,U,WAAoB,EAAAF,cAAcE,U,qDAAd,EAAAF,cAAcE,UAAS,K,gCACxF,yBAA0F,GAA/EJ,MAAM,QAASL,OAAQ,EAAAA,OAAOU,M,WAAgB,EAAAH,cAAcG,M,qDAAd,EAAAH,cAAcG,MAAK,K,gCAC5E,yBAA0F,GAA/EL,MAAM,QAASL,OAAQ,EAAAA,OAAOW,M,WAAgB,EAAAJ,cAAcI,M,qDAAd,EAAAJ,cAAcI,MAAK,K,gCAE5E,yBAA+F,GAAlF,gBAAe,EAAAC,aAAe,gBAAe,EAAAV,KAAMW,WAAW,Q,oIAOpE,GACXC,MAAO,GAEPf,KAHW,WAIP,MAAO,CACHQ,cAAe,CACXD,WAAY,KACZG,UAAW,KACXC,MAAO,KACPC,MAAO,MAEXX,OAAQ,KAGhBe,SAAU,kBACH,eAAW,CACVZ,OAAQ,wBAGhBa,MAAO,CACHb,OAAQ,CACJc,MAAM,EACNC,WAAW,EACXC,QAAS,WACLC,KAAKC,uBAIjBC,QAAS,CACLD,kBADK,WAEDD,KAAKb,cAAgBa,KAAKjB,OAAOoB,YAErCC,aAJK,WAKDJ,KAAKK,QAAQC,KAAK,CAACtB,KAAM,gBAAiBuB,OAAQ,CAACC,KAAMR,KAAKjB,OAAOyB,SAEzEhB,aAPK,WAQDQ,KAAKC,oBACLD,KAAKI,gBAEHtB,KAXD,WAWS,iLAEA,EAAK2B,OAAOC,SAAS,0BAA2B,CAACF,KAAM,EAAKzB,OAAOyB,KAAML,WAAY,EAAKhB,gBAF1F,OAGN,EAAKiB,eAHC,kDAKF,OAAAO,EAAA,MAAoB,EAAD,MACnB,EAAK/B,OAAS,KAAMH,SAASE,KAAKC,QANhC,4DAWlBgC,QAlDW,WAmDPZ,KAAKa,MAAMC,UAAUC,UC/D7B,EAAOC,OAASA,EAED","file":"js/chunk-3a1d101e.b5a48c82.js","sourcesContent":["export default function (error) {\n    return error.response && error.response.status == 422 && error.response.data.errors\n}","<template>\n    <form-container @keyup.enter=\"save\">\n        <h2 class=\"border-b py-2\">Edit - {{person.name}}</h2>\n        <input-row label=\"First Name\" :errors=\"errors.first_name\" v-model=\"workingPerson.first_name\" ref=\"firstname\"></input-row>\n        <input-row label=\"Last Name\" :errors=\"errors.last_name\" v-model=\"workingPerson.last_name\"></input-row>\n        <input-row label=\"Email\" :errors=\"errors.email\" v-model=\"workingPerson.email\"></input-row>\n        <input-row label=\"Phone\" :errors=\"errors.phone\" v-model=\"workingPerson.phone\"></input-row>\n\n        <button-row @cancelClicked=\"handleCancel\" @submitClicked=\"save\" submitText=\"Save\"></button-row>\n    </form-container>\n</template>\n<script>\nimport {mapGetters} from 'vuex'\nimport is_validation_error from '../../http/is_validation_error';\n\nexport default {\n    props: {\n    },\n    data() {\n        return {\n            workingPerson: {\n                first_name: null,\n                last_name: null,\n                email: null,\n                phone: null\n            },\n            errors: {}\n        }\n    },\n    computed: {\n        ...mapGetters({\n            person: 'people/currentItem'\n        })\n    },\n    watch: {\n        person: {\n            deep: true,\n            immediate: true, \n            handler: function () {\n                this.syncWorkingPerson();\n            }\n        }\n    },\n    methods: {\n        syncWorkingPerson() {\n            this.workingPerson = this.person.attributes\n        },\n        backToDetail () {\n            this.$router.push({name: 'person-detail', params: {uuid: this.person.uuid}});\n        },\n        handleCancel () {\n            this.syncWorkingPerson();\n            this.backToDetail()\n        },\n        async save () {\n            try {\n                await this.$store.dispatch('people/updateAttributes', {uuid: this.person.uuid, attributes: this.workingPerson})\n                this.backToDetail();\n            } catch (error) {\n                if (is_validation_error(error)) {\n                    this.errors = error.response.data.errors\n                }\n            }\n        }\n    },\n    mounted() {\n        this.$refs.firstname.focus();\n    }\n}\n</script>","import { render } from \"./PersonForm.vue?vue&type=template&id=31a8c054\"\nimport script from \"./PersonForm.vue?vue&type=script&lang=js\"\nexport * from \"./PersonForm.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}