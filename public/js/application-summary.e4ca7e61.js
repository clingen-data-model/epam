(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["application-summary"],{5257:function(e,t,a){"use strict";var n=a("5530"),r=(a("caad"),a("2532"),a("b64b"),a("ac1f"),a("5319"),a("4de4"),a("6c02")),l=a("7a23");t["a"]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Object(r["d"])(),a=Object(r["c"])();e||(console.log('Warning: defaultSort is deprecated.  Please provide a sort object: {field: "fieldname", desc: boolean}'),e=e||{field:"name",desc:!1});var c=Object(l["computed"])({immediate:!0,get:function(){return Object.keys(a.query).includes("sort-field")?{field:a.query["sort-field"],desc:Boolean(parseInt(a.query["sort-desc"]))}:e},set:function(e){var r={"sort-field":e.field,"sort-desc":e.desc?1:0},l=Object(n["a"])(Object(n["a"])({},a.query),r);t.replace({path:a.path,query:l})}}),o=Object(l["computed"])({set:function(e){var r=a.query,l=a.path,c=Object(n["a"])({},r);e?c=Object(n["a"])(Object(n["a"])({},r),{filter:e}):delete c.filter,t.replace({path:l,query:c})},get:function(){return a.query.filter},immediate:!0});return{sort:c,filter:o}}},"63a8":function(e,t,a){"use strict";a.r(t);var n=a("7a23");function r(e,t,a,r,l,c){var o=Object(n["resolveComponent"])("applications-summary-table");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,[Object(n["createVNode"])(o,{"ep-type-id":1})])}var l=a("dc65"),c={name:"GcepsSummary",components:{ApplicationsSummaryTable:l["a"]}};c.render=r;t["default"]=c},be02:function(e,t,a){"use strict";a.r(t);var n=a("7a23");function r(e,t,a,r,l,c){var o=Object(n["resolveComponent"])("applications-summary-table");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,[Object(n["createVNode"])(o,{"ep-type-id":2})])}var l=a("dc65"),c={name:"GcepsSummary",components:{ApplicationsSummaryTable:l["a"]}};c.render=r;t["default"]=c},dc65:function(e,t,a){"use strict";a("4de4"),a("4e82"),a("b0c0");var n=a("7a23"),r={class:"flex justify-between"},l={class:"mb-1 flex space-x-2"},c=Object(n["createTextVNode"])("Filter: "),o=["href"],i=["innerHTML"],s=["innerHTML"];function p(e,t,a,p,u,d){var m=Object(n["resolveComponent"])("checkbox"),b=Object(n["resolveComponent"])("data-table");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,[Object(n["createElementVNode"])("div",r,[Object(n["createElementVNode"])("div",l,[Object(n["createElementVNode"])("label",null,[c,Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{type:"text",class:"sm","onUpdate:modelValue":t[0]||(t[0]=function(e){return p.filter=e}),placeholder:"filter"},null,512),[[n["vModelText"],p.filter]])]),Object(n["createVNode"])(m,{modelValue:d.showCompleted,"onUpdate:modelValue":t[1]||(t[1]=function(e){return d.showCompleted=e}),label:"Show completed"},null,8,["modelValue"])])]),Object(n["createVNode"])(b,{data:d.filteredData,fields:d.selectedFields,"filter-term":p.filter,"row-click-handler":d.goToApplication,"row-class":"cursor-pointer",sort:p.sort,"onUpdate:sort":t[2]||(t[2]=function(e){return p.sort=e}),style:Object(n["normalizeStyle"])(d.remainingHeight),class:"overflow-auto text-xs",ref:"table"},{"cell-contacts":Object(n["withCtx"])((function(e){var t=e.item;return[Object(n["createElementVNode"])("ul",null,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(t.contacts,(function(e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:e.id},[Object(n["createElementVNode"])("small",null,[Object(n["createElementVNode"])("a",{href:"mailto:".concat(e.email),class:"text-blue-500"},Object(n["toDisplayString"])(e.name),9,o)])])})),128))])]})),"cell-latest_log_entry_description":Object(n["withCtx"])((function(e){var t=e.value;return[Object(n["createElementVNode"])("div",{innerHTML:t},null,8,i)]})),"cell-latest_pending_next_action_entry":Object(n["withCtx"])((function(e){var t=e.value;return[Object(n["createElementVNode"])("div",{innerHTML:t},null,8,s)]})),_:1},8,["data","fields","filter-term","row-click-handler","sort","style"])])}var u=a("5530"),d=(a("a9e3"),a("ac1f"),a("5319"),a("caad"),a("2532"),a("b64b"),a("5502")),m=a("5257"),b={name:"SummaryVceps",components:{},props:{epTypeId:{type:Number,default:null}},data:function(){return{fields:[{name:"name",label:"Name",type:String,sortable:!0},{name:"cdwg.name",label:"CDWG",type:String,sortable:!0,resolveValue:function(e){return e.cdwg?e.cdwg.name:""}},{name:"current_step",label:"Step",type:Number,sortable:!0,resolveValue:function(e){return e.isCompleted?"Completed":e.current_step},resolveSort:function(e){return e.isCompleted?5:e.current_step}},{name:"contacts",label:"Contacts",type:Array,sortable:!1,class:["min-w-40"],step:1},{name:"first_scope_document.date_received",label:2==this.epTypeId?"Step 1 Received":"Application Received",type:Date,sortable:!0,class:["min-w-28"],step:1},{name:"approval_dates.step 1",label:2==this.epTypeId?"Step 1 Approved":"Application Approved",type:Date,sortable:!0,class:["min-w-28"],step:1},{name:"approval_dates.step 2",label:"Step 2 Approved",type:Date,sortable:!0,class:["min-w-28"],step:2},{name:"approval_dates.step 3",label:"Step 3 Approved",type:Date,sortable:!0,class:["min-w-28"],step:3},{name:"first_final_document.date_received",label:"Step 4 Received",type:Date,sortable:!0,class:["min-w-28"],step:4},{name:"approval_dates.step 4",label:"Step 4 Approved",type:Date,sortable:!0,class:["min-w-28"],step:4}]}},computed:Object(u["a"])(Object(u["a"])({},Object(d["b"])({applications:"applications/all"})),{},{filteredData:function(){var e=this;return this.applications.filter((function(t){return!e.epTypeId||t.expert_panel_type_id==e.epTypeId})).filter((function(t){return!!e.showCompleted||null==t.date_completed}))},showCompleted:{set:function(e){var t=this.$route.query,a=this.$route.path,n=Object(u["a"])({},t);e?n=Object(u["a"])(Object(u["a"])({},t),{"show-completed":1}):delete n["show-completed"],this.$router.replace({path:a,query:n})},get:function(){return Boolean(parseInt(this.$route.query["show-completed"]))},immediate:!0},selectedFields:function(){var e=2==this.epTypeId?[1,2,3,4]:[1];return this.fields.filter((function(t){return!t.step||e.includes(t.step)}))},showAllInfo:{immediate:!0,get:function(){return Object.keys(this.$route.query).includes("showAllInfo")?this.$route.query.showAllInfo:0},set:function(e){var t=Object(u["a"])({},this.$route.query);t.showAllInfo=e,this.$router.replace({path:this.$route.path,query:t})}},remainingHeight:function(){return{height:"calc(100vh - 220px)"}}}),methods:{getApplications:function(){var e={with:["latestLogEntry","latestPendingNextAction","type","contacts","firstScopeDocument","firstFinalDocument"]},t={};Object.keys(t).length>0&&(e.where=t),this.$store.dispatch("applications/getApplications",e)},goToApplication:function(e){this.$router.push({name:"ApplicationDetail",params:{uuid:e.uuid}})}},mounted:function(){this.getApplications()},setup:function(){var e=Object(m["a"])(),t=e.sort,a=e.filter;return{sort:t,filter:a}}};b.render=p;t["a"]=b}}]);
//# sourceMappingURL=application-summary.e4ca7e61.js.map