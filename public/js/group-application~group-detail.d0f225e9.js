(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["group-application~group-detail"],{"206f":function(e,t,n){"use strict";var r=n("7a23"),o={class:"flex justify-between mb-2"},c=Object(r["createTextVNode"])(" Gene List "),a={key:0},i={key:1},l={key:0,style:{"text-indent":"1rem"}};function u(e,t,n,u,s,d){var p=Object(r["resolveComponent"])("edit-icon-button"),b=Object(r["resolveComponent"])("input-row");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[Object(r["createElementVNode"])("h4",o,[c,!e.hasAnyPermission(["groups-manage",["application-edit",u.group]])||n.editing||n.readonly?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createBlock"])(p,{key:0,onClick:d.showForm},null,8,["onClick"]))]),n.editing?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",a,[Object(r["createVNode"])(b,{modelValue:u.genesAsText,"onUpdate:modelValue":[t[0]||(t[0]=function(e){return u.genesAsText=e}),t[1]||(t[1]=function(t){e.$emit("geneschanged"),e.$emit("update")})],type:"large-text",label:"List the gene symbols for the genes the Expert Panel plans to curate.  Separate genes by commas, spaces, or new lines.",errors:u.errors.genes,placeholder:"ABC, DEF1, BEAN",vertical:""},null,8,["modelValue","errors"])])):(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",i,[u.genesAsText?(Object(r["openBlock"])(),Object(r["createElementBlock"])("p",l,Object(r["toDisplayString"])(u.genesAsText),1)):(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{key:1,class:"well cursor-pointer",onClick:t[2]||(t[2]=function(){return d.showForm&&d.showForm.apply(d,arguments)})},Object(r["toDisplayString"])(u.loading?"Loading...":"No genes have been added to the gene list."),1))]))])}var s=n("0d21");n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0");function d(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,c=[],a=!0,i=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(c.push(r.value),t&&c.length===t)break}catch(l){i=!0,o=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(i)throw o}}return c}}var p=n("06c5"),b=n("3d8c");function m(e,t){return Object(s["a"])(e)||d(e,t)||Object(p["a"])(e,t)||Object(b["a"])()}var f=n("1da1"),h=(n("96cf"),n("a15b"),n("d81d"),n("4de4"),n("ac1f"),n("1276"),n("4d63"),n("c607"),n("2c3e"),n("25f0"),n("159b"),n("b64b"),n("99af"),n("5502")),j=n("a75a"),O=n("033d"),g=n("f96b"),v={name:"GcepGeneList",components:{},props:{editing:{type:Boolean,required:!1,default:!0},readonly:{type:Boolean,required:!1,default:!1}},computed:{canEdit:function(){return this.hasAnyPermission(["groups-manage",["application-edit",this.group]])}},emits:["saved","canceled","update:editing","geneschanged","update"],methods:{showForm:function(){this.canEdit&&(this.resetErrors(),this.$emit("update:editing",!0))}},setup:function(e,t){var n=Object(h["d"])(),o=Object(r["ref"])(!1),c=Object(r["ref"])(null),a=Object(j["a"])(e,t),i=a.errors,l=a.resetErrors,u=Object(r["computed"])({get:function(){return n.getters["groups/currentItemOrNew"]},set:function(e){n.commit("groups/addItem",e)}}),s=function(){t.emit("update:editing",!1),i.value={}},d=function(){l(),b(),s(),t.emit("canceled")},p=function(){u.value.expert_panel&&(c.value=u.value.expert_panel.genes?u.value.expertPanel.genes.join(", "):null)},b=function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(u.value.uuid){e.next=2;break}return e.abrupt("return");case 2:return o.value=!0,e.prev=3,e.next=6,n.dispatch("groups/getGenes",u.value);case 6:c.value=u.value.expert_panel.genes.map((function(e){return e.gene_symbol})).join(", "),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](3),n.commit("pushError",e.t0.response.data);case 12:o.value=!1;case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var r,o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=c.value?c.value.split(new RegExp(/[, \n]/)).filter((function(e){return""!==e})):[],e.prev=1,e.next=4,g["a"].post("/api/groups/".concat(u.value.uuid,"/expert-panel/genes"),{genes:r});case 4:s(),t.emit("saved"),b(),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),Object(O["a"])(e.t0)&&(o=e.t0.response.data.errors,o.group&&o.group.forEach((function(e){n.pushError(e)})),a=Object.keys(o).map((function(e){var t=e.split("."),n=m(t,2),c=n[0],a=n[1];if("genes"==c)return a?"Gene #".concat(parseInt(a)+1,', "').concat(r[a],"\" wasn't found in our records.  Please confirm it is currently an approved HGNC gene symbol."):o[e]})),i.value={genes:a});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return Object(r["watch"])((function(){return n.getters["groups/currentItem"]}),(function(e,t){!e.id||t&&e.id==t.id||b()})),Object(r["onMounted"])((function(){b()})),Object(r["watch"])((function(){return u.value.expert_panel.genes}),(function(){})),{group:u,genesAsText:c,loading:o,errors:i,resetErrors:l,hideForm:s,cancel:d,syncGenesAsText:p,save:v}}},V=n("6b0d"),_=n.n(V);const k=_()(v,[["render",u]]);t["a"]=k},3926:function(e,t,n){"use strict";var r=n("7a23"),o={key:0},c=Object(r["createTextVNode"])(" Curated variants and genes are expected to be approved and posted for the community as soon as possible as described in Section 2.4 of the "),a=Object(r["createTextVNode"])(". Note that upon approval, a VCEP must finalize their set of variants for upload to the ClinGen Evidence Repository within 30 days. "),i={key:1},l={class:"my-4"},u={key:2},s=Object(r["createTextVNode"])(" Please review the "),d=Object(r["createTextVNode"])(" and refer to guidance on submissions to a preprint server (e.g. bioRxiv or medRxiv). "),p={key:3},b=Object(r["createElementVNode"])("em",null,"It is expected that, whenever possible, Expert Panel manuscripts will be pre-published (e.g. medRXiv) . If the authors do not anticipate submitting their manuscript to a prepublication resource they must provide a written justification.",-1),m=[b];function f(e,t,n,b,f,h){var j=Object(r["resolveComponent"])("vcep-protocol-link"),O=Object(r["resolveComponent"])("checkbox"),g=Object(r["resolveComponent"])("input-row"),v=Object(r["resolveComponent"])("publication-policy-link");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[h.group.isVcep()?(Object(r["openBlock"])(),Object(r["createElementBlock"])("p",o,[c,Object(r["createVNode"])(j),a])):Object(r["createCommentVNode"])("",!0),h.group.isGcep()?(Object(r["openBlock"])(),Object(r["createElementBlock"])("p",i," Curated genes and variants are expected to be approved and posted for the community as soon as possible and should not wait for the publication of a manuscript. ")):Object(r["createCommentVNode"])("",!0),Object(r["createElementVNode"])("p",l,[Object(r["createVNode"])(g,{label:"",vertical:!0},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(O,{disabled:n.disabled,modelValue:h.attestation,"onUpdate:modelValue":t[0]||(t[0]=function(e){return h.attestation=e}),id:"nhgri-checkbox",label:h.checkboxLabel},null,8,["disabled","modelValue","label"])]})),_:1})]),h.group.isVcep()?(Object(r["openBlock"])(),Object(r["createElementBlock"])("p",u,[s,Object(r["createVNode"])(v),d])):Object(r["createCommentVNode"])("",!0),h.group.isGcep()?(Object(r["openBlock"])(),Object(r["createElementBlock"])("p",p,m)):Object(r["createCommentVNode"])("",!0)])}var h=n("1da1"),j=(n("96cf"),n("f96b")),O=n("033d"),g={name:"NHGRIDataAvailability",props:{disabled:{type:Boolean,required:!1,default:!1}},emits:["update"],data:function(){return{errors:{}}},computed:{group:{get:function(){return this.$store.getters["groups/currentItemOrNew"]},set:function(e){this.$store.commit("groups/addItem",e)}},attestation:{get:function(){return Boolean(this.group.expert_panel.nhgri_attestation_date)},set:function(e){this.group.expert_panel.nhgri_attestation_date=e?new Date:null,this.$emit("update")}},checkboxLabel:function(){return this.group.isVcep()?"I understand that once a variant is approved in the VCI it will become publicly available in the Evidence Repository. They should not be held for publication.":"Please check box to confirm your understanding that once a gene is approved in the GCI, the group should utilize the “publish” functionality within the GCI to make the curation publicly available on the ClinGen website (https://clinicalgenome.org/). They should not be held for publication."}},methods:{save:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.attestation){t.next=9;break}return t.prev=1,t.next=4,j["a"].post("/api/groups/".concat(e.group.uuid,"/application/attestations/nhgri"),{attestation:e.attestation});case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](1),Object(O["a"])(t.t0)&&(e.errors=t.t0.response.data.errors);case 9:case"end":return t.stop()}}),t,null,[[1,6]])})))()}}},v=n("6b0d"),V=n.n(v);const _=V()(g,[["render",f]]);t["a"]=_},"4d1a":function(e,t,n){"use strict";var r=n("7a23"),o={class:"flex justify-between items-center"},c=Object(r["createElementVNode"])("h4",null,"Description of Expertise",-1),a={class:"mt-4"},i={key:1},l={key:1,class:"well"};function u(e,t,n,u,s,d){var p=Object(r["resolveComponent"])("edit-icon-button"),b=Object(r["resolveComponent"])("input-row"),m=Object(r["resolveComponent"])("markdown-block");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[Object(r["createElementVNode"])("header",o,[c,e.hasAnyPermission(["groups-manage"],["edit-info",d.group])&&!n.editing?(Object(r["openBlock"])(),Object(r["createBlock"])(p,{key:0,onClick:t[0]||(t[0]=function(t){return e.$emit("update:editing",!0)})})):Object(r["createCommentVNode"])("",!0)]),Object(r["createElementVNode"])("div",a,[Object(r["createVNode"])(r["Transition"],{name:"fade",mode:"out-in"},{default:Object(r["withCtx"])((function(){return[n.editing?(Object(r["openBlock"])(),Object(r["createBlock"])(b,{key:0,modelValue:d.group.expert_panel.membership_description,"onUpdate:modelValue":[t[1]||(t[1]=function(e){return d.group.expert_panel.membership_description=e}),d.emitUpdate],label:"Describe the expertise of VCEP members who regularly use the ACMG/AMP guidelines to classify variants and/or review variants during clinical laboratory case sign-out.",errors:n.errors.membership_description,type:"large-text",vertical:""},null,8,["modelValue","errors","onUpdate:modelValue"])):(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",i,[d.group.expert_panel.membership_description?(Object(r["openBlock"])(),Object(r["createBlock"])(m,{key:0,markdown:d.group.expert_panel.membership_description},null,8,["markdown"])):(Object(r["openBlock"])(),Object(r["createElementBlock"])("p",l," A description of expertise has not yet been provided. "))]))]})),_:1})])])}var s={name:"MembershipDescriptionForm",props:{editing:{type:Boolean,required:!1,default:!1},errors:{type:Object,required:!1,default:function(){return{}}}},emits:["update:editing","saved","canceled","update"],computed:{group:{get:function(){return this.$store.getters["groups/currentItemOrNew"]},set:function(e){this.$store.commit("groups/addItem",e)}}},methods:{emitUpdate:function(){this.$emit("update")}}},d=n("6b0d"),p=n.n(d);const b=p()(s,[["render",u]]);t["a"]=b},"62a2":function(e,t,n){"use strict";var r=n("7a23"),o=Object(r["createElementVNode"])("header",{class:"flex justify-between items-center"},[Object(r["createElementVNode"])("h4",null,"Gene/Disease List")],-1),c={class:"my-2"},a={key:0,class:"border-none"},i=Object(r["createElementVNode"])("th",{style:{"min-width":"10rem"}},"HGNC Symbol",-1),l=Object(r["createElementVNode"])("th",{style:{"min-width":"15rem"}},"Disease",-1),u={key:0,style:{width:"5rem"}},s={key:0},d={colspan:"4"},p={class:"p-2 text-center font-bold"},b={key:0},m={key:1},f=Object(r["createElementVNode"])("p",null,"There are no gene/disease pairs in the gene list.",-1),h=[f],j={key:1},O={key:0},g={key:0},v=Object(r["createElementVNode"])("button",{class:"btn btn-xs"},"…",-1),V=Object(r["createTextVNode"])("Edit"),_=Object(r["createTextVNode"])("Remove"),k={colspan:"2"},x=["onClick"],y=["onClick"],w={key:0},C={colspan:"4"};function N(e,t,n,f,N,E){var B=Object(r["resolveComponent"])("dropdown-item"),T=Object(r["resolveComponent"])("dropdown-menu"),D=Object(r["resolveComponent"])("gene-search-select"),G=Object(r["resolveComponent"])("input-row"),I=Object(r["resolveComponent"])("disease-search-select"),U=Object(r["resolveComponent"])("button-row"),R=Object(r["resolveComponent"])("modal-dialog");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[o,Object(r["createElementVNode"])("div",c,[f.genes?(Object(r["openBlock"])(),Object(r["createElementBlock"])("table",a,[Object(r["createElementVNode"])("thead",null,[Object(r["createElementVNode"])("tr",null,[i,l,f.canEdit?(Object(r["openBlock"])(),Object(r["createElementBlock"])("th",u)):Object(r["createCommentVNode"])("",!0)])]),Object(r["createVNode"])(r["Transition"],{name:"fade",mode:"out-in"},{default:Object(r["withCtx"])((function(){return[0==f.genes.length?(Object(r["openBlock"])(),Object(r["createElementBlock"])("tbody",s,[Object(r["createElementVNode"])("tr",null,[Object(r["createElementVNode"])("td",d,[Object(r["createElementVNode"])("div",p,[f.loading?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",b,"Loading...")):(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",m,h))])])])])):(Object(r["openBlock"])(),Object(r["createElementBlock"])("tbody",j,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(f.orderedGenes,(function(e){return Object(r["openBlock"])(),Object(r["createElementBlock"])("tr",{key:e.id},[e.edit?(Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],{key:1},[Object(r["createElementVNode"])("td",null,[Object(r["createVNode"])(G,{label:"",errors:f.errors.hgnc_id,vertical:!0},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(D,{modelValue:e.gene,"onUpdate:modelValue":function(t){return e.gene=t}},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1032,["errors"])]),Object(r["createElementVNode"])("td",k,[Object(r["createVNode"])(G,{label:"",errors:f.errors.mondo_id,vertical:!0},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(I,{modelValue:e.disease,"onUpdate:modelValue":function(t){return e.disease=t}},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1032,["errors"])]),Object(r["createElementVNode"])("td",null,[Object(r["createElementVNode"])("button",{class:"btn btn-xs",onClick:function(t){return f.updateCancel(e)}},"Cancel",8,x),Object(r["createElementVNode"])("button",{class:"btn blue btn-xs",onClick:function(t){return f.updateGene(e)}},"Save",8,y)])],64)):(Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],{key:0},[Object(r["createElementVNode"])("td",null,Object(r["toDisplayString"])(e.gene_symbol),1),Object(r["createElementVNode"])("td",null,Object(r["toDisplayString"])(e.disease_name),1),f.canEdit?(Object(r["openBlock"])(),Object(r["createElementBlock"])("td",O,[e.edit?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",g,[e.toDelete?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createBlock"])(T,{key:0,"hide-cheveron":!0,class:"relative"},{label:Object(r["withCtx"])((function(){return[v]})),default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(B,{onClick:function(t){return f.edit(e)}},{default:Object(r["withCtx"])((function(){return[V]})),_:2},1032,["onClick"]),Object(r["createVNode"])(B,{onClick:function(t){return f.confirmRemove(e)}},{default:Object(r["withCtx"])((function(){return[_]})),_:2},1032,["onClick"])]})),_:2},1024))]))])):Object(r["createCommentVNode"])("",!0)],64))])})),128))]))]})),_:1}),f.canEdit?(Object(r["openBlock"])(),Object(r["createElementBlock"])("tbody",w,[Object(r["createElementVNode"])("tr",null,[Object(r["createElementVNode"])("td",null,[Object(r["createVNode"])(G,{label:"",errors:f.errors["genes.0.hgnc_id"],vertical:!0},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(D,{modelValue:f.newGene.gene,"onUpdate:modelValue":[t[0]||(t[0]=function(e){return f.newGene.gene=e}),f.debounceSave]},null,8,["modelValue","onUpdate:modelValue"])]})),_:1},8,["errors"])]),Object(r["createElementVNode"])("td",C,[Object(r["createVNode"])(G,{label:"",errors:f.errors["diseases.0.hgnc_id"],vertical:!0},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(I,{modelValue:f.newGene.disease,"onUpdate:modelValue":[t[1]||(t[1]=function(e){return f.newGene.disease=e}),f.debounceSave]},null,8,["modelValue","onUpdate:modelValue"])]})),_:1},8,["errors"])])])])):Object(r["createCommentVNode"])("",!0)])):Object(r["createCommentVNode"])("",!0)]),Object(r["createVNode"])(R,{modelValue:f.showConfirmRemove,"onUpdate:modelValue":t[3]||(t[3]=function(e){return f.showConfirmRemove=e}),title:"Confirm gene/disease pair delete."},{default:Object(r["withCtx"])((function(){return[Object(r["createElementVNode"])("p",null,"You are about to delete the gene/disease pair "+Object(r["toDisplayString"])(f.selectedGene.gene_symbol)+"/"+Object(r["toDisplayString"])(f.selectedGene.disease_name)+". Are you sure you want to continue?",1),Object(r["createVNode"])(U,{"submit-text":"Yes, delete it.","cancel-text":"No, cancel",onSubmitted:t[2]||(t[2]=function(e){return f.remove(f.selectedGene)}),onCanceled:f.cancelRemove},null,8,["onCanceled"])]})),_:1},8,["modelValue"])])}var E=n("1da1"),B=n("2909"),T=(n("96cf"),n("b0c0"),n("4e82"),n("99af"),n("f96b")),D=n("2ef0"),G=n("5502"),I=n("ce1b"),U=n("53b7"),R=n("033d"),S=n("1874"),A={name:"VcepGeneList",components:{GeneSearchSelect:I["default"],DiseaseSearchSelect:U["default"]},props:{readonly:{type:Boolean,required:!1,default:!1}},emits:["saved","canceled","editing"],computed:{selectedGeneSymbol:function(){return this.selectedGene&&this.selectedGene.gene?this.selectedGene.gene.gene_symbol:"Unknown Gene Symbols"},selectedDiseaseName:function(){return this.selectedGene&&this.selectedGene.disease?this.selectedGene.disease.name:"Unknown Disease Name"}},setup:function(e,t){var n=Object(G["d"])(),o=Object(r["ref"])(!1),c=Object(r["ref"])({gene:{},disease:{}}),a=Object(r["computed"])((function(){return n.getters["groups/currentItemOrNew"]})),i=Object(r["ref"])({gene:null,disease:null}),l=Object(r["ref"])(!1),u=Object(r["ref"])({}),s=Object(r["ref"])([]),d=Object(r["computed"])((function(){var e=Object(B["a"])(s.value);return e.sort((function(e,t){return e.gene_symbol==t.gene_symbol?0:e.gene_symbol>t.gene_symbol?1:-1})),e})),p=function(){i.value={gene:null,disease:null},u.value={}},b=function(e){e.edit=!0},m=function(e){e.removeTimeout&&(clearTimeout(e.removeTimeout),clearInterval(e.removeInterval),e.removeCountdown=10)},f=function(e){delete e.toDelete,delete e.removeInterval,delete e.removeTimeout},h=function(e){m(e),f(e)},j=function(e){c.value=e,o.value=!0},O=function(){var e=Object(E["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T["a"].delete("/api/groups/".concat(a.value.uuid,"/expert-panel/genes/").concat(t.id));case 3:return e.next=5,v();case 5:g(),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),n.commit("pushError",e.t0.response.data);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){c.value={gene:{},disease:{}},o.value=!1},v=function(){var e=Object(E["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a.value.uuid){e.next=2;break}return e.abrupt("return");case 2:return l.value=!0,e.prev=3,e.next=6,n.dispatch("groups/getGenes",a.value);case 6:s.value=e.sent,e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](3),console.log(e.t0),n.commit("pushError",e.t0.response.data);case 13:l.value=!1;case 14:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(E["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,null===i.value.gene||null===i.value.disease){e.next=7;break}return e.next=4,T["a"].post("/api/groups/".concat(a.value.uuid,"/expert-panel/genes"),{genes:[{hgnc_id:i.value.gene.hgnc_id,mondo_id:i.value.disease.mondo_id}]});case 4:return e.next=6,v();case 6:p();case 7:u.value={},t.emit("saved"),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),Object(R["a"])(e.t0)&&(u.value=e.t0.response.data.errors);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),_=Object(D["debounce"])(V,500),k=function(){var e=Object(E["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.hgnc_id=t.gene.hgnc_id,t.mondo_id=t.disease.mondo_id,e.next=5,T["a"].put("/api/groups/".concat(a.value.uuid,"/expert-panel/genes/").concat(t.id),t);case 5:return e.next=7,v();case 7:delete t.edit,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),Object(R["a"])(e.t0)&&(u.value=e.t0.response.data.errors);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),x=function(e){delete e.edit},y=function(){p()},w=Object(r["computed"])((function(){return Object(S["b"])(["ep-applications-manage",["application-edit",a.value]])&&!e.readonly}));return Object(r["onMounted"])((function(){v()})),{group:a,genes:s,newGene:i,orderedGenes:d,errors:u,loading:l,updateGene:k,updateCancel:x,save:V,debounceSave:_,cancel:y,edit:b,remove:O,cancelPendingRemove:h,canEdit:w,showConfirmRemove:o,confirmRemove:j,cancelRemove:g,selectedGene:c}}},$=n("6b0d"),P=n.n($);const F=P()(A,[["render",N]]);t["a"]=F},"8fec":function(e,t,n){"use strict";var r=n("7a23"),o=Object(r["createElementVNode"])("p",null," The Gene Curation Expert Panel (GCEP) leaders(s) will complete the checkbox attestations document below on behalf of the GCEP. ",-1),c={class:"ml-4 mt-2"},a=Object(r["createTextVNode"])(" This GCEP will utilize the ClinGen Gene Tracker for documentation of all precuration information, consistent with the current Lumping and Splitting working group guidance, for gene-disease relationships. "),i=Object(r["createTextVNode"])(" This GCEP will utilize the ClinGen Gene Curation Interface for documentation of all gene-disease validity classifications. "),l=Object(r["createTextVNode"])(" All curations completed by this group will be made publicly available through the ClinGen website immediately upon completion. "),u=Object(r["createTextVNode"])(" The "),s=Object(r["createTextVNode"])(" has been reviewed and a manuscript concept sheet will be submitted to the NHGRI and ClinGen Steering Committee before the group prepares a publication for submission. "),d=Object(r["createTextVNode"])(" Draft manuscripts will be submitted to the ClinGen Gene Curation WG for review prior to submission. Email: "),p=Object(r["createElementVNode"])("a",{href:"mailto:genecuration@clinicalgenome.org"},"genecuration@clinicalgenome.org",-1),b=Object(r["createTextVNode"])(" The ClinGen "),m=Object(r["createTextVNode"])("Gene-Disease Validity Recuration Process"),f=Object(r["createTextVNode"])(" has been reviewed. "),h=Object(r["createTextVNode"])(" Biocurators are expected to become familiar with the ClinGen "),j=Object(r["createTextVNode"])(" located on "),O=Object(r["createTextVNode"])("ClinicalGenome.org"),g=Object(r["createTextVNode"])(". Biocurators are requested to join the mailing list for ClinGen Biocurator Working Group, and expected to attend those calls that focus on gene curation SOP and/or framework updates. "),v={class:"ml-4 mt-2"},V=Object(r["createTextVNode"])(" Biocurators have received all appropriate training. "),_=Object(r["createTextVNode"])(" Biocurators are trained on the use of the Gene Curation Interface (GCI). "),k=Object(r["createTextVNode"])(" Biocurators have joined the Biocurator WG mailing list. "),x=Object(r["createElementVNode"])("br",null,null,-1),y=Object(r["createTextVNode"])("The calls occur on the 2nd and 4th Thursdays from 12-1pm. ");function w(e,t,n,w,C,N){var E=Object(r["resolveComponent"])("checkbox"),B=Object(r["resolveComponent"])("input-row"),T=Object(r["resolveComponent"])("publication-policy-link"),D=Object(r["resolveComponent"])("gcep-recuration-process-link"),G=Object(r["resolveComponent"])("training-materials-link");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[o,Object(r["createElementVNode"])("ul",c,[Object(r["createElementVNode"])("li",null,[Object(r["createVNode"])(B,{errors:C.errors.utilize_gt,"hide-label":!0},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(E,{modelValue:N.group.expert_panel.utilize_gt,"onUpdate:modelValue":[t[0]||(t[0]=function(e){return N.group.expert_panel.utilize_gt=e}),t[1]||(t[1]=function(e){return N.emitUpdate(),N.checkCompleteness()})],disabled:n.disabled},{default:Object(r["withCtx"])((function(){return[a]})),_:1},8,["modelValue","disabled"])]})),_:1},8,["errors"])]),Object(r["createElementVNode"])("li",null,[Object(r["createVNode"])(B,{errors:C.errors.utilize_gci,"hide-label":!0},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(E,{modelValue:N.group.expert_panel.utilize_gci,"onUpdate:modelValue":[t[2]||(t[2]=function(e){return N.group.expert_panel.utilize_gci=e}),t[3]||(t[3]=function(e){return N.emitUpdate(),N.checkCompleteness()})],disabled:n.disabled},{default:Object(r["withCtx"])((function(){return[i]})),_:1},8,["modelValue","disabled"])]})),_:1},8,["errors"])]),Object(r["createElementVNode"])("li",null,[Object(r["createVNode"])(B,{errors:C.errors.curations_publicly_available,"hide-label":!0},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(E,{modelValue:N.group.expert_panel.curations_publicly_available,"onUpdate:modelValue":[t[4]||(t[4]=function(e){return N.group.expert_panel.curations_publicly_available=e}),t[5]||(t[5]=function(e){return N.emitUpdate(),N.checkCompleteness()})],disabled:n.disabled},{default:Object(r["withCtx"])((function(){return[l]})),_:1},8,["modelValue","disabled"])]})),_:1},8,["errors"])]),Object(r["createElementVNode"])("li",null,[Object(r["createVNode"])(B,{errors:C.errors.pub_policy_reviewed,"hide-label":!0},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(E,{modelValue:N.group.expert_panel.pub_policy_reviewed,"onUpdate:modelValue":[t[6]||(t[6]=function(e){return N.group.expert_panel.pub_policy_reviewed=e}),t[7]||(t[7]=function(e){return N.emitUpdate(),N.checkCompleteness()})],disabled:n.disabled},{default:Object(r["withCtx"])((function(){return[u,Object(r["createVNode"])(T),s]})),_:1},8,["modelValue","disabled"])]})),_:1},8,["errors"])]),Object(r["createElementVNode"])("li",null,[Object(r["createVNode"])(B,{errors:C.errors.draft_manuscripts,"hide-label":!0},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(E,{modelValue:N.group.expert_panel.draft_manuscripts,"onUpdate:modelValue":[t[8]||(t[8]=function(e){return N.group.expert_panel.draft_manuscripts=e}),t[9]||(t[9]=function(e){return N.emitUpdate(),N.checkCompleteness()})],disabled:n.disabled},{default:Object(r["withCtx"])((function(){return[d,p]})),_:1},8,["modelValue","disabled"])]})),_:1},8,["errors"])]),Object(r["createElementVNode"])("li",null,[Object(r["createVNode"])(B,{errors:C.errors.recuration_process_review,"hide-label":!0},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(E,{modelValue:N.group.expert_panel.recuration_process_review,"onUpdate:modelValue":[t[10]||(t[10]=function(e){return N.group.expert_panel.recuration_process_review=e}),t[11]||(t[11]=function(e){return N.emitUpdate(),N.checkCompleteness()})],disabled:n.disabled},{default:Object(r["withCtx"])((function(){return[b,Object(r["createVNode"])(D,null,{default:Object(r["withCtx"])((function(){return[m]})),_:1}),f]})),_:1},8,["modelValue","disabled"])]})),_:1},8,["errors"])])]),Object(r["createElementVNode"])("p",null,[h,Object(r["createVNode"])(G),j,Object(r["createVNode"])(G,null,{default:Object(r["withCtx"])((function(){return[O]})),_:1}),g]),Object(r["createElementVNode"])("ul",v,[Object(r["createElementVNode"])("li",null,[Object(r["createVNode"])(B,{errors:C.errors.biocurator_training,"hide-label":!0},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(E,{modelValue:N.group.expert_panel.biocurator_training,"onUpdate:modelValue":[t[12]||(t[12]=function(e){return N.group.expert_panel.biocurator_training=e}),t[13]||(t[13]=function(e){return N.emitUpdate(),N.checkCompleteness()})],disabled:n.disabled},{default:Object(r["withCtx"])((function(){return[V]})),_:1},8,["modelValue","disabled"])]})),_:1},8,["errors"])]),Object(r["createElementVNode"])("li",null,[Object(r["createVNode"])(E,{modelValue:C.gci_training,"onUpdate:modelValue":[t[14]||(t[14]=function(e){return C.gci_training=e}),t[15]||(t[15]=function(e){return N.emitUpdate(),N.checkCompleteness()})],disabled:n.disabled},{default:Object(r["withCtx"])((function(){return[_]})),_:1},8,["modelValue","disabled"]),Object(r["withDirectives"])(Object(r["createVNode"])(B,{modelValue:N.group.expert_panel.gci_training_date,"onUpdate:modelValue":[t[16]||(t[16]=function(e){return N.group.expert_panel.gci_training_date=e}),t[17]||(t[17]=function(e){return N.emitUpdate(),N.checkCompleteness()})],errors:N.gciTrainingErrors,label:"Date Trained",type:"date",class:"ml-6"},null,8,["modelValue","errors"]),[[r["vShow"],C.gci_training]])]),Object(r["createElementVNode"])("li",null,[Object(r["createVNode"])(B,{errors:C.errors.biocurator_mailing_list,"hide-label":!0},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(E,{modelValue:N.group.expert_panel.biocurator_mailing_list,"onUpdate:modelValue":[t[18]||(t[18]=function(e){return N.group.expert_panel.biocurator_mailing_list=e}),t[19]||(t[19]=function(e){return N.emitUpdate(),N.checkCompleteness()})],disabled:n.disabled},{default:Object(r["withCtx"])((function(){return[k,x,y]})),_:1},8,["modelValue","disabled"])]})),_:1},8,["errors"])])])])}var C=n("1da1"),N=n("2909"),E=(n("96cf"),n("99af"),n("db04")),B={name:"AttestationGcep",props:{disabled:{type:Boolean,required:!1,default:!1}},emits:["update"],data:function(){return{errors:{},gci_training:!1}},computed:{group:{get:function(){return this.$store.getters["groups/currentItemOrNew"]},set:function(e){this.$store.commit("groups/addItem",e)}},gciTrainingErrors:function(){var e=this.errors.gci_training||[],t=this.errors.gci_training_date||[];return[].concat(Object(N["a"])(e),Object(N["a"])(t))},gci_training_comp:function(){return Boolean(this.group.expert_panel.gci_training_date)}},watch:{group:{immediate:!0,handler:function(e){this.gci_training=Boolean(e.expert_panel.gci_training_date)}}},methods:{save:function(){var e=this;return Object(C["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.errors={},t.next=4,E["a"].post("/api/groups/".concat(e.group.uuid,"/application/attestations/gcep"),e.group.expert_panel.attributes);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),Object(E["b"])(t.t0)&&(e.errors=t.t0.response.data.errors);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},emitUpdate:function(){this.$emit("update")},checkCompleteness:function(){this.group.expert_panel.utilize_gt&&this.group.expert_panel.utilize_gci&&this.group.expert_panel.curations_publicly_available&&this.group.expert_panel.pub_policy_reviewed&&this.group.expert_panel.draft_manuscripts&&this.group.expert_panel.recuration_process_review&&this.group.expert_panel.biocurator_training&&null!==this.group.expert_panel.gci_training_date&&this.group.expert_panel.biocurator_mailing_list&&null===this.group.expert_panel.gcep_attestation_date?this.group.expert_panel.gcep_attestation_date=new Date:this.group.expert_panel.gcep_attestation_date=null}}},T=n("6b0d"),D=n.n(T);const G=D()(B,[["render",w]]);t["a"]=G},a266:function(e,t,n){"use strict";var r=n("7a23"),o=Object(r["createElementVNode"])("p",null,[Object(r["createTextVNode"])(" Expert Panels are expected to keep their variant interpretations up-to-date and to expedite the re-review of variants that have a conflicting assertion submitted to ClinVar after the Expert Panel submission. Please check all 3 boxes below to attest that the VCEP will follow the ClinGen-approved schedule described below "),Object(r["createElementVNode"])("strong",null,[Object(r["createElementVNode"])("em",null,"or")]),Object(r["createTextVNode"])(" describe other plans at the bottom of the section. ")],-1),c={class:"ml-4 mt-2"},a=Object(r["createTextVNode"])(" VCEPs are expected to reassess any newly submitted conflicting assertion in ClinVar from a one star submitter or above and attempt to resolve or address the conflict within 6 months of being notified about the conflict from ClinGen. Please reach out to the submitter if you need additional information about the conflicting assertion. "),i=Object(r["createTextVNode"])(" VCEPs are expected to re-review all LP and VUS classifications made by the EP at least every 2 years to see if new evidence has emerged to re-classify the variants "),l=Object(r["createTextVNode"])(" VCEPs are expected to re-review any LB classifications when new evidence is available or when requested by the public via the ClinGen website. "),u=Object(r["createTextVNode"])(" Plans differ from the expectations above. "),s={key:0,class:"ml-4"},d=Object(r["createElementVNode"])("label",{for:"reanalysis-other-textarea"},"Explain differences:",-1),p=["disabled"];function b(e,t,n,b,m,f){var h=Object(r["resolveComponent"])("checkbox"),j=Object(r["resolveComponent"])("input-row");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[o,Object(r["createElementVNode"])("ul",c,[Object(r["createElementVNode"])("li",null,[Object(r["createVNode"])(j,{errors:m.errors.reanalysis_conflicting,"hide-label":!0},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(h,{modelValue:f.group.expert_panel.reanalysis_conflicting,"onUpdate:modelValue":[t[0]||(t[0]=function(e){return f.group.expert_panel.reanalysis_conflicting=e}),t[1]||(t[1]=function(t){return e.$emit("update"),f.checkCompleteness()})],disabled:n.disabled},{default:Object(r["withCtx"])((function(){return[a]})),_:1},8,["modelValue","disabled"])]})),_:1},8,["errors"])]),Object(r["createElementVNode"])("li",null,[Object(r["createVNode"])(j,{errors:m.errors.reanalysis_review_lp,"hide-label":!0},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(h,{modelValue:f.group.expert_panel.reanalysis_review_lp,"onUpdate:modelValue":[t[2]||(t[2]=function(e){return f.group.expert_panel.reanalysis_review_lp=e}),t[3]||(t[3]=function(t){return e.$emit("update"),f.checkCompleteness()})],disabled:n.disabled},{default:Object(r["withCtx"])((function(){return[i]})),_:1},8,["modelValue","disabled"])]})),_:1},8,["errors"])]),Object(r["createElementVNode"])("li",null,[Object(r["createVNode"])(j,{errors:m.errors.reanalysis_review_lb,"hide-label":!0},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(h,{modelValue:f.group.expert_panel.reanalysis_review_lb,"onUpdate:modelValue":[t[4]||(t[4]=function(e){return f.group.expert_panel.reanalysis_review_lb=e}),t[5]||(t[5]=function(t){return e.$emit("update"),f.checkCompleteness()})],disabled:n.disabled},{default:Object(r["withCtx"])((function(){return[l]})),_:1},8,["modelValue","disabled"])]})),_:1},8,["errors"])]),Object(r["createElementVNode"])("li",null,[Object(r["createVNode"])(j,{errors:m.errors.reanalysis_other,"hide-label":!0},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(h,{modelValue:m.otherCheckbox,"onUpdate:modelValue":[t[6]||(t[6]=function(e){return m.otherCheckbox=e}),t[7]||(t[7]=function(t){return e.$emit("update"),f.checkCompleteness()})],disabled:n.disabled},{default:Object(r["withCtx"])((function(){return[u]})),_:1},8,["modelValue","disabled"]),Object(r["createVNode"])(r["Transition"],{name:"slide-fade-down"},{default:Object(r["withCtx"])((function(){return[m.otherCheckbox?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",s,[d,Object(r["withDirectives"])(Object(r["createElementVNode"])("textarea",{"onUpdate:modelValue":[t[8]||(t[8]=function(e){return f.group.expert_panel.reanalysis_other=e}),t[9]||(t[9]=function(t){return e.$emit("update"),f.checkCompleteness()})],class:"w-full",id:"reanalysis-other-textarea",disabled:n.disabled},null,8,p),[[r["vModelText"],f.group.expert_panel.reanalysis_other]])])):Object(r["createCommentVNode"])("",!0)]})),_:1})]})),_:1},8,["errors"])])])])}var m=n("1da1"),f=(n("96cf"),n("f96b")),h=n("033d"),j={name:"ReanalysisForm",props:{disabled:{type:Boolean,required:!1,default:!1}},emits:["update"],data:function(){return{errors:{},otherCheckbox:!1}},computed:{group:{get:function(){return this.$store.getters["groups/currentItemOrNew"]},set:function(e){this.$store.commit("groups/addItem",e)}}},watch:{otherCheckbox:function(e){e||(this.group.expert_panel.reanalysis_other=null)}},methods:{save:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.errors={},t.next=4,f["a"].post("/api/groups/".concat(e.group.uuid,"/application/attestations/reanalysis"),e.group.expert_panel);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),Object(h["a"])(t.t0)&&(e.errors=t.t0.response.data.errors);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},checkCompleteness:function(){var e=this.group.expert_panel.reanalysis_conflicting&&this.group.expert_panel.reanalysis_review_lp&&this.group.expert_panel.reanalysis_review_lb;e||this.otherCheckbox&&Boolean(this.group.expert_panel.reanalysis_other)&&null===this.group.expert_panel.gcep_attestation_date?this.group.expert_panel.reanalysis_attestation_date=new Date:this.group.expert_panel.reanalysis_attestation_date=null}}},O=n("6b0d"),g=n.n(O);const v=g()(j,[["render",b]]);t["a"]=v},a8af:function(e,t,n){"use strict";var r=n("7a23"),o={class:"flex justify-between items-center"},c=Object(r["createElementVNode"])("h4",null,"Description of Scope",-1),a={class:"mt-2"},i={key:1};function l(e,t,n,l,u,s){var d=Object(r["resolveComponent"])("edit-icon-button"),p=Object(r["resolveComponent"])("input-row"),b=Object(r["resolveComponent"])("markdown-block");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[Object(r["createElementVNode"])("header",o,[c,e.hasAnyPermission(["groups-manage",["application-edit",s.group]])&&!n.editing?(Object(r["openBlock"])(),Object(r["createBlock"])(d,{key:0,onClick:t[0]||(t[0]=function(t){return e.$emit("update:editing",!0)})})):Object(r["createCommentVNode"])("",!0)]),Object(r["createElementVNode"])("div",a,[Object(r["createVNode"])(r["Transition"],{name:"fade",mode:"out-in"},{default:Object(r["withCtx"])((function(){return[n.editing?(Object(r["openBlock"])(),Object(r["createBlock"])(p,{key:0,modelValue:s.group.expert_panel.scope_description,"onUpdate:modelValue":[t[1]||(t[1]=function(e){return s.group.expert_panel.scope_description=e}),t[2]||(t[2]=function(t){return e.$emit("update")})],errors:n.errors.scope_description,type:"large-text",label:"Describe the scope of work of the Expert Panel including the disease area(s), genes being addressed, and any specific rational for choosing the condition(s).",vertical:""},null,8,["modelValue","errors"])):(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",i,[s.group.expert_panel.scope_description?(Object(r["openBlock"])(),Object(r["createBlock"])(b,{key:0,markdown:s.group.expert_panel.scope_description},null,8,["markdown"])):(Object(r["openBlock"])(),Object(r["createElementBlock"])("p",{key:1,class:"well cursor-pointer",onClick:t[3]||(t[3]=function(){return e.showForm&&e.showForm.apply(e,arguments)})}," A description of expertise has not yet been provided. "))]))]})),_:1})])])}var u=n("ae23"),s={name:"scopeDescriptionForm",props:{editing:{type:Boolean,required:!1,default:!0},errors:{type:Object,required:!1,default:function(){return{}}}},emits:["update:editing","update:group","update"],computed:{group:{get:function(){return this.$store.getters["groups/currentItem"]||new u["a"]},set:function(e){this.$store.commit("groups/addItem",e)}},scopeDescription:{get:function(){return this.group.expert_panel.scope_description},set:function(e){var t=this.group.clone();t.expert_panel.scope_description=e,this.$emit("update:group",t)}}}},d=n("6b0d"),p=n.n(d);const b=p()(s,[["render",l]]);t["a"]=b},fefd:function(e,t,n){"use strict";var r=n("7a23");function o(e,t,n,o,c,a){var i=Object(r["resolveComponent"])("cspec-summary"),l=Object(r["resolveComponent"])("application-upload-form");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[a.cspecSummaryEnabled?(Object(r["openBlock"])(),Object(r["createBlock"])(i,{key:0})):Object(r["createCommentVNode"])("",!0),a.specificationUpload?(Object(r["openBlock"])(),Object(r["createBlock"])(l,{key:1,"document-type-id":n.docTypeId,"show-notes":!1},null,8,["document-type-id"])):Object(r["createCommentVNode"])("",!0)])}n("a9e3");var c=n("abba"),a={key:0,class:"table"},i=Object(r["createElementVNode"])("th",null,"File",-1),l={key:0},u=Object(r["createElementVNode"])("th",null,"uploaded",-1),s=Object(r["createElementVNode"])("th",null,null,-1),d=["href"],p={class:"note"},b={key:0},m=Object(r["createElementVNode"])("button",{class:"btn btn-xs"},"…",-1),f=Object(r["createTextVNode"])("Download"),h=Object(r["createTextVNode"])("Delete"),j={type:"file",ref:"fileInput"},O={key:0},g={key:0,class:"mb-3"},v=Object(r["createElementVNode"])("p",null,"Are you sure you want to continue?",-1);function V(e,t,n,o,c,V){var _=Object(r["resolveComponent"])("dropdown-item"),k=Object(r["resolveComponent"])("dropdown-menu"),x=Object(r["resolveComponent"])("input-row"),y=Object(r["resolveComponent"])("button-row"),w=Object(r["resolveComponent"])("modal-dialog");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[V.documents.length>0?(Object(r["openBlock"])(),Object(r["createElementBlock"])("table",a,[Object(r["createElementVNode"])("thead",null,[Object(r["createElementVNode"])("tr",null,[i,V.docTypeIsArray?(Object(r["openBlock"])(),Object(r["createElementBlock"])("th",l,"Type")):Object(r["createCommentVNode"])("",!0),u,s])]),Object(r["createElementVNode"])("tbody",null,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(V.documents,(function(t){return Object(r["openBlock"])(),Object(r["createElementBlock"])("tr",{key:t.id,class:"p-1 border"},[Object(r["createElementVNode"])("td",null,[Object(r["createElementVNode"])("a",{href:t.download_url},Object(r["toDisplayString"])(t.filename),9,d),Object(r["createElementVNode"])("span",p," (v. "+Object(r["toDisplayString"])(t.version)+")",1)]),V.docTypeIsArray?(Object(r["openBlock"])(),Object(r["createElementBlock"])("td",b,Object(r["toDisplayString"])(t.type.long_name),1)):Object(r["createCommentVNode"])("",!0),Object(r["createElementVNode"])("td",null,Object(r["toDisplayString"])(e.formatDate(t.created_at)),1),Object(r["createElementVNode"])("td",null,[Object(r["createVNode"])(k,{hideCheveron:""},{label:Object(r["withCtx"])((function(){return[m]})),default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(_,{onClick:function(e){return V.initDownload(t)}},{default:Object(r["withCtx"])((function(){return[f]})),_:2},1032,["onClick"]),e.hasAnyPermission(["ep-applications-manage",["application-edit",V.group]])?(Object(r["openBlock"])(),Object(r["createBlock"])(_,{key:0,onClick:function(e){return V.initDelete(t)}},{default:Object(r["withCtx"])((function(){return[h]})),_:2},1032,["onClick"])):Object(r["createCommentVNode"])("",!0)]})),_:2},1024)])])})),128))])])):Object(r["createCommentVNode"])("",!0),V.docTypeIsArray?(Object(r["openBlock"])(),Object(r["createBlock"])(x,{key:1,label:"Document type",type:"select",options:V.filteredTypes,modelValue:c.newDocument.document_type_id,"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.newDocument.document_type_id=e})},null,8,["options","modelValue"])):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(x,{label:"Document",errors:c.errors.file},{default:Object(r["withCtx"])((function(){return[Object(r["createElementVNode"])("input",j,null,512)]})),_:1},8,["errors"]),Object(r["createElementVNode"])("button",{class:"btn blue",onClick:t[1]||(t[1]=function(){return V.save&&V.save.apply(V,arguments)})},"Upload"),(Object(r["openBlock"])(),Object(r["createBlock"])(r["Teleport"],{to:"body"},[Object(r["createVNode"])(w,{modelValue:c.showDeleteConfirmation,"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.showDeleteConfirmation=e}),title:"You are about to delete ".concat(c.activeDocument.filename)},{default:Object(r["withCtx"])((function(){return[c.activeDocument?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",O,[c.activeDocument.is_final?(Object(r["openBlock"])(),Object(r["createElementBlock"])("p",g," This version has been tagged as the final version of the document. ")):Object(r["createCommentVNode"])("",!0),v,Object(r["createVNode"])(y,{"submit-text":"Delete Document",onCanceled:V.cancelDelete,onSubmitted:V.commitDelete},null,8,["onCanceled","onSubmitted"])])):Object(r["createCommentVNode"])("",!0)]})),_:1},8,["modelValue","title"])]))])}var _=n("1da1"),k=(n("96cf"),n("4de4"),n("d3b7"),n("caad"),n("2532"),n("d81d"),n("07ac"),n("159b"),n("b64b"),n("e328")),x=n("db04"),y=n("4a91"),w={props:{documentTypeId:{type:[Number,Array],required:!0},step:{type:Number,required:!1,default:null},showNotes:{type:Boolean,default:!0}},emits:["saved"],data:function(){return{newDocument:{file:null,date_received:(new Date).toISOString(),step:this.step,document_type_id:this.docTypeIsArray?null:this.documentTypeId},errors:{},activeDocument:{},showDeleteConfirmation:!1}},computed:{group:function(){return this.$store.getters["groups/currentItemOrNew"]},documents:function(){var e=this;return this.group.documents.filter((function(t){return e.docTypeIsArray?e.documentTypeId.includes(t.document_type_id):t.document_type_id==e.documentTypeId}))},docTypeIsArray:function(){return Array.isArray(this.documentTypeId)},filteredTypes:function(){var e=this;return this.docTypeIsArray?(console.log(this.docTypeIsArray,this.documentTypeId),Object.values(y["documentsTypes"]).filter((function(t){return e.documentTypeId.includes(t.id)})).map((function(e){return{label:e.long_name,value:e.id}}))):[]}},methods:{save:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n=new FormData,Object.keys(e.newDocument).forEach((function(t){var r=e.newDocument[t];null!=r&&n.append(t,r)})),n.append("file",e.$refs.fileInput.files[0]),t.next=6,e.$store.dispatch("groups/addApplicationDocument",{group:e.group,data:n});case 6:e.clearForm(),e.$emit("saved"),t.next=15;break;case 10:if(t.prev=10,t.t0=t["catch"](0),!Object(x["b"])(t.t0)){t.next=15;break}return e.errors=t.t0.response.data.errors,t.abrupt("return");case 15:case"end":return t.stop()}}),t,null,[[0,10]])})))()},cancel:function(){this.clearForm(),this.$emit("canceled")},clearForm:function(){this.initNewDocument(),this.clearErrors()},initNewDocument:function(){this.$refs.fileInput.value=null,this.newDocument={file:null,date_received:Object(k["b"])(new Date),date_reviewed:null,step:this.step,document_type_id:this.documentTypeId,notes:null}},clearErrors:function(){this.errors={}},initDownload:function(e){window.location=e.download_url},initDelete:function(e){this.activeDocument=e,this.showDeleteConfirmation=!0},cancelDelete:function(){this.showDeleteConfirmation=!1,this.resetActiveDocument()},commitDelete:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("groups/deleteDocument",{group:e.group,document:e.activeDocument});case 2:e.showDeleteConfirmation=!1,e.resetActiveDocument();case 4:case"end":return t.stop()}}),t)})))()},resetActiveDocument:function(){this.activeDocument={type:{}}}},mounted:function(){this.$store.dispatch("groups/getDocuments",this.group)}},C=n("6b0d"),N=n.n(C);const E=N()(w,[["render",V]]);var B=E,T={name:"SpecificationsSection",props:{docTypeId:{required:!0,type:[Number,Array]}},components:{CspecSummary:c["a"],ApplicationUploadForm:B},data:function(){return{}},computed:{cspecSummaryEnabled:function(){return this.$store.state.systemInfo.app.features.cspec_summary},specificationUpload:function(){return this.$store.state.systemInfo.app.features.specification_upload}},methods:{}};const D=N()(T,[["render",o]]);t["a"]=D}}]);
//# sourceMappingURL=group-application~group-detail.d0f225e9.js.map