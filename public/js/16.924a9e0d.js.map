{"version":3,"file":"js/16.924a9e0d.js","mappings":"wFAAA,IAAIA,EAAkB,EAAQ,MAC1BC,EAAS,EAAQ,MACjBC,EAAiB,UAEjBC,EAAcH,EAAgB,eAC9BI,EAAiBC,MAAMC,eAIQC,GAA/BH,EAAeD,IACjBD,EAAeE,EAAgBD,EAAa,CAC1CK,cAAc,EACdC,MAAOR,EAAO,QAKlBS,EAAOC,QAAU,SAAUC,GACzBR,EAAeD,GAAaS,IAAO,CACrC,C,sBCnBA,IAAIC,EAAoB,EAAQ,MAEhCH,EAAOC,QAAU,SAAUG,EAAaC,GACtC,IAAIC,EAAQ,EACRC,EAASJ,EAAkBE,GAC3BG,EAAS,IAAIJ,EAAYG,GAC7B,MAAOA,EAASD,EAAOE,EAAOF,GAASD,EAAKC,KAC5C,OAAOE,CACT,C,uBCRA,IAAIC,EAAS,EAAQ,KAErBT,EAAOC,QAAU,SAAUS,GACzB,OAAOD,EAAOC,GAAad,SAC7B,C,oCCHA,IAAIe,EAAI,EAAQ,MACZC,EAAc,EAAQ,KACtBC,EAAY,EAAQ,MACpBC,EAAkB,EAAQ,MAC1BC,EAA8B,EAAQ,KACtCC,EAAa,EAAQ,MACrBC,EAAmB,EAAQ,KAE3BC,EAASvB,MACTwB,EAAOP,EAAYI,EAAW,SAASG,MAI3CR,EAAE,CAAES,OAAQ,QAASC,OAAO,GAAQ,CAClCC,SAAU,SAAkBC,QACR1B,IAAd0B,GAAyBV,EAAUU,GACvC,IAAIC,EAAIV,EAAgBW,MACpBC,EAAIX,EAA4BG,EAAQM,GAC5C,OAAOL,EAAKO,EAAGH,EACjB,IAGFN,EAAiB,W,oFCpBjB,MAAMU,EAAQ,CACVC,SAAU,EACVC,WAAY,EACZC,YAAa,GAGjB,KAAgBC,EAAaC,KACzB,MAAMC,GAAWC,EAAAA,EAAAA,IAAI,IAEfC,GAAeC,EAAAA,EAAAA,KAAS,IAAMH,EAASlC,MAAMsC,QAAOC,IAAMA,EAAEC,gBAC5DC,GAAmBJ,EAAAA,EAAAA,KAAS,IAAMD,EAAapC,MAAMsC,QAAOC,GAAMA,EAAEG,iBAAmBd,EAAMG,gBAC7FY,GAAkBN,EAAAA,EAAAA,KAAS,IAAMD,EAAapC,MAAMsC,QAAOC,GAAMA,EAAEG,iBAAmBd,EAAME,eAC5Fc,GAAgBP,EAAAA,EAAAA,KAAS,IAAM,IAAII,EAAiBzC,SAAU2C,EAAgB3C,SAC9E6C,GAAeR,EAAAA,EAAAA,KAAS,IAAMD,EAAapC,MAAMsC,QAAOC,GAAKA,EAAEG,iBAAmBd,EAAMC,aAExFiB,EAAoBC,GACfb,EAASlC,MAAMgD,WAAUT,GAAKA,EAAEU,IAAMF,EAAQE,KAGnDC,EAAcC,UAChBjB,EAASlC,YAAcoD,EAAAA,EAAkBC,MAAM,CAACC,MAAO,CACnDC,aAAcvB,EACdwB,WAAYvB,IACb,EAGDwB,EAAcV,GAAYb,EAASlC,MAAM0D,KAAKX,GAC9CY,EAAiBZ,GAAYb,EAASlC,MAAM4D,OAAOd,EAAiBC,GAAU,GAC9Ec,EAAiBd,GAAYb,EAASlC,MAAM8C,EAAiBC,IAAYA,EAE/E,MAAO,CACHe,QAAS,CACLC,KAAM/B,EACNiB,GAAIhB,GAERC,WACAE,eACAK,mBACAE,kBACAE,eACAK,cACAO,aACAE,gBACAE,gBACAjB,gBAEP,C,yFC/Cc,MAAMoB,EACjBC,WAAAA,CAAaC,EAASC,EAAU,CAAC,GAC7BzC,KAAKwC,QAAUA,EACfxC,KAAKyC,QAAUA,CACnB,CAEAd,KAAAA,CAAOe,GACH,MAAMC,GAAcC,EAAAA,EAAAA,IAAsBF,GAC1C,OAAOG,EAAAA,GAAIC,IAAI9C,KAAKwC,QAAQG,GAAaI,MAAKC,GAAahD,KAAKiD,kBAAkBD,EAASE,OAC/F,CAEAC,IAAAA,CAAM5B,GACF,OAAOsB,EAAAA,GAAIC,IAAI,GAAG9C,KAAKwC,WAAWjB,KAAMwB,MAAKC,GAAYhD,KAAKiD,kBAAkBD,EAASE,OAC7F,CAECE,IAAAA,CAAMF,GACH,OAAOL,EAAAA,GAAIQ,KAAKrD,KAAKwC,QAASU,GAAMH,MAAKC,GAAYhD,KAAKiD,kBAAkBD,EAASE,OACzF,CAECI,MAAAA,CAAQJ,GACL,OAAOL,EAAAA,GAAIU,IAAI,GAAGvD,KAAKwC,WAAWU,EAAK3B,KAAM2B,GAAMH,MAAKC,GAAYhD,KAAKiD,kBAAkBD,EAASE,OACxG,CAECM,OAAAA,CAASC,GACN,OAAOZ,EAAAA,GAAIa,OAAO,GAAG1D,KAAKwC,WAAWiB,EAAKlC,KAC9C,CAEA0B,iBAAAA,CAAkBQ,GACd,OAAKzD,KAAKyC,QAAQkB,aAIdzF,MAAM0F,QAAQH,GACPA,EAAKI,KAAIC,GAAK,IAAI9D,KAAKyC,QAAQkB,YAAYG,KAJ3CL,CAOf,E,2DClCJ,MAAM/B,EAAqB,IAAIY,EAAAA,EAAe,iBAC9CZ,EAAkBqC,QAAWxC,GAClBsB,EAAAA,GAAIQ,KAAK,iBAAiB9B,cACxBwB,MAAKC,GAAYA,EAASE,OAEvCxB,EAAkBsC,UAAazC,GACpBsB,EAAAA,GAAIQ,KAAK,iBAAiB9B,gBACxBwB,MAAKC,GAAYA,EAASE,OAKvC,K,6QCJUe,EAAkB,CACpB,MAAS,EACT,YAAe,EACf,gBAAiB,EACjB,WAAc,EACd,OAAU,GAGRC,EAAgBC,GACXF,EAAgBE,EAAKC,eAAiBC,IAG3CC,GAAY7D,EAAAA,EAAAA,IAAI,CAClB8D,MAAO,QACPC,MAAM,IAGJC,EAAWA,CAACC,EAAGC,KACjB,IAAIC,EAAMF,EAAEG,UAAUC,cAAcH,EAAEE,WAItC,OAHY,IAARD,IACAA,EAAMF,EAAEK,WAAWD,cAAcH,EAAEI,aAEhCH,CAAG,EAGRI,GAASvE,EAAAA,EAAAA,IAAI,CACf,CACIwE,KAAM,OACNC,UAAU,EACVC,MAAO,OACPC,aAAcX,GAElB,CACIQ,KAAM,qBACNC,UAAU,EACVC,MAAO,eAEX,CACIF,KAAM,QACNC,UAAU,EACVC,MAAO,QACPC,aAAcA,CAACV,EAAGC,IACPD,EAAEW,cAAgBV,EAAEU,eAGnC,CACIJ,KAAM,mBACNC,UAAU,EACVC,MAAO,aAEX,CACIF,KAAM,cACNC,UAAU,EACVC,MAAO,iBAITG,GAAY3E,EAAAA,EAAAA,KAAU,IACjB4E,EAAMC,QAAQ3B,KAAI4B,IACrB,MAAMC,EAAQD,EAAEC,MAAM7F,UAAS,CAAC6E,EAAGC,IAAMD,EAAEnD,GAAKoD,EAAEpD,KAClD,MAAO,CACHA,GAAIkE,EAAElE,GACNwD,WAAYU,EAAEE,OAAOZ,WACrBF,UAAWY,EAAEE,OAAOd,UACpBI,KAAMQ,EAAEE,OAAOV,KACfW,YAAaH,EAAEE,OAAOC,aAAaX,KACnCY,mBAAoBJ,EAAEE,OAAOE,mBAC7BC,iBAAkBL,EAAEK,iBACpBJ,MAAOA,EACPL,cAAeU,KAAKC,OAAON,EAAM7B,IAAIK,IACrC+B,OAAQR,EAAES,SACVP,OAAQF,EAAEE,OACb,IACF/E,QAAO6E,GAAKA,EAAEQ,WAGfE,EAAaA,CAACC,EAAK3H,KAEhB2H,EAAI3H,KACL2H,EAAI3H,GAAO,GAEf2H,EAAI3H,IAAM,EAGR4H,GAAS1F,EAAAA,EAAAA,KAAS,KACpB,MAAM0F,EAAS,CAAC,EAUhB,OATAA,EAAO,SAAWf,EAAUhH,MAAMQ,OAClCwH,QAAQC,IAAIjB,EAAUhH,OACtBkI,OAAOC,KAAKxC,GAAiByC,SAAQC,GAAKN,EAAOM,GAAK,IACtDrB,EAAUhH,MAAMoI,SAAQjB,IACpBA,EAAEC,MAAMgB,SAAQC,GAAKR,EAAWE,EAAQM,EAAEvC,gBACnB,IAAnBqB,EAAEC,MAAM5G,QACRqH,EAAWE,EAAQ,OACvB,IAEGA,CAAM,I,owBCxGrB,MAAMO,EAAc,EAEpB,Q,yVCEI,MAAMC,GAAQC,EAAAA,EAAAA,MACRC,GAAQpG,EAAAA,EAAAA,KAAS,IAAMkG,EAAMG,QAAQ,6BACrCC,GAActG,EAAAA,EAAAA,KAAS,IAAMoG,EAAMzI,MAAM4I,eACzC1B,GAAU7E,EAAAA,EAAAA,KAAU,IACjBoG,EAAMzI,MAGJyI,EAAMzI,MAAMkH,QAFR,KAKT2B,GAAYxG,EAAAA,EAAAA,KAAS,KAChB,CACH0B,KAAM0E,EAAMzI,MAAM+D,KAAK4C,KAAO8B,EAAMzI,MAAM+D,KAAK4C,KAAKmC,cAAgB,GACpEC,eAAgBJ,EAAY3I,MAAM+I,eAClCC,gBAAiBL,EAAY3I,MAAMgJ,oB,0lGClB/C,MAAM,EAAc,EAEpB,O,kKCFA,MAAMC,EACFhF,WAAAA,CAAYyC,EAAQwC,GAChBxH,KAAKgF,OAASA,EACdhF,KAAKyH,KAAOD,EAEZxH,KAAK0H,aAAcjH,EAAAA,EAAAA,IAAI,CAAC,GACxBT,KAAK2H,cAAelH,EAAAA,EAAAA,IAAI,CAAC,GACzBT,KAAK4H,QAASnH,EAAAA,EAAAA,IAAI,CAAC,EACvB,CAEC,UAAM0C,CAAM5B,GACT,aAAavB,KAAKyH,KAAKtE,KAAK5B,GACvBwB,MAAKG,IACFlD,KAAK0H,YAAYpJ,MAAQ4E,EACzBlD,KAAK2H,aAAarJ,MAAQ4E,EACnBA,IAEnB,CAEC,UAAME,CAAMF,GACTlD,KAAK6H,cACL,IACI,MAAMC,QAAgB9H,KAAKyH,KAAKrE,KAAKF,GAErC,OADAlD,KAAK+H,mBACED,CACX,CAAE,MAAOE,GAIL,MAHIC,EAAAA,EAAAA,IAAkBD,KAClBhI,KAAK4H,OAAOtJ,MAAQ0J,EAAEhF,SAASE,KAAK0E,QAElCI,CACV,CACJ,CAEC,YAAM1E,CAAQJ,GACXlD,KAAK6H,cACL,IAEI,OADA7H,KAAK0H,YAAYpJ,MAAQ0B,KAAKyH,KAAKnE,OAAOJ,GACnClD,KAAK0H,YAAYpJ,KAC5B,CAAE,MAAO0J,GAIL,MAHIC,EAAAA,EAAAA,IAAkBD,KAClBhI,KAAK4H,OAAOtJ,MAAQ0J,EAAEhF,SAASE,KAAK0E,QAElCI,CACV,CACJ,CAEC,aAAMxE,CAASC,GACZzD,KAAKyH,KAAKjE,QAAQC,EACtB,CAEAyE,MAAAA,GACIlI,KAAK6H,cACA7H,KAAK0H,YAAYpJ,MAAMiD,IACxBvB,KAAK+H,kBAGb,CAEAA,gBAAAA,GACI/H,KAAK0H,YAAYpJ,MAAQ,CAAC,CAC9B,CAEAuJ,WAAAA,GACI7H,KAAK4H,OAAOtJ,MAAQ,CAAC,CACzB,EAGJ,Q,oBCpEA,MAAM6J,UAA8B7F,EAAAA,EAEhCC,WAAAA,CAAaC,EAASC,EAAU,CAAC,GAC7B2F,MAAM5F,EAASC,GACfzC,KAAKqI,WAAa,IACtB,CAEA1G,KAAAA,CAAOe,GACH,IAAK1C,KAAKqI,WAAY,CAClB,MAAMC,EAAUF,MAAMzG,MAAMe,GAC5B1C,KAAKqI,WAAaC,CACtB,CAEA,OAAOtI,KAAKqI,UAChB,CAGAlF,IAAAA,CAAM5B,GACF,MAAMgH,MAAM,6CAChB,CAGAnF,IAAAA,CAAMF,GACF,MAAMqF,MAAM,6CAChB,CAGAjF,MAAAA,CAAQ/B,GACJ,MAAMgH,MAAM,+CAChB,CAGA/E,OAAAA,CAASjC,GACL,MAAMgH,MAAM,gDAChB,EAGG,MAAMC,EAAkB,IAAIL,EAAsB,sBACzD,QCnCO,MAAMM,GAAehI,EAAAA,EAAAA,IAAI,IACnBiI,EAAkBjH,eACd+G,EAAe7G,QACnBoB,MAAK4F,IACFF,EAAanK,MAAQqK,EAAM9E,KAAIC,IAAK,CAAEqB,MAAOrB,EAAEmB,KAAM3G,MAAOwF,EAAEvC,OACvDkH,EAAanK,SAIvB0G,GAASvE,EAAAA,EAAAA,IAAI,CACtB,CACIwE,KAAM,kBACNE,MAAO,OACP9C,KAAM,SACNI,QAASgG,EACTG,UAAU,GAEd,CACI3D,KAAM,UACNE,MAAO,UACP9C,KAAM,aACNuG,UAAU,KAKlB,WACIF,IAEQ,IAAInB,EAAevC,EAAQtD,EAAAA,I,wVC9B7BqF,GAAQ8B,EAAAA,EAAAA,IAAO,UA4BrBC,EAAAA,EAAAA,KAAU,KACFvD,EAAMlE,UACN0H,EAAQrB,YAAYpJ,MAAQiH,EAAMlE,QACtC,IAKJ,MAAM0H,EAAUC,IAEVhE,GAASrE,EAAAA,EAAAA,KAAS,KACpB,MAAMqE,EAAS,IAAI+D,EAAQ/D,OAAO1G,OAClC,GAAIiH,EAAM0D,aAAc,CACpB,MAAMC,EAAelE,EAAO1D,WAAU6H,GAAe,mBAAVA,EAAElE,OAC7CD,EAAO9C,OAAOgH,EAAc,EAChC,CACA,OAAOlE,CAAM,IAEX4C,GAASjH,EAAAA,EAAAA,KAAS,IACboI,EAAQnB,OAAOtJ,QAGpB8K,GAAazI,EAAAA,EAAAA,IAAS,CACxBmC,GAAAA,GACI,OAAOiG,EAAQrB,YAAYpJ,KAC/B,EACA+K,GAAAA,CAAK/K,GACDyK,EAAQrB,YAAYpJ,MAAQA,CAChC,IAGE4J,EAASA,KACXa,EAAQhB,mBACRgB,EAAQlB,cACRyB,EAAM,WAAW,EAGfxL,EAASA,KACXsL,EAAW9K,MAAMuD,aAAe0D,EAAMjF,YACtC8I,EAAW9K,MAAMwD,WAAayD,EAAMhF,WAAawG,EAAMzI,MAAMiD,GAC7D6H,EAAW9K,MAAMiL,SAAW,CACxBC,QAASjE,EAAMiE,QAEfC,kBAAmB,qCACnBC,gBAAiB3C,EAAMzI,MAAMiD,IAG7BgE,EAAM0D,eACNG,EAAW9K,MAAM0C,gBAAkB,GAEvC+H,EAAQ3F,KAAKgG,EAAW9K,OACnByE,MAAK1B,IACFkE,EAAMoE,eAAe5H,WAAWV,GAChCiI,EAAM,QAASjI,EAAQ,GACzB,EAGJiC,EAASA,KACPiC,EAAM0D,eACNG,EAAW9K,MAAM0C,gBAAkB,GAEvC+H,EAAQzF,OAAO8F,EAAW9K,OACrByE,MAAK1B,IACFkE,EAAMoE,eAAexH,cAAcd,GACnCiI,EAAM,QAASjI,EAAQ,GACzB,EAGJ+B,EAAOA,KACLgG,EAAW9K,MAAMiD,GACjB+B,IAGJxF,GAAQ,E,4WCtGhB,MAAM8I,EAAc,EAEpB,Q,orBCKUC,GAAQC,EAAAA,EAAAA,MAERiC,EAAUa,IAaVC,GAAepJ,EAAAA,EAAAA,KAAIqJ,EAAAA,EAAAA,GAAsB,uBAAwBvE,EAAMlE,QAAQE,KAE/EwI,GAAetJ,EAAAA,EAAAA,KAAI,GACnBuJ,GAAoBvJ,EAAAA,EAAAA,KAAI,GAExBwJ,EAAa5I,IACf,IAAKA,EAAQgB,KACT,MAAO,OAEX,OAAQhB,EAAQgB,KAAK4C,MACjB,IAAK,oBACD,MAAO,SACX,IAAK,aACD,MAAO,OACX,IAAK,mBACD,MAAO,OACX,QAEI,MACR,EAGEiF,EAAaA,KACfF,EAAkB1L,OAAQ,CAAI,EAE5B6L,EAAgBA,KAClBpB,EAAQvF,QAAQ+B,EAAMlE,SACjB0B,MAAK,KACFiH,EAAkB1L,OAAQ,EAC1BiH,EAAMoE,eAAe1H,cAAcsD,EAAMlE,SACzCiI,EAAM,UAAW/D,EAAMlE,QAAQ,GACjC,EAGJ+I,EAAmB3I,UACrB,GAAI8D,EAAMlE,QAAQP,YAAa,CAC3B,MAAMuJ,QAAmB3I,EAAAA,EAAkBsC,UAAUuB,EAAMlE,QAAQE,IAInE,OAHAgE,EAAMoE,eAAexH,cAAckI,GACnCf,EAAM,gBACNA,EAAM,WAEV,CAEA,MAAMe,QAAmB3I,EAAAA,EAAkBqC,QAAQwB,EAAMlE,QAAQE,IACjEgE,EAAMoE,eAAexH,cAAckI,GACnCf,EAAM,WACNA,EAAM,aAAa,EAGjBgB,GAAgB7J,EAAAA,EAAAA,KAAI,GACpB8J,EAAgB9I,UACb6I,EAAchM,OACfkM,IAEJF,EAAchM,OAASgM,EAAchM,KAAK,EAGxCkM,EAAcA,KAChBX,EAAavL,MAAMkD,cACduB,MAAK0H,IACFH,EAAchM,OAAQ,EACfmM,IACT,EAGJC,GAAgBjK,EAAAA,EAAAA,KAAI,GACpBkK,EAAYA,IAAMD,EAAcpM,OAAQ,EACxCsM,EAAiBA,KACnB,MAAMC,EAAe,IAAItF,EAAMlE,SAC/BwJ,EAAaC,gBAAkB,EAC/BvF,EAAMoE,eAAexH,cAAc0I,GACnCP,EAAchM,OAAQ,EACtBoM,EAAcpM,OAAQ,CAAK,EAEzByM,EAAqBA,KACvB,MAAMF,EAAe,IAAItF,EAAMlE,SAC/BwJ,EAAaC,gBAAkB,EAC/BvF,EAAMoE,eAAexH,cAAc0I,EAAa,GAGpD/B,EAAAA,EAAAA,KAAU,KACNe,EAAavL,MAAMkD,aAAa,IAGpC,MAAMwJ,GAAUrK,EAAAA,EAAAA,KAAS,KAAMsK,EAAAA,EAAAA,IAAc,oBAAsBpE,EAAMG,QAAQkE,YAAYvF,OAAOpE,IAAMgE,EAAMlE,QAAQ8J,a,ioFC1G5H,MAAM,EAAc,EAEpB,Q,ugBCAUxB,GAAiBd,EAAAA,EAAAA,IAAO,kBAcxBuC,GAAkB3K,EAAAA,EAAAA,KAAI,GAEtB4K,GAAe5K,EAAAA,EAAAA,KAAI,GACnB6K,GAAkB3K,EAAAA,EAAAA,KAAS,IACxBgJ,EAGEA,EAAerL,MAAMkC,SAASI,QAAOC,KACpCA,EAAE0I,UACK1I,EAAE0I,SAASC,SAAWjE,EAAMN,OAJhC,KAUTsG,GAAa5K,EAAAA,EAAAA,KAAS,IACnBgJ,EAGD2B,EAAgBhN,MAAM6E,MAAKtC,GAAoB,qBAAfA,EAAEwB,KAAK4C,OAChC,SAEPqG,EAAgBhN,MAAM6E,MAAKtC,GAAoB,cAAfA,EAAEwB,KAAK4C,OAChC,OAEJ,OARI,O,k9CCjCnB,MAAM,EAAc,EAEpB,Q,4TCCI,MAAM4B,GAAQC,EAAAA,EAAAA,MACRC,GAAQpG,EAAAA,EAAAA,KAAS,IAAMkG,EAAMG,QAAQ,6BACrCC,GAActG,EAAAA,EAAAA,KAAS,IAAMoG,EAAMzI,MAAM4I,e,OAE/CsE,EAAAA,EAAAA,KAAM,IAAMzE,EAAMzI,QAAO,CAACmN,EAAIC,MACrBD,EAAGlK,IAAQmK,GAAQD,EAAGlK,IAAMmK,EAAKnK,IAClCsF,EAAM8E,SAAS,8BAA+B5E,EAAMzI,MACxD,I,03DCVR,MAAMsI,EAAc,EAEpB,O","sources":["webpack://epam/./node_modules/core-js/internals/add-to-unscopables.js","webpack://epam/./node_modules/core-js/internals/array-from-constructor-and-list.js","webpack://epam/./node_modules/core-js/internals/entry-virtual.js","webpack://epam/./node_modules/core-js/modules/esnext.array.to-sorted.js","webpack://epam/./src/composables/comment_manager.js","webpack://epam/./src/repositories/base_repository.js","webpack://epam/./src/repositories/comment_repository.js","webpack://epam/./src/components/expert_panels/ReviewMembership.vue","webpack://epam/./src/components/expert_panels/ReviewMembership.vue?a42d","webpack://epam/./src/components/expert_panels/DefinitionReview.vue","webpack://epam/./src/components/expert_panels/DefinitionReview.vue?c6b1","webpack://epam/./src/forms/base_entity_form.js","webpack://epam/./src/repositories/comment_type_repository.js","webpack://epam/./src/forms/comment_form.js","webpack://epam/./src/components/expert_panels/ReviewCommentForm.vue","webpack://epam/./src/components/expert_panels/ReviewCommentForm.vue?1f84","webpack://epam/./src/components/expert_panels/ReviewComment.vue","webpack://epam/./src/components/expert_panels/ReviewComment.vue?cf11","webpack://epam/./src/components/expert_panels/ReviewSection.vue","webpack://epam/./src/components/expert_panels/ReviewSection.vue?09ef","webpack://epam/./src/components/expert_panels/SustainedCurationReview.vue","webpack://epam/./src/components/expert_panels/SustainedCurationReview.vue?406d"],"sourcesContent":["var wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  defineProperty(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","var lengthOfArrayLike = require('../internals/length-of-array-like');\n\nmodule.exports = function (Constructor, list) {\n  var index = 0;\n  var length = lengthOfArrayLike(list);\n  var result = new Constructor(length);\n  while (length > index) result[index] = list[index++];\n  return result;\n};\n","var global = require('../internals/global');\n\nmodule.exports = function (CONSTRUCTOR) {\n  return global[CONSTRUCTOR].prototype;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar aCallable = require('../internals/a-callable');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayFromConstructorAndList = require('../internals/array-from-constructor-and-list');\nvar getVirtual = require('../internals/entry-virtual');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar $Array = Array;\nvar sort = uncurryThis(getVirtual('Array').sort);\n\n// `Array.prototype.toSorted` method\n// https://tc39.es/proposal-change-array-by-copy/#sec-array.prototype.toSorted\n$({ target: 'Array', proto: true }, {\n  toSorted: function toSorted(compareFn) {\n    if (compareFn !== undefined) aCallable(compareFn);\n    var O = toIndexedObject(this);\n    var A = arrayFromConstructorAndList($Array, O);\n    return sort(A, compareFn);\n  }\n});\n\naddToUnscopables('toSorted');\n","import {ref, computed} from 'vue'\nimport commentRepository from '../repositories/comment_repository';\n\nconst types = {\n    internal: 1,\n    suggestion: 2,\n    requirement: 3\n};\n\nexport default (subjectType, subjectId) => {\n    const comments = ref([]);\n\n    const openComments = computed(() => comments.value.filter(c => !c.is_resolved))\n    const openRequirements = computed(() => openComments.value.filter(c =>  c.comment_type_id == types.requirement));\n    const openSuggestions = computed(() => openComments.value.filter(c =>  c.comment_type_id == types.suggestion));\n    const commentsForEp = computed(() => [...openRequirements.value, ...openSuggestions.value])\n    const openInternal = computed(() => openComments.value.filter(c => c.comment_type_id == types.internal));\n\n    const findCommentIndex = (comment) => {\n        return comments.value.findIndex(c => c.id == comment.id)\n    }\n\n    const getComments = async () => {\n        comments.value = await commentRepository.query({where: {\n            subject_type: subjectType,\n            subject_id: subjectId\n        }})\n    }\n\n    const addComment = (comment) => comments.value.push(comment);\n    const removeComment = (comment) => comments.value.splice(findCommentIndex(comment), 1);\n    const updateComment = (comment) => comments.value[findCommentIndex(comment)] = comment;\n\n    return {\n        subject: {\n            type: subjectType,\n            id: subjectId\n        },\n        comments,\n        openComments,\n        openRequirements,\n        openSuggestions,\n        openInternal,\n        getComments,\n        addComment,\n        removeComment,\n        updateComment,\n        commentsForEp\n    }\n}\n","import { api, queryStringFromParams } from '@/http'\n\nexport default class BaseRepository {\n    constructor (baseUrl, options = {}) {\n        this.baseUrl = baseUrl\n        this.options = options\n    }\n\n    query (params) {\n        const queryString = queryStringFromParams(params)\n        return api.get(this.baseUrl+queryString).then(response =>  this.transformToEntity(response.data))\n    }\n\n    find (id) {\n        return api.get(`${this.baseUrl}/${id}`).then(response => this.transformToEntity(response.data))\n    }\n\n     save (data) {\n        return api.post(this.baseUrl, data).then(response => this.transformToEntity(response.data))\n    }\n    \n     update (data) {\n        return api.put(`${this.baseUrl}/${data.id}`, data).then(response => this.transformToEntity(response.data))\n    }\n    \n     destroy (item) {\n        return api.delete(`${this.baseUrl}/${item.id}`)\n    }\n\n    transformToEntity(item) {\n        if (!this.options.entityClass) {\n            return item;\n        }\n\n        if (Array.isArray(item)) {\n            return item.map(i => new this.options.entityClass(i))\n        }\n        return item;\n    }\n}","import BaseRepository from './base_repository.js'\nimport {api} from '@/http'\n\n\nconst commentRepository = (new BaseRepository('/api/comments'));\ncommentRepository.resolve = (id) => {\n    return api.post(`/api/comments/${id}/resolved`)\n            .then(response => response.data);\n}\ncommentRepository.unresolve = (id) => {\n    return api.post(`/api/comments/${id}/unresolved`)\n            .then(response => response.data);\n}\n\nexport {commentRepository};\n\nexport default commentRepository;\n","<script setup>\n    import { computed, ref } from 'vue'\n    import CredentialsView from '../people/CredentialsView.vue';\n    import ExpertisesView from '../people/ExpertisesView.vue';\n\n    const props = defineProps({\n        members: {\n            required: true,\n            type: Array\n        },\n    });\n\n    const role_priorities = {\n        'Chair': 1,\n        'Coordinator': 2,\n        'Grant Liaison': 3,\n        'Biocurator': 4,\n        'Expert': 5,\n    };\n\n    const rolePriority = (role) => {\n        return role_priorities[role.display_name] ?? Infinity;\n    }\n\n    const tableSort = ref({\n        field: 'roles',\n        desc: false\n    });\n\n    const nameSort = (a, b) => {\n        let cmp = a.last_name.localeCompare(b.last_name);\n        if (cmp === 0) {\n            cmp = a.first_name.localeCompare(b.first_name);\n        }\n        return cmp;\n    }\n\n    const fields = ref([\n        {\n            name: 'name',\n            sortable: true,\n            label: 'Name',\n            sortFunction: nameSort,\n        },\n        {\n            name: 'legacy_credentials',\n            sortable: false,\n            label: 'Credentials',\n        },\n        {\n            name: 'roles',\n            sortable: true,\n            label: 'Roles',\n            sortFunction: (a, b) => {\n                return a.role_priority - b.role_priority;\n            },\n        },\n        {\n            name: 'legacy_expertise',\n            sortable: false,\n            label: 'Expertise',\n        },\n        {\n            name: 'institution',\n            sortable: false,\n            label: 'Institution',\n        },\n    ]);\n\n    const tableRows = computed( () => {\n        return props.members.map(m => {\n            const roles = m.roles.toSorted((a, b) => a.id - b.id);\n            return {\n                id: m.id,\n                first_name: m.person.first_name,\n                last_name: m.person.last_name,\n                name: m.person.name,\n                institution: m.person.institution?.name,\n                legacy_credentials: m.person.legacy_credentials,\n                legacy_expertise: m.legacy_expertise,\n                roles: roles,\n                role_priority: Math.min(...roles.map(rolePriority)),\n                active: m.isActive,\n                person: m.person\n            }\n        }).filter(m => m.active);\n    });\n\n    const defaultAdd = (obj, key) => {\n        // like a python defaultdict...\n        if (!obj[key]) {\n            obj[key] = 0;\n        }\n        obj[key]++;\n    }\n\n    const counts = computed(() => {\n        const counts = {};\n        counts['Total'] = tableRows.value.length;\n        console.log(tableRows.value);\n        Object.keys(role_priorities).forEach(r => counts[r] = 0);\n        tableRows.value.forEach(m => {\n            m.roles.forEach(r => defaultAdd(counts, r.display_name));\n            if (m.roles.length === 0) {\n                defaultAdd(counts, 'None');\n            }\n        });\n        return counts;\n    });\n\n</script>\n<template>\n    <div>\n        <div v-for=\"(count, role) in counts\" :key=\"role\">\n            <span>{{ role }}: {{ count }}</span>\n        </div>\n        <data-table\n            :fields=\"fields\"\n            :data=\"tableRows\"\n            v-model:sort=\"tableSort\"\n            class=\"text-xs\"\n        >\n            <template v-slot:cell-roles=\"{item}\">\n                <span>{{ item.roles.map(r => r.display_name).join(', ') }}</span>\n            </template>\n            <template v-slot:cell-legacy_credentials=\"{item}\">\n                <CredentialsView :person=\"item.person\" />\n            </template>\n            <template v-slot:cell-legacy_expertise=\"{item}\">\n                <ExpertisesView :person=\"item.person\" :legacyExpertise=\"item.legacy_expertise\" />\n            </template>\n        </data-table>\n    </div>\n</template>\n","import script from \"./ReviewMembership.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ReviewMembership.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup>\n    import {useStore} from 'vuex';\n    import { computed} from 'vue'\n    import ReviewSection from '@/components/expert_panels/ReviewSection.vue'\n    import ReviewMembership from '@/components/expert_panels/ReviewMembership.vue'\n    import { formatDate } from '@/date_utils'\n\n    const store = useStore();\n    const group = computed(() => store.getters['groups/currentItemOrNew'])\n    const expertPanel = computed(() => group.value.expert_panel);\n    const members = computed( () => {\n        if (!group.value) {\n            return [];\n        }\n        return group.value.members;\n    });\n\n    const basicInfo = computed(() => {\n        return {\n            type: group.value.type.name ? group.value.type.name.toUpperCase() : '',\n            long_base_name: expertPanel.value.long_base_name,\n            short_base_name: expertPanel.value.short_base_name,\n        }\n    });\n</script>\n\n<template>\n    <div class=\"space-y-4\">\n        <ReviewSection title=\"Basic Information\" name=\"basic-info\">\n            <object-dictionary :obj=\"basicInfo\" label-class=\"w-40 font-bold\" />\n            <dictionary-row label=\"CDWG\" label-class=\"w-40 font-bold\">\n                {{group.parent ?  group.parent.name : '--'}}\n            </dictionary-row>\n        </ReviewSection>\n\n        <ReviewSection title=\"Membership\" name=\"membership\">\n            <ReviewMembership :members=\"members\" />\n\n            <div v-if=\"group.is_vcep_or_scvcep\" class=\"mt-6\">\n                <h4>Expertise of VCEP members</h4>\n                <blockquote>\n                    <markdown-block :markdown=\"expertPanel.membership_description\" />\n                </blockquote>\n            </div>\n        </ReviewSection>\n\n        <ReviewSection title=\"Scope\" name=\"scope\">\n            <h3>Genes</h3>\n            <div class=\"mb-6\">\n                <p v-if=\"group.is_gcep\">{{expertPanel.genes.map(g => g.gene_symbol).join(', ')}}</p>\n                <simple-table\n                    v-if=\"group.is_vcep_or_scvcep\"\n                    :data=\"\n                        expertPanel.genes.map((g) => ({\n                            id: g.id,\n                            gene: g.gene_symbol,\n                            disease: g.disease_name,\n                        }))\n                    \"\n                    :key-by=\"'id'\"\n                    :hide-columns=\"['id']\"\n                />\n            </div>\n\n            <h3>Description of scope</h3>\n            <blockquote><markdown-block :markdown=\"expertPanel.scope_description\" /></blockquote>\n        </ReviewSection>\n\n        <ReviewSection v-if=\"group.is_gcep\" title=\"Plans\" name=\"plans\">\n            <dictionary-row label=\"Selected protocol\" label-class=\"w-48 font-bold\">\n                <div class=\"flex-none\">\n                    {{expertPanel.curation_review_protocol ? titleCase(expertPanel.curation_review_protocol.full_name) : null}}\n                    <p v-if=\"expertPanel.curation_review_protocol_id == 100\" class=\"mt-1\">\n                        <em>Details:</em> {{expertPanel.curation_review_protocol_other}}\n                    </p>\n                </div>\n            </dictionary-row>\n        </ReviewSection>\n\n        <ReviewSection v-if=\"group.is_gcep\" title=\"Attestations\" name=\"attestations\">\n            <dictionary-row label=\"GCEP Attestation Signed\" label-class=\"w-52 font-bold\">\n                {{formatDate(expertPanel.gcep_attestation_date)}}\n            </dictionary-row>\n            <dictionary-row label=\"GCI Training Date\" label-class=\"w-52 font-bold\">\n                {{formatDate(expertPanel.gci_training_date)}}\n            </dictionary-row>\n            <dictionary-row label=\"NHGRI Attestation Signed\" label-class=\"w-52 font-bold\">\n                {{formatDate(expertPanel.nhgri_attestation_date)}}\n            </dictionary-row>\n        </ReviewSection>\n\n        <ReviewSection\n            v-if=\"group.is_vcep_or_scvcep\"\n            title=\"Attestations\"\n            name=\"attestations\"\n        >\n            <dictionary-row\n                label=\"Reanalysis and Discrepancy Resolution Attestation Signed\"\n                label-class=\"w-52 font-bold\"\n            >\n                {{formatDate(expertPanel.reanalysis_attestation_date)}}\n            </dictionary-row>\n            <dictionary-row label=\"NHGRI Attestation Signed\" label-class=\"w-60 font-bold\">\n                {{formatDate(expertPanel.nhgri_attestation_date)}}\n            </dictionary-row>\n        </ReviewSection>\n    </div>\n</template>\n","import script from \"./DefinitionReview.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DefinitionReview.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import {ref} from 'vue';\nimport {isValidationError} from '@/http'\n\nclass BaseEntityForm {\n    constructor(fields, repository) {\n        this.fields = fields;\n        this.repo = repository\n        \n        this.currentItem = ref({})\n        this.originalItem = ref({})\n        this.errors = ref({})\n    }\n\n     async find (id) {\n        return await this.repo.find(id)\n            .then(data => {\n                this.currentItem.value = data\n                this.originalItem.value = data\n                return data\n            });\n    }\n\n     async save (data) {\n        this.clearErrors()\n        try {\n            const newItem = await this.repo.save(data)\n            this.clearCurrentItem()\n            return newItem;\n        } catch (e) {\n            if (isValidationError(e)) {\n                this.errors.value = e.response.data.errors\n            }\n            throw e\n        }\n    }\n    \n     async update (data) {\n        this.clearErrors()\n        try {\n            this.currentItem.value = this.repo.update(data)\n            return this.currentItem.value\n        } catch (e) {\n            if (isValidationError(e)) {\n                this.errors.value = e.response.data.errors\n            }\n            throw e\n        }\n    }\n    \n     async destroy (item) {\n        this.repo.destroy(item)\n    }\n    \n    cancel () {\n        this.clearErrors()\n        if (!this.currentItem.value.id) {\n            this.clearCurrentItem()\n            return;\n        }\n    }\n    \n    clearCurrentItem () {\n        this.currentItem.value = {}\n    }\n    \n    clearErrors () {\n        this.errors.value = {}\n    }\n}\n\nexport default BaseEntityForm","import BaseRepository from './base_repository.js'\n\nclass CommentTypeRepository extends BaseRepository\n{\n    constructor (baseUrl, options = {}) {\n        super(baseUrl, options);\n        this.cachedList = null;\n    }\n\n    query (params) {\n        if (!this.cachedList) {\n            const results = super.query(params)\n            this.cachedList = results;\n        }\n\n        return this.cachedList\n    }\n    \n    // eslint-disable-next-line\n    find (id) {\n        throw Error('CommentTypeRepository.find not implemented');\n    }\n\n    // eslint-disable-next-line\n    save (data) {\n        throw Error('CommentTypeRepository.save not implemented');\n    }\n\n    // eslint-disable-next-line\n    update (id) {\n        throw Error('CommentTypeRepository.update not implemented');\n    }\n\n    // eslint-disable-next-line\n    destroy (id) {\n        throw Error('CommentTypeRepository.destroy not implemented');\n    }\n}\n\nexport const typeRepository = (new CommentTypeRepository('/api/comment-types'));\nexport default typeRepository","import {ref} from 'vue'\nimport BaseEntityForm from \"./base_entity_form.js\";\nimport commentRepository from '@/repositories/comment_repository.js'\nimport typeRepository from '@/repositories/comment_type_repository.js'\n\nexport const commentTypes = ref([]);\nexport const getCommentTypes = async () => {\n    return await typeRepository.query()\n            .then(items => {\n                commentTypes.value = items.map(i => ({label: i.name, value: i.id}));\n                return commentTypes.value;\n            });\n};\n\nexport const fields = ref([\n    {\n        name: 'comment_type_id',\n        label: 'Type',\n        type: 'select',\n        options: commentTypes,\n        required: true,\n    },\n    {\n        name: 'content',\n        label: 'Comment',\n        type: 'large-text',\n        required: true,\n    },\n]);\n\n\nexport default () => {\n    getCommentTypes();\n\n    return (new BaseEntityForm(fields, commentRepository))\n}","<script setup>\n    import { computed, onMounted, inject } from 'vue';\n    import formDefFactory from '../../forms/comment_form.js';\n\n    const group = inject('group');\n\n    const props = defineProps({\n        commentManager: {\n            type: Object,\n            required: true\n        },\n        section: {\n            type: [String, null],\n            default: null\n        },\n        subjectType: {\n            type: String,\n            default: 'App\\\\Modules\\\\Group\\\\Models\\\\Group'\n        },\n        subjectId: {\n            type: Number,\n            required: false\n        },\n        comment: {\n            type: Object,\n        },\n        onlyInternal: {\n            type: Boolean,\n            default: false\n        }\n    });\n\n    onMounted(() => {\n        if (props.comment) {\n            formDef.currentItem.value = props.comment\n        }\n    })\n\n    const emits = defineEmits(['saved', 'canceled']);\n\n    const formDef = formDefFactory();\n\n    const fields = computed(() => {\n        const fields = [...formDef.fields.value];\n        if (props.onlyInternal) {\n            const typeFieldIdx = fields.findIndex(f => f.name == 'comment_type_id');\n            fields.splice(typeFieldIdx, 1);\n        }\n        return fields;\n    })\n    const errors = computed(() => {\n        return formDef.errors.value\n    })\n\n    const newComment = computed({\n        get () {\n            return formDef.currentItem.value\n        },\n        set (value) {\n            formDef.currentItem.value = value\n        }\n    })\n\n    const cancel = () => {\n        formDef.clearCurrentItem()\n        formDef.clearErrors()\n        emits('canceled')\n    }\n\n    const create = () => {\n        newComment.value.subject_type = props.subjectType,\n        newComment.value.subject_id = props.subjectId || group.value.id,\n        newComment.value.metadata = {\n            section: props.section,\n            // This metadata is necessary to ensure reply comments are included in notifications.\n            root_subject_type: 'App\\\\Modules\\\\Group\\\\Models\\\\Group',\n            root_subject_id: group.value.id\n        }\n\n        if (props.onlyInternal) {\n            newComment.value.comment_type_id = 1\n        }\n        formDef.save(newComment.value)\n            .then(comment => {\n                props.commentManager.addComment(comment);\n                emits('saved', comment);\n            })\n    }\n\n    const update = () => {\n        if (props.onlyInternal) {\n            newComment.value.comment_type_id = 1\n        }\n        formDef.update(newComment.value)\n            .then(comment => {\n                props.commentManager.updateComment(comment);\n                emits('saved', comment);\n            })\n    }\n\n    const save = () => {\n        if (newComment.value.id) {\n            update();\n            return;\n        }\n        create();\n    }\n</script>\n<template>\n    <div>\n        <data-form :fields=\"fields\" v-model=\"newComment\" :errors=\"errors\"></data-form>\n        <button-row size=\"xs\" submit-text=\"Save\" @submitted=\"save\" @canceled=\"cancel\"></button-row>\n    </div>\n</template>\n","import script from \"./ReviewCommentForm.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ReviewCommentForm.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup>\n    import {ref, computed, onMounted} from 'vue'\n    import {useStore} from 'vuex'\n    import ReviewCommentForm from './ReviewCommentForm.vue'\n    import commentFormFactory from '@/forms/comment_form.js'\n    import commentRepository from '../../repositories/comment_repository';\n    import DropdownItem from '../DropdownItem.vue';\n    import commentManagerFactory from '@/composables/comment_manager.js'\n    import {hasPermission} from '../../auth_utils';\n\n    const store = useStore();\n\n    const formDef = commentFormFactory();\n    const props = defineProps({\n        comment: {\n            type: Object,\n            required: true\n        },\n        commentManager: {\n            type: Object,\n            required: true\n        }\n    });\n    const emits = defineEmits(['created', 'updated', 'resolved', 'unresolved', 'deleted']);\n\n    const replyManager = ref(commentManagerFactory('App\\\\Models\\\\Comment', props.comment.id))\n\n    const showEditForm = ref(false);\n    const showConfirmDelete = ref(false);\n\n    const getVariant = comment => {\n        if (!comment.type) {\n            return 'gray'\n        }\n        switch (comment.type.name) {\n            case 'required revision':\n                return 'yellow'\n            case 'suggestion':\n                return 'blue'\n            case 'internal comment':\n                return 'gray'\n            default:\n                null\n                break;\n        }\n    }\n\n    const initDelete = () => {\n        showConfirmDelete.value = true\n    }\n    const deleteComment = () => {\n        formDef.destroy(props.comment)\n            .then(() => {\n                showConfirmDelete.value = false;\n                props.commentManager.removeComment(props.comment);\n                emits('deleted', props.comment);\n            })\n    }\n\n    const toggleResolution = async () => {\n        if (props.comment.is_resolved) {\n            const updatedCmt = await commentRepository.unresolve(props.comment.id)\n            props.commentManager.updateComment(updatedCmt)\n            emits('updated');\n            emits('resolved');\n            return;\n        }\n\n        const updatedCmt = await commentRepository.resolve(props.comment.id)\n        props.commentManager.updateComment(updatedCmt)\n        emits('updated');\n        emits('unresolved');\n    }\n\n    const showReplyList = ref(false);\n    const toggleReplies = async () => {\n        if (!showReplyList.value) {\n            showReplies();\n        }\n        showReplyList.value = !showReplyList.value;\n    }\n\n    const showReplies = () => {\n        replyManager.value.getComments()\n            .then(rsp => {\n                showReplyList.value = true;\n                return rsp;\n            });\n    }\n\n    const showReplyForm = ref(false);\n    const initReply = () => showReplyForm.value = true;\n    const handleNewReply = () => {\n        const commentClone = {...props.comment};\n        commentClone.comments_count += 1;\n        props.commentManager.updateComment(commentClone);\n        showReplyList.value = true;\n        showReplyForm.value = false;\n    }\n    const handleReplyRemoved = () => {\n        const commentClone = {...props.comment};\n        commentClone.comments_count -= 1;\n        props.commentManager.updateComment(commentClone);\n    }\n\n    onMounted(() => {\n        replyManager.value.getComments();\n    })\n\n    const canEdit = computed(() => hasPermission('comments-manage') || store.getters.currentUser.person.id == props.comment.creator_id)\n</script>\n<template>\n    <div class=\"my-2\">\n        <div class=\"comment-container\">\n            <div v-if=\"!showEditForm\" class=\"relative\">\n                <div class=\"flex justify-between items-start mb-1 rounded\">\n                    <div class=\"flex space-x-2 items-end\">\n                        <strong class=\"block\">{{comment.creator && comment.creator.name}}</strong>\n                        <badge class=\"block\" :color=\"getVariant(comment)\" size=\"xxs\">\n                            {{comment.type && titleCase(comment.type.name)}}\n                        </badge>\n                        <popper hover arrow content=\"Resolved\" v-if=\"comment.is_resolved\">\n                            <icon-checkmark\n                                class=\"text-green-500\"\n                                title=\"Resolved\"\n                            />\n                        </popper>\n                    </div>\n                    <div class=\"flex space-x-2\">\n                        <dropdown-menu hideCheveron v-if=\"canEdit\">\n                            <dropdown-item @click=\"showEditForm = true\">Edit</dropdown-item>\n                            <dropdown-item @click=\"toggleResolution\">{{comment.is_resolved ? 'Mark unresolved' : 'Resolve'}}</dropdown-item>\n                            <dropdown-item @click=\"initDelete\">Delete</dropdown-item>\n                        </dropdown-menu>\n                    </div>\n                </div>\n\n                <markdown-block :markdown=\"comment.content\" class=\"text-sm\" />\n                <button class=\"link\" @click=\"initReply\"><icon-reply class=\"inline-block\" />Reply</button>\n\n\n                <static-alert variant=\"danger\" v-show=\"showConfirmDelete\" class=\"\">\n                    Continue with delete?\n                    <button-row\n                        size=\"xs\"\n                        submit-text=\"Yes, delete\"\n                        @submitted=\"deleteComment\"\n                        @canceled=\"showConfirmDelete=false\"\n                        submitVariant=\"red\"\n                    ></button-row>\n                </static-alert>\n            </div>\n            <ReviewCommentForm v-else\n                @canceled=\"showEditForm = false\"\n                @saved=\"showEditForm = false\"\n                :comment=\"comment\"\n                :commentManager=\"commentManager\"\n            />\n        </div>\n\n\n        <div class=\"replies ml-1\">\n            <ul v-if=\"showReplyList\">\n                <li v-for=\"reply in replyManager.comments\" :key=\"reply.id\"\n                    class=\"border-l-2 mt-2 px-2 py-1 bg-gray-100 bg-opacity-50\"\n                >\n                    <ReviewComment :comment=\"reply\" :commentManager=\"replyManager\" @deleted=\"handleReplyRemoved\" />\n                </li>\n            </ul>\n            <button class=\"link text-sm\" v-if=\"comment.comments_count > 0\" @click=\"toggleReplies\">\n                {{showReplyList ? 'Hide' : 'Show'}}\n                {{comment.comments_count}}\n                {{comment.comments_count > 1 ? 'replies' : 'reply'}}\n            </button>\n            <div v-show=\"showReplyForm\" class=\"border-l-2 mt-2 px-2 py-1 bg-gray-100 bg-opacity-50\">\n                <strong>Your Reply</strong>\n                <ReviewCommentForm\n                    subjectType=\"App\\Models\\Comment\"\n                    :subjectId=\"comment.id\"\n                    :onlyInternal=\"true\"\n                    :commentManager=\"replyManager\"\n                    @saved=\"handleNewReply\"\n                    @canceled=\"showReplyForm = false\"\n                />\n            </div>\n        </div>\n    </div>\n</template>\n","import script from \"./ReviewComment.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ReviewComment.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup>\n    import { ref, computed, inject } from 'vue'\n    import ReviewComment from '@/components/expert_panels/ReviewComment.vue'\n    import ReviewCommentForm from './ReviewCommentForm.vue'\n\n    const commentManager = inject('commentManager')\n\n    const props = defineProps({\n        title: {\n            type: String || null,\n            default: null\n        },\n        name: {\n            type: String || null,\n            default: null\n        },\n    });\n\n\n    const showCommentForm = ref(false);\n\n    const showComments = ref(true)\n    const sectionComments = computed(() => {\n        if (!commentManager) {\n            return [];\n        }\n        return commentManager.value.comments.filter(c => {\n            if (c.metadata) {\n                return c.metadata.section == props.name\n            }\n            return false\n        })\n    })\n\n    const countColor = computed(() => {\n        if (!commentManager) {\n            return null;\n        }\n        if (sectionComments.value.find(c => c.type.name == 'required revision')) {\n            return 'yellow'\n        }\n        if (sectionComments.value.find(c => c.type.name == 'suggestion')) {\n            return 'blue'\n        }\n        return 'gray'\n    })\n</script>\n\n<template>\n    <section class=\"lg:flex lg:space-x-4 screen-block\">\n        <div class=\"overflow-x-auto flex-grow\" :class=\"{'lg:w-3/5': showComments}\">\n            <header class=\"flex justify-between items-start space-x-4\">\n                <h2 class=\"flex-grow\" :class=\"{'lg:w-3/5': !showComments}\">{{title}}</h2>\n                <div class=\"flex justify-between items-center lg:w-2/5 px-2 py-1 pb-0 bg-gray-100 rounded-lg\" v-show=\"!showComments\"  v-if=\"commentManager\">\n                    <h3>\n                        <icon-cheveron-right class=\"inline cursor-pointer\" @click=\"showComments = true\"/>\n                        Comments\n                        <badge :color=\"countColor\">{{sectionComments.length}}</badge>\n                    </h3>\n                </div>\n\n            </header>\n            <div>\n                <div>\n                    <slot></slot>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"lg:w-2/5 p-2 bg-gray-100 rounded-lg mb-2\" v-show=\"showComments && commentManager\">\n            <div class=\"flex justify-between items-center\">\n                <h3>\n                    <icon-cheveron-down class=\"inline cursor-pointer\" @click=\"showComments = false\" />\n                    Comments\n                </h3>\n            </div>\n            <ul>\n                <li v-for=\"comment in sectionComments\" :key=\"comment.id\" class=\"bg-white p-2\">\n                    <ReviewComment :comment=\"comment\" :commentManager=\"commentManager\"></ReviewComment>\n                </li>\n            </ul>\n            <div class=\"bg-white mt-2 p-2\">\n                <ReviewCommentForm v-if=\"showCommentForm\"\n                    :section=\"name\"\n                    :commentManager=\"commentManager\"\n                    @saved=\"showCommentForm = false\"\n                    @canceled=\"showCommentForm = false\"\n                />\n                <button v-else class=\"btn btn-xs block\" @click=\"showCommentForm = true\">Add comment</button>\n            </div>\n        </div>\n    </section>\n</template>\n","import script from \"./ReviewSection.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ReviewSection.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup>\n    import EvidenceSummaryList from '@/components/expert_panels/EvidenceSummaryList.vue'\n    import {computed, watch } from 'vue'\n    import {useStore} from 'vuex'\n    import ReviewSection from '@/components/expert_panels/ReviewSection.vue'\n\n    const store = useStore();\n    const group = computed(() => store.getters['groups/currentItemOrNew'])\n    const expertPanel = computed(() => group.value.expert_panel)\n\n    watch(() => group.value, (to, from) => {\n        if ((to.id && (!from || to.id != from.id))) {\n            store.dispatch('groups/getEvidenceSummaries', group.value);\n        }\n    });\n</script>\n\n<template>\n    <div class=\"application-review p-2 bg-gray-100\">\n            <ReviewSection\n                v-if=\"expertPanel.has_approved_pilot\"\n                title=\"Plans for Ongoing Review and Discrepancy Resolution\"\n                name=\"discrepency-review\"\n            >\n                <dictionary-row label=\"Selected protocol\" labelWidthClass=\"w-48 font-bold\">\n                    <div class=\"w-full\">\n                        {{expertPanel.curation_review_protocol ? titleCase(expertPanel.curation_review_protocol.full_name) : null}}\n                        <p v-if=\"expertPanel.curation_review_protocol_id == 100\" class=\"mt-1\">\n                            <em>Details:</em> {{expertPanel.curation_review_protocol_other}}\n                        </p>\n                    </div>\n                </dictionary-row>\n                <dictionary-row label=\"Notes\" labelWidthClass=\"w-48 font-bold\">\n                    <markdown-block :markdown=\"expertPanel.curation_review_process_notes\" />\n                </dictionary-row>\n            </ReviewSection>\n\n            <ReviewSection v-if=\"expertPanel.has_approved_pilot\"\n                title=\"Evidence Summaries\"\n                name=\"evidence-summaries\"\n            >\n                <evidence-summary-list :readonly=\"true\" />\n            </ReviewSection>\n\n            <ReviewSection v-if=\"expertPanel.has_approved_pilot\"\n                title=\"Core Approval Member, Trained Biocurator, and Biocurator Trainer Designation\"\n                name=\"member-designation\"\n            >\n                <dictionary-row label=\"Core Approval Members\" labelWidthClass=\"w-48 font-bold\">\n                    {{group.coreApprovalMembers.map(m => m.person.name).join(', ')}}\n                </dictionary-row>\n                <dictionary-row label=\"Biocurator Trainers\" labelWidthClass=\"w-48 font-bold\">\n                    {{group.biocuratorTrainers.map(m => m.person.name).join(', ')}}\n                </dictionary-row>\n                <dictionary-row label=\"Trained Biocurators\" labelWidthClass=\"w-48 font-bold\">\n                    {{group.trainedBiocurators.map(m => m.person.name).join(', ')}}\n                </dictionary-row>\n            </ReviewSection>\n\n            <!-- <div v-if=\"!expertPanel.has_appoved_pilot\" class=\"screen-block\">\n                No approved pilot.\n            </div> -->\n    </div>\n</template>\n","import script from \"./SustainedCurationReview.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SustainedCurationReview.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["wellKnownSymbol","create","defineProperty","UNSCOPABLES","ArrayPrototype","Array","prototype","undefined","configurable","value","module","exports","key","lengthOfArrayLike","Constructor","list","index","length","result","global","CONSTRUCTOR","$","uncurryThis","aCallable","toIndexedObject","arrayFromConstructorAndList","getVirtual","addToUnscopables","$Array","sort","target","proto","toSorted","compareFn","O","this","A","types","internal","suggestion","requirement","subjectType","subjectId","comments","ref","openComments","computed","filter","c","is_resolved","openRequirements","comment_type_id","openSuggestions","commentsForEp","openInternal","findCommentIndex","comment","findIndex","id","getComments","async","commentRepository","query","where","subject_type","subject_id","addComment","push","removeComment","splice","updateComment","subject","type","BaseRepository","constructor","baseUrl","options","params","queryString","queryStringFromParams","api","get","then","response","transformToEntity","data","find","save","post","update","put","destroy","item","delete","entityClass","isArray","map","i","resolve","unresolve","role_priorities","rolePriority","role","display_name","Infinity","tableSort","field","desc","nameSort","a","b","cmp","last_name","localeCompare","first_name","fields","name","sortable","label","sortFunction","role_priority","tableRows","props","members","m","roles","person","institution","legacy_credentials","legacy_expertise","Math","min","active","isActive","defaultAdd","obj","counts","console","log","Object","keys","forEach","r","__exports__","store","useStore","group","getters","expertPanel","expert_panel","basicInfo","toUpperCase","long_base_name","short_base_name","BaseEntityForm","repository","repo","currentItem","originalItem","errors","clearErrors","newItem","clearCurrentItem","e","isValidationError","cancel","CommentTypeRepository","super","cachedList","results","Error","typeRepository","commentTypes","getCommentTypes","items","required","inject","onMounted","formDef","formDefFactory","onlyInternal","typeFieldIdx","f","newComment","set","emits","metadata","section","root_subject_type","root_subject_id","commentManager","commentFormFactory","replyManager","commentManagerFactory","showEditForm","showConfirmDelete","getVariant","initDelete","deleteComment","toggleResolution","updatedCmt","showReplyList","toggleReplies","showReplies","rsp","showReplyForm","initReply","handleNewReply","commentClone","comments_count","handleReplyRemoved","canEdit","hasPermission","currentUser","creator_id","showCommentForm","showComments","sectionComments","countColor","watch","to","from","dispatch"],"sourceRoot":""}