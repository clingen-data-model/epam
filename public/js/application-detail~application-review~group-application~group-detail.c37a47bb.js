(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["application-detail~application-review~group-application~group-detail"],{"324b":function(e,t,n){"use strict";var r=n("7a23"),o={key:0},c={class:"text-lg pr-4"},a={key:1,class:"well text-center"},i={class:"text-lg pr-4"};function l(e,t,n,l,u,s){var m=Object(r["resolveComponent"])("evidence-summary"),d=Object(r["resolveComponent"])("evidence-summary-form");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[u.summaries.length>0?(Object(r["openBlock"])(),Object(r["createElementBlock"])("ul",o,[Object(r["createVNode"])(r["TransitionGroup"],{name:"slide-fade-down"},{default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(s.group.expert_panel.evidence_summaries,(function(e,t){return Object(r["openBlock"])(),Object(r["createElementBlock"])("li",{class:"my-4 flex",key:t},[Object(r["createElementVNode"])("div",c,Object(r["toDisplayString"])(t+1),1),Object(r["createVNode"])(m,{summary:e,group:s.group,onSaved:s.handleSavedSummary,onDeleted:s.handleDeleted,class:"flex-1",readonly:n.readonly},null,8,["summary","group","onSaved","onDeleted","readonly"])])})),128))]})),_:1})])):u.loading?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",a,"Loading...")):(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{key:2,class:Object(r["normalizeClass"])(["well text-center",{"cursor-pointer":!n.readonly}]),onClick:t[0]||(t[0]=function(){return s.startNewSummary&&s.startNewSummary.apply(s,arguments)})},"No example evidence summaries have been added.",2)),Object(r["withDirectives"])(Object(r["createElementVNode"])("ul",null,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(u.newSummaries,(function(e,t){return Object(r["openBlock"])(),Object(r["createElementBlock"])("li",{class:"my-4 flex",key:t},[Object(r["createElementVNode"])("div",i,Object(r["toDisplayString"])(t+1+u.summaries.length),1),Object(r["createVNode"])(d,{class:"flex-1",group:s.group,summary:e,onSaved:s.handleSavedSummary,onCanceled:s.cancelAdd},null,8,["group","summary","onSaved","onCanceled"])])})),128))],512),[[r["vShow"],s.adding]]),Object(r["withDirectives"])(Object(r["createElementVNode"])("div",null,[Object(r["withDirectives"])(Object(r["createElementVNode"])("button",{class:"btn btn-xs",onClick:t[1]||(t[1]=function(){return s.startNewSummary&&s.startNewSummary.apply(s,arguments)})},"Add Summary",512),[[r["vShow"],!s.adding]])],512),[[r["vShow"],!s.adding&&s.canEdit]])])}var u=n("1da1"),s=(n("c740"),n("a434"),n("96cf"),{key:0,class:"p-2 border rounded"}),m={class:"flex justify-between"},d=Object(r["createElementVNode"])("button",{class:"btn btn-xs"},"â€¦",-1),p=Object(r["createTextVNode"])("Edit"),b=Object(r["createTextVNode"])("Delete"),f=["href"];function O(e,t,n,o,c,a){var i=Object(r["resolveComponent"])("dropdown-item"),l=Object(r["resolveComponent"])("dropdown-menu"),u=Object(r["resolveComponent"])("evidence-summary-form"),O=Object(r["resolveComponent"])("button-row"),y=Object(r["resolveComponent"])("modal-dialog");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[Object(r["createVNode"])(r["Transition"],{mode:"out-in",name:"fade"},{default:Object(r["withCtx"])((function(){return[c.editing?(Object(r["openBlock"])(),Object(r["createBlock"])(u,{key:1,summary:n.summary,group:n.group,onSaved:a.handleSaved,onCanceled:a.cancelEdit},null,8,["summary","group","onSaved","onCanceled"])):(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",s,[Object(r["createElementVNode"])("header",m,[Object(r["createElementVNode"])("h4",null,Object(r["toDisplayString"])(n.summary.gene.gene_symbol)+" - "+Object(r["toDisplayString"])(n.summary.variant),1),a.canEdit?(Object(r["openBlock"])(),Object(r["createBlock"])(l,{key:0,"hide-cheveron":!0,class:"relative"},{label:Object(r["withCtx"])((function(){return[d]})),default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(i,{onClick:t[0]||(t[0]=function(e){return a.edit()})},{default:Object(r["withCtx"])((function(){return[p]})),_:1}),Object(r["createVNode"])(i,{onClick:t[1]||(t[1]=function(e){return a.confirmDelete()})},{default:Object(r["withCtx"])((function(){return[b]})),_:1})]})),_:1})):Object(r["createCommentVNode"])("",!0)]),Object(r["createElementVNode"])("p",null,Object(r["toDisplayString"])(n.summary.summary),1),n.summary.vci_url?(Object(r["openBlock"])(),Object(r["createElementBlock"])("a",{key:0,class:"link",href:n.summary.vci_url,target:"_blank"}," View in the VCI ",8,f)):Object(r["createCommentVNode"])("",!0)]))]})),_:1}),(Object(r["openBlock"])(),Object(r["createBlock"])(r["Teleport"],{to:"body"},[Object(r["createVNode"])(y,{modelValue:c.showDeleteConfirm,"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.showDeleteConfirm=e}),title:"You are about to delete an example evidence summary."},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(" You are about to delete an evidence summary for "+Object(r["toDisplayString"])(n.summary.gene.gene_symbol)+" - "+Object(r["toDisplayString"])(n.summary.variant)+". Are you sure you want to continue? ",1),Object(r["createVNode"])(O,{onSubmit:a.deleteSummary,onCancel:a.cancelDelete,"submit-text":"Delete Summary"},null,8,["onSubmit","onCancel"])]})),_:1},8,["modelValue"])]))])}n("99af");var y=n("f96b"),j={class:"flex space-x-2"},h=Object(r["createElementVNode"])("option",{value:null},"Select...",-1),v=["value"];function g(e,t,n,o,c,a){var i=Object(r["resolveComponent"])("input-row"),l=Object(r["resolveComponent"])("button-row");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[Object(r["createElementVNode"])("div",j,[Object(r["createVNode"])(i,{class:"mt-0 mb-0",vertical:!0,label:"Gene",errors:c.errors.gene_id},{default:Object(r["withCtx"])((function(){return[Object(r["withDirectives"])(Object(r["createElementVNode"])("select",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.summaryClone.gene_id=e})},[h,(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(c.groupGenes,(function(e){return Object(r["openBlock"])(),Object(r["createElementBlock"])("option",{value:e.id,key:e.id},Object(r["toDisplayString"])(e.gene_symbol),9,v)})),128))],512),[[r["vModelSelect"],c.summaryClone.gene_id]])]})),_:1},8,["errors"]),Object(r["createVNode"])(i,{class:"mt-0 mb-0",modelValue:c.summaryClone.variant,"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.summaryClone.variant=e}),vertical:!0,label:"Variant",errors:c.errors.variant},null,8,["modelValue","errors"])]),Object(r["createVNode"])(i,{class:"mt-0 mb-0",label:"Summary",vertical:!0,errors:c.errors.summary},{default:Object(r["withCtx"])((function(){return[Object(r["withDirectives"])(Object(r["createElementVNode"])("textarea",{rows:"5",class:"w-full","onUpdate:modelValue":t[2]||(t[2]=function(e){return c.summaryClone.summary=e})},null,512),[[r["vModelText"],c.summaryClone.summary]])]})),_:1},8,["errors"]),Object(r["createVNode"])(i,{class:"mt-0",modelValue:c.summaryClone.vci_url,"onUpdate:modelValue":t[3]||(t[3]=function(e){return c.summaryClone.vci_url=e}),label:"VCI URL",vertical:!0,"input-class":"w-full",errors:c.errors.vci_url},null,8,["modelValue","errors"]),Object(r["createVNode"])(l,{"submit-text":"save",onSubmit:a.save,onCancel:a.cancel},null,8,["onSubmit","onCancel"])])}var w=n("5530"),k=n("033d"),C={name:"EvidenceSummaryForm",props:{group:{required:!0,type:Object},summary:{required:!0,type:Object}},emits:["saved","canceled"],data:function(){return{groupGenes:[],summaryClone:{gene:{}},errors:{}}},computed:{},watch:{group:{immediate:!0,handler:function(){this.group&&this.group.id&&this.getGroupGenes()}},summary:{immediate:!0,handler:function(){this.summaryClone=Object(w["a"])({},this.summary)}}},methods:{save:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n="/api/groups/".concat(e.group.uuid,"/expert-panel/evidence-summaries"),r="post",e.summaryClone.id&&(n+="/".concat(e.summaryClone.id),r="put"),t.next=6,Object(y["a"])({method:r,url:n,data:e.summaryClone}).then((function(e){return e.data.data}));case 6:o=t.sent,e.$emit("saved",o),e.$store.commit("pushSuccess","Saved example evidence summary"),e.editing=!1,t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),Object(k["a"])(t.t0)&&(e.errors=t.t0.response.data.errors);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()},cancel:function(){this.initSummaryClone(),this.$emit("canceled")},edit:function(e){e.editing=!0},getGroupGenes:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,y["a"].get("/api/groups/".concat(e.group.uuid,"/expert-panel/genes")).then((function(e){return e.data}));case 2:e.groupGenes=t.sent;case 3:case"end":return t.stop()}}),t)})))()},initSummaryClone:function(){this.summaryClone={gene:{}}}}},V=n("6b0d"),N=n.n(V);const S=N()(C,[["render",g]]);var D=S,E={components:{EvidenceSummaryForm:D},name:"EvidenceSummary",props:{summary:{required:!0,type:Object},group:{required:!0,type:Object},readonly:{type:Boolean,required:!1,default:!1}},emits:["edit","saved","deleted"],data:function(){return{editing:!1,showDeleteConfirm:!1}},computed:{canEdit:function(){return this.hasAnyPermission(["ep-applications-manage",["application-edit",this.group]])&&!this.readonly}},methods:{handleSaved:function(e){this.$emit("saved",e),this.editing=!1},edit:function(){this.editing=!0},cancelEdit:function(){this.editing=!1},confirmDelete:function(){this.showDeleteConfirm=!0},deleteSummary:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y["a"].delete("/api/groups/".concat(e.group.uuid,"/application/evidence-summaries/").concat(e.summary.id));case 3:e.$emit("deleted",e.summary),t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),console.error(t.t0);case 9:e.showDeleteConfirm=!1;case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))()},cancelDelete:function(){this.showDeleteConfirm=!1}}};const B=N()(E,[["render",O]]);var x=B,_={name:"EvidenceSummaryList",components:{EvidenceSummary:x,EvidenceSummaryForm:D},emits:["summaries-added"],props:{readonly:{type:Boolean,required:!1,default:!1}},data:function(){return{newSummaries:[],errors:{},summaries:[],showDeleteConfirm:!1,selectedSummary:{gene:{}},loading:!1}},computed:{group:{get:function(){return this.$store.getters["groups/currentItemOrNew"]},set:function(e){this.$store.commit("groups/addItem",e)}},meetsRequirements:function(){return this.summaries.length>4},adding:function(){return this.newSummaries.length>0},canEdit:function(){return this.hasAnyPermission(["ep-applications-manage",["application-edit",this.group]])&&!this.readonly}},watch:{group:{immediate:!0,handler:function(){this.group&&this.group.id&&this.getEvidenceSummaries()}}},methods:{getEvidenceSummaries:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.$store.dispatch("groups/getEvidenceSummaries",e.group);case 4:e.summaries=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),console.log(t.t0);case 10:e.loading=!1;case 11:case"end":return t.stop()}}),t,null,[[1,7]])})))()},startNewSummary:function(){this.readonly||this.newSummaries.push({gene:null,variant:null,summary:null})},clearNewSummaries:function(){this.newSummaries=[]},handleSavedSummary:function(){this.getEvidenceSummaries(),this.clearNewSummaries(),this.$emit("summaries-added")},handleDeleted:function(e){var t=this.summaries.findIndex((function(t){return t.id==e.id}));t>-1&&this.summaries.splice(t,1),this.getEvidenceSummaries()},cancelAdd:function(){this.clearNewSummaries()},mergeSummary:function(e){var t=this.summaries.findIndex((function(t){return t.id==e.id}));t>-1?this.summaries.splice(t,1,e):this.summaries.push(e)}}};const T=N()(_,[["render",l]]);t["a"]=T},fefd:function(e,t,n){"use strict";var r=n("7a23");function o(e,t,n,o,c,a){var i=Object(r["resolveComponent"])("cspec-summary"),l=Object(r["resolveComponent"])("application-upload-form");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[a.cspecSummaryEnabled?(Object(r["openBlock"])(),Object(r["createBlock"])(i,{key:0,readonly:n.readonly},null,8,["readonly"])):Object(r["createCommentVNode"])("",!0),a.specificationUpload?(Object(r["openBlock"])(),Object(r["createBlock"])(l,{key:1,"document-type-id":n.docTypeId,"show-notes":!1,readonly:n.readonly},null,8,["document-type-id","readonly"])):Object(r["createCommentVNode"])("",!0)])}n("a9e3"),n("4e82"),n("b0c0");var c={key:0,class:"well"},a={key:1},i=["href"],l=["disabled"],u=Object(r["createTextVNode"])(" Go to the CSpec Registry ");function s(e,t,n,o,s,m){var d=Object(r["resolveComponent"])("badge"),p=Object(r["resolveComponent"])("data-table"),b=Object(r["resolveComponent"])("icon-external-link");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[m.hasSpecifications?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",a,[Object(r["createVNode"])(p,{fields:s.specFields,data:m.group.expert_panel.specifications,sort:s.sort,"onUpdate:sort":t[0]||(t[0]=function(e){return s.sort=e}),class:"mb-6"},{"cell-id":Object(r["withCtx"])((function(e){var t=e.item;return[Object(r["createElementVNode"])("a",{href:"https://cspec.genome.network/cspec/ui/svi/ruleset/".concat(t.id),target:"cspec",class:"btn btn-xs"}," Go to rules ",8,i)]})),"cell-status_name":Object(r["withCtx"])((function(e){var t=e.item;return[Object(r["createVNode"])(d,{color:t.status.color},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.status.name),1)]})),_:2},1032,["color"])]})),_:1},8,["fields","data","sort"])])):(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",c," No specifications on record. ")),Object(r["createElementVNode"])("button",{onClick:t[1]||(t[1]=function(){return m.goToCspec&&m.goToCspec.apply(m,arguments)}),class:"btn btn-xl blue",target:"cspec",disabled:n.readonly},[u,Object(r["createVNode"])(b,{class:"inline"})],8,l),Object(r["createVNode"])(b,{class:"inline"})])}var m={name:"CspecSummary",props:{readonly:{type:Boolean,default:!1}},data:function(){return{sort:{field:"id",desc:!1},specFields:[{name:"gene_symbol",type:String,sortable:!0},{name:"disease_name",type:String,sortable:!0},{name:"status.name",label:"Status",type:String,sortable:!0},{name:"updated_at",label:"Last Updated",type:Date,sortable:!0},{name:"id",label:"",type:Number,sortable:!1}]}},computed:{group:function(){return this.$store.getters["groups/currentItemOrNew"]},hasSpecifications:function(){return!0},specifications:function(){return this.group.expert_panel.specifications}},watch:{group:function(e){this.$store.dispatch("groups/getSpecifications",e)}},methods:{goToCspec:function(){window.location="https://cspec.genome.network/"}},mounted:function(){this.$store.dispatch("groups/getSpecifications",this.group)}},d=n("6b0d"),p=n.n(d);const b=p()(m,[["render",s]]);var f=b,O={key:0,class:"table"},y=Object(r["createElementVNode"])("th",null,"File",-1),j={key:0},h=Object(r["createElementVNode"])("th",null,"uploaded",-1),v=Object(r["createElementVNode"])("th",null,null,-1),g=["href"],w={class:"note"},k={key:0},C=Object(r["createElementVNode"])("button",{class:"btn btn-xs"},"â€¦",-1),V=Object(r["createTextVNode"])("Download"),N=Object(r["createTextVNode"])("Delete"),S={key:1},D={type:"file",ref:"fileInput"},E={key:0},B={key:0,class:"mb-3"},x=Object(r["createElementVNode"])("p",null,"Are you sure you want to continue?",-1);function _(e,t,n,o,c,a){var i=Object(r["resolveComponent"])("dropdown-item"),l=Object(r["resolveComponent"])("dropdown-menu"),u=Object(r["resolveComponent"])("input-row"),s=Object(r["resolveComponent"])("button-row"),m=Object(r["resolveComponent"])("modal-dialog");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[a.documents.length>0?(Object(r["openBlock"])(),Object(r["createElementBlock"])("table",O,[Object(r["createElementVNode"])("thead",null,[Object(r["createElementVNode"])("tr",null,[y,a.docTypeIsArray?(Object(r["openBlock"])(),Object(r["createElementBlock"])("th",j,"Type")):Object(r["createCommentVNode"])("",!0),h,v])]),Object(r["createElementVNode"])("tbody",null,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(a.documents,(function(t){return Object(r["openBlock"])(),Object(r["createElementBlock"])("tr",{key:t.id,class:"p-1 border"},[Object(r["createElementVNode"])("td",null,[Object(r["createElementVNode"])("a",{href:t.download_url},Object(r["toDisplayString"])(t.filename),9,g),Object(r["createElementVNode"])("span",w," (v. "+Object(r["toDisplayString"])(t.version)+")",1)]),a.docTypeIsArray?(Object(r["openBlock"])(),Object(r["createElementBlock"])("td",k,Object(r["toDisplayString"])(t.type.long_name),1)):Object(r["createCommentVNode"])("",!0),Object(r["createElementVNode"])("td",null,Object(r["toDisplayString"])(e.formatDate(t.created_at)),1),Object(r["createElementVNode"])("td",null,[Object(r["createVNode"])(l,{hideCheveron:""},{label:Object(r["withCtx"])((function(){return[C]})),default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(i,{onClick:function(e){return a.initDownload(t)}},{default:Object(r["withCtx"])((function(){return[V]})),_:2},1032,["onClick"]),e.hasAnyPermission(["ep-applications-manage",["application-edit",a.group]])?(Object(r["openBlock"])(),Object(r["createBlock"])(i,{key:0,onClick:function(e){return a.initDelete(t)}},{default:Object(r["withCtx"])((function(){return[N]})),_:2},1032,["onClick"])):Object(r["createCommentVNode"])("",!0)]})),_:2},1024)])])})),128))])])):Object(r["createCommentVNode"])("",!0),n.readonly?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",S,[a.docTypeIsArray?(Object(r["openBlock"])(),Object(r["createBlock"])(u,{key:0,label:"Document type",type:"select",options:a.filteredTypes,modelValue:c.newDocument.document_type_id,"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.newDocument.document_type_id=e})},null,8,["options","modelValue"])):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(u,{label:"Document",errors:c.errors.file},{default:Object(r["withCtx"])((function(){return[Object(r["createElementVNode"])("input",D,null,512)]})),_:1},8,["errors"]),Object(r["createElementVNode"])("button",{class:"btn blue",onClick:t[1]||(t[1]=function(){return a.save&&a.save.apply(a,arguments)})},"Upload")])),(Object(r["openBlock"])(),Object(r["createBlock"])(r["Teleport"],{to:"body"},[Object(r["createVNode"])(m,{modelValue:c.showDeleteConfirmation,"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.showDeleteConfirmation=e}),title:"You are about to delete ".concat(c.activeDocument.filename)},{default:Object(r["withCtx"])((function(){return[c.activeDocument?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",E,[c.activeDocument.is_final?(Object(r["openBlock"])(),Object(r["createElementBlock"])("p",B," This version has been tagged as the final version of the document. ")):Object(r["createCommentVNode"])("",!0),x,Object(r["createVNode"])(s,{"submit-text":"Delete Document",onCanceled:a.cancelDelete,onSubmitted:a.commitDelete},null,8,["onCanceled","onSubmitted"])])):Object(r["createCommentVNode"])("",!0)]})),_:1},8,["modelValue","title"])]))])}var T=n("1da1"),I=(n("96cf"),n("4de4"),n("d3b7"),n("caad"),n("2532"),n("d81d"),n("07ac"),n("159b"),n("b64b"),n("e328")),A=n("db04"),$=n("4a91"),F={props:{documentTypeId:{type:[Number,Array],required:!0},step:{type:Number,required:!1,default:null},showNotes:{type:Boolean,default:!0},readonly:{type:Boolean,default:!1}},emits:["saved"],data:function(){return{newDocument:{file:null,date_received:(new Date).toISOString(),step:this.step,document_type_id:this.docTypeIsArray?null:this.documentTypeId},errors:{},activeDocument:{},showDeleteConfirmation:!1}},computed:{group:function(){return this.$store.getters["groups/currentItemOrNew"]},documents:function(){var e=this;return this.group.documents.filter((function(t){return e.docTypeIsArray?e.documentTypeId.includes(t.document_type_id):t.document_type_id==e.documentTypeId}))},docTypeIsArray:function(){return Array.isArray(this.documentTypeId)},filteredTypes:function(){var e=this;return this.docTypeIsArray?(console.log(this.docTypeIsArray,this.documentTypeId),Object.values($["documentsTypes"]).filter((function(t){return e.documentTypeId.includes(t.id)})).map((function(e){return{label:e.long_name,value:e.id}}))):[]}},methods:{save:function(){var e=this;return Object(T["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n=new FormData,Object.keys(e.newDocument).forEach((function(t){var r=e.newDocument[t];null!=r&&n.append(t,r)})),n.append("file",e.$refs.fileInput.files[0]),t.next=6,e.$store.dispatch("groups/addApplicationDocument",{group:e.group,data:n});case 6:e.clearForm(),e.$emit("saved"),t.next=15;break;case 10:if(t.prev=10,t.t0=t["catch"](0),!Object(A["b"])(t.t0)){t.next=15;break}return e.errors=t.t0.response.data.errors,t.abrupt("return");case 15:case"end":return t.stop()}}),t,null,[[0,10]])})))()},cancel:function(){this.clearForm(),this.$emit("canceled")},clearForm:function(){this.initNewDocument(),this.clearErrors()},initNewDocument:function(){this.$refs.fileInput.value=null,this.newDocument={file:null,date_received:Object(I["b"])(new Date),date_reviewed:null,step:this.step,document_type_id:this.documentTypeId,notes:null}},clearErrors:function(){this.errors={}},initDownload:function(e){window.location=e.download_url},initDelete:function(e){this.activeDocument=e,this.showDeleteConfirmation=!0},cancelDelete:function(){this.showDeleteConfirmation=!1,this.resetActiveDocument()},commitDelete:function(){var e=this;return Object(T["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("groups/deleteDocument",{group:e.group,document:e.activeDocument});case 2:e.showDeleteConfirmation=!1,e.resetActiveDocument();case 4:case"end":return t.stop()}}),t)})))()},resetActiveDocument:function(){this.activeDocument={type:{}}}},mounted:function(){this.$store.dispatch("groups/getDocuments",this.group)}};const R=p()(F,[["render",_]]);var U=R,G={name:"SpecificationsSection",props:{docTypeId:{required:!0,type:[Number,Array]},readonly:{type:Boolean,default:!1}},components:{CspecSummary:f,ApplicationUploadForm:U},data:function(){return{}},computed:{cspecSummaryEnabled:function(){return this.$store.state.systemInfo.app.features.cspec_summary},specificationUpload:function(){return this.$store.state.systemInfo.app.features.specification_upload}},methods:{}};const q=p()(G,[["render",o]]);t["a"]=q}}]);
//# sourceMappingURL=application-detail~application-review~group-application~group-detail.c37a47bb.js.map