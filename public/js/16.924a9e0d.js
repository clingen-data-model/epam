(self["webpackChunkepam"]=self["webpackChunkepam"]||[]).push([[16],{298:function(e,t,n){var a=n(1602),o=n(3105),r=n(3610).f,l=a("unscopables"),s=Array.prototype;void 0==s[l]&&r(s,l,{configurable:!0,value:o(null)}),e.exports=function(e){s[l][e]=!0}},447:function(e,t,n){var a=n(3493);e.exports=function(e,t){var n=0,o=a(t),r=new e(o);while(o>n)r[n]=t[n++];return r}},2701:function(e,t,n){var a=n(200);e.exports=function(e){return a[e].prototype}},8255:function(e,t,n){"use strict";var a=n(1605),o=n(281),r=n(4601),l=n(5476),s=n(447),i=n(2701),u=n(298),c=Array,m=o(i("Array").sort);a({target:"Array",proto:!0},{toSorted:function(e){void 0!==e&&r(e);var t=l(this),n=s(c,t);return m(n,e)}}),u("toSorted")},1047:function(e,t,n){"use strict";n(3725),n(5019);var a=n(953),o=n(641),r=n(6364);const l={internal:1,suggestion:2,requirement:3};t.A=(e,t)=>{const n=(0,a.KR)([]),s=(0,o.EW)((()=>n.value.filter((e=>!e.is_resolved)))),i=(0,o.EW)((()=>s.value.filter((e=>e.comment_type_id==l.requirement)))),u=(0,o.EW)((()=>s.value.filter((e=>e.comment_type_id==l.suggestion)))),c=(0,o.EW)((()=>[...i.value,...u.value])),m=(0,o.EW)((()=>s.value.filter((e=>e.comment_type_id==l.internal)))),d=e=>n.value.findIndex((t=>t.id==e.id)),p=async()=>{n.value=await r.A.query({where:{subject_type:e,subject_id:t}})},v=e=>n.value.push(e),b=e=>n.value.splice(d(e),1),_=e=>n.value[d(e)]=e;return{subject:{type:e,id:t},comments:n,openComments:s,openRequirements:i,openSuggestions:u,openInternal:m,getComments:p,addComment:v,removeComment:b,updateComment:_,commentsForEp:c}}},7886:function(e,t,n){"use strict";n.d(t,{A:function(){return o}});n(1339);var a=n(696);class o{constructor(e,t={}){this.baseUrl=e,this.options=t}query(e){const t=(0,a.Sw)(e);return a.FH.get(this.baseUrl+t).then((e=>this.transformToEntity(e.data)))}find(e){return a.FH.get(`${this.baseUrl}/${e}`).then((e=>this.transformToEntity(e.data)))}save(e){return a.FH.post(this.baseUrl,e).then((e=>this.transformToEntity(e.data)))}update(e){return a.FH.put(`${this.baseUrl}/${e.id}`,e).then((e=>this.transformToEntity(e.data)))}destroy(e){return a.FH.delete(`${this.baseUrl}/${e.id}`)}transformToEntity(e){return this.options.entityClass&&Array.isArray(e)?e.map((e=>new this.options.entityClass(e))):e}}},6364:function(e,t,n){"use strict";var a=n(7886),o=n(696);const r=new a.A("/api/comments");r.resolve=e=>o.FH.post(`/api/comments/${e}/resolved`).then((e=>e.data)),r.unresolve=e=>o.FH.post(`/api/comments/${e}/unresolved`).then((e=>e.data)),t.A=r},8500:function(e,t,n){"use strict";n.d(t,{A:function(){return W}});n(1339);var a=n(641),o=n(953),r=n(33),l=n(6278),s=n(7659),i=(n(3725),n(5019),n(8255),n(9838),n(6514)),u=n(2823),c={__name:"ReviewMembership",props:{members:{required:!0,type:Array}},setup(e){const t=e,n={Chair:1,Coordinator:2,"Grant Liaison":3,Biocurator:4,Expert:5},l=e=>n[e.display_name]??1/0,s=(0,o.KR)({field:"roles",desc:!1}),c=(e,t)=>{let n=e.last_name.localeCompare(t.last_name);return 0===n&&(n=e.first_name.localeCompare(t.first_name)),n},m=(0,o.KR)([{name:"name",sortable:!0,label:"Name",sortFunction:c},{name:"legacy_credentials",sortable:!1,label:"Credentials"},{name:"roles",sortable:!0,label:"Roles",sortFunction:(e,t)=>e.role_priority-t.role_priority},{name:"legacy_expertise",sortable:!1,label:"Expertise"},{name:"institution",sortable:!1,label:"Institution"}]),d=(0,a.EW)((()=>t.members.map((e=>{const t=e.roles.toSorted(((e,t)=>e.id-t.id));return{id:e.id,first_name:e.person.first_name,last_name:e.person.last_name,name:e.person.name,institution:e.person.institution?.name,legacy_credentials:e.person.legacy_credentials,legacy_expertise:e.legacy_expertise,roles:t,role_priority:Math.min(...t.map(l)),active:e.isActive,person:e.person}})).filter((e=>e.active)))),p=(e,t)=>{e[t]||(e[t]=0),e[t]++},v=(0,a.EW)((()=>{const e={};return e["Total"]=d.value.length,console.log(d.value),Object.keys(n).forEach((t=>e[t]=0)),d.value.forEach((t=>{t.roles.forEach((t=>p(e,t.display_name))),0===t.roles.length&&p(e,"None")})),e}));return(e,t)=>{const n=(0,a.g2)("data-table");return(0,a.uX)(),(0,a.CE)("div",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)((0,o.R1)(v),((e,t)=>((0,a.uX)(),(0,a.CE)("div",{key:t},[(0,a.Lk)("span",null,(0,r.v_)(t)+": "+(0,r.v_)(e),1)])))),128)),(0,a.bF)(n,{fields:m.value,data:(0,o.R1)(d),sort:s.value,"onUpdate:sort":t[0]||(t[0]=e=>s.value=e),class:"text-xs"},{"cell-roles":(0,a.k6)((({item:e})=>[(0,a.Lk)("span",null,(0,r.v_)(e.roles.map((e=>e.display_name)).join(", ")),1)])),"cell-legacy_credentials":(0,a.k6)((({item:e})=>[(0,a.bF)(i.A,{person:e.person},null,8,["person"])])),"cell-legacy_expertise":(0,a.k6)((({item:e})=>[(0,a.bF)(u.A,{person:e.person,legacyExpertise:e.legacy_expertise},null,8,["person","legacyExpertise"])])),_:1},8,["fields","data","sort"])])}}};const m=c;var d=m,p=n(1877);const v={class:"space-y-4"},b={key:0,class:"mt-6"},_=(0,a.Lk)("h4",null,"Expertise of VCEP members",-1),y=(0,a.Lk)("h3",null,"Genes",-1),g={class:"mb-6"},f={key:0},k=(0,a.Lk)("h3",null,"Description of scope",-1),h={class:"flex-none"},w={key:0,class:"mt-1"},C=(0,a.Lk)("em",null,"Details:",-1);var R={__name:"DefinitionReview",setup(e){const t=(0,l.Pj)(),n=(0,a.EW)((()=>t.getters["groups/currentItemOrNew"])),i=(0,a.EW)((()=>n.value.expert_panel)),u=(0,a.EW)((()=>n.value?n.value.members:[])),c=(0,a.EW)((()=>({type:n.value.type.name?n.value.type.name.toUpperCase():"",long_base_name:i.value.long_base_name,short_base_name:i.value.short_base_name})));return(e,t)=>{const l=(0,a.g2)("object-dictionary"),m=(0,a.g2)("dictionary-row"),R=(0,a.g2)("markdown-block"),E=(0,a.g2)("simple-table");return(0,a.uX)(),(0,a.CE)("div",v,[(0,a.bF)(s.A,{title:"Basic Information",name:"basic-info"},{default:(0,a.k6)((()=>[(0,a.bF)(l,{obj:(0,o.R1)(c),"label-class":"w-40 font-bold"},null,8,["obj"]),(0,a.bF)(m,{label:"CDWG","label-class":"w-40 font-bold"},{default:(0,a.k6)((()=>[(0,a.eW)((0,r.v_)((0,o.R1)(n).parent?(0,o.R1)(n).parent.name:"--"),1)])),_:1})])),_:1}),(0,a.bF)(s.A,{title:"Membership",name:"membership"},{default:(0,a.k6)((()=>[(0,a.bF)(d,{members:(0,o.R1)(u)},null,8,["members"]),(0,o.R1)(n).is_vcep_or_scvcep?((0,a.uX)(),(0,a.CE)("div",b,[_,(0,a.Lk)("blockquote",null,[(0,a.bF)(R,{markdown:(0,o.R1)(i).membership_description},null,8,["markdown"])])])):(0,a.Q3)("",!0)])),_:1}),(0,a.bF)(s.A,{title:"Scope",name:"scope"},{default:(0,a.k6)((()=>[y,(0,a.Lk)("div",g,[(0,o.R1)(n).is_gcep?((0,a.uX)(),(0,a.CE)("p",f,(0,r.v_)((0,o.R1)(i).genes.map((e=>e.gene_symbol)).join(", ")),1)):(0,a.Q3)("",!0),(0,o.R1)(n).is_vcep_or_scvcep?((0,a.uX)(),(0,a.Wv)(E,{key:1,data:(0,o.R1)(i).genes.map((e=>({id:e.id,gene:e.gene_symbol,disease:e.disease_name}))),"key-by":"id","hide-columns":["id"]},null,8,["data"])):(0,a.Q3)("",!0)]),k,(0,a.Lk)("blockquote",null,[(0,a.bF)(R,{markdown:(0,o.R1)(i).scope_description},null,8,["markdown"])])])),_:1}),(0,o.R1)(n).is_gcep?((0,a.uX)(),(0,a.Wv)(s.A,{key:0,title:"Plans",name:"plans"},{default:(0,a.k6)((()=>[(0,a.bF)(m,{label:"Selected protocol","label-class":"w-48 font-bold"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",h,[(0,a.eW)((0,r.v_)((0,o.R1)(i).curation_review_protocol?e.titleCase((0,o.R1)(i).curation_review_protocol.full_name):null)+" ",1),100==(0,o.R1)(i).curation_review_protocol_id?((0,a.uX)(),(0,a.CE)("p",w,[C,(0,a.eW)(" "+(0,r.v_)((0,o.R1)(i).curation_review_protocol_other),1)])):(0,a.Q3)("",!0)])])),_:1})])),_:1})):(0,a.Q3)("",!0),(0,o.R1)(n).is_gcep?((0,a.uX)(),(0,a.Wv)(s.A,{key:1,title:"Attestations",name:"attestations"},{default:(0,a.k6)((()=>[(0,a.bF)(m,{label:"GCEP Attestation Signed","label-class":"w-52 font-bold"},{default:(0,a.k6)((()=>[(0,a.eW)((0,r.v_)((0,o.R1)(p.Yq)((0,o.R1)(i).gcep_attestation_date)),1)])),_:1}),(0,a.bF)(m,{label:"GCI Training Date","label-class":"w-52 font-bold"},{default:(0,a.k6)((()=>[(0,a.eW)((0,r.v_)((0,o.R1)(p.Yq)((0,o.R1)(i).gci_training_date)),1)])),_:1}),(0,a.bF)(m,{label:"NHGRI Attestation Signed","label-class":"w-52 font-bold"},{default:(0,a.k6)((()=>[(0,a.eW)((0,r.v_)((0,o.R1)(p.Yq)((0,o.R1)(i).nhgri_attestation_date)),1)])),_:1})])),_:1})):(0,a.Q3)("",!0),(0,o.R1)(n).is_vcep_or_scvcep?((0,a.uX)(),(0,a.Wv)(s.A,{key:2,title:"Attestations",name:"attestations"},{default:(0,a.k6)((()=>[(0,a.bF)(m,{label:"Reanalysis and Discrepancy Resolution Attestation Signed","label-class":"w-52 font-bold"},{default:(0,a.k6)((()=>[(0,a.eW)((0,r.v_)((0,o.R1)(p.Yq)((0,o.R1)(i).reanalysis_attestation_date)),1)])),_:1}),(0,a.bF)(m,{label:"NHGRI Attestation Signed","label-class":"w-60 font-bold"},{default:(0,a.k6)((()=>[(0,a.eW)((0,r.v_)((0,o.R1)(p.Yq)((0,o.R1)(i).nhgri_attestation_date)),1)])),_:1})])),_:1})):(0,a.Q3)("",!0)])}}};const E=R;var W=E},7659:function(e,t,n){"use strict";n.d(t,{A:function(){return ee}});n(3725),n(5019),n(2598);var a=n(641),o=n(33),r=n(953),l=n(3751),s=n(6278),i=(n(1339),n(696));class u{constructor(e,t){this.fields=e,this.repo=t,this.currentItem=(0,r.KR)({}),this.originalItem=(0,r.KR)({}),this.errors=(0,r.KR)({})}async find(e){return await this.repo.find(e).then((e=>(this.currentItem.value=e,this.originalItem.value=e,e)))}async save(e){this.clearErrors();try{const t=await this.repo.save(e);return this.clearCurrentItem(),t}catch(t){throw(0,i.Ah)(t)&&(this.errors.value=t.response.data.errors),t}}async update(e){this.clearErrors();try{return this.currentItem.value=this.repo.update(e),this.currentItem.value}catch(t){throw(0,i.Ah)(t)&&(this.errors.value=t.response.data.errors),t}}async destroy(e){this.repo.destroy(e)}cancel(){this.clearErrors(),this.currentItem.value.id||this.clearCurrentItem()}clearCurrentItem(){this.currentItem.value={}}clearErrors(){this.errors.value={}}}var c=u,m=n(6364),d=n(7886);class p extends d.A{constructor(e,t={}){super(e,t),this.cachedList=null}query(e){if(!this.cachedList){const t=super.query(e);this.cachedList=t}return this.cachedList}find(e){throw Error("CommentTypeRepository.find not implemented")}save(e){throw Error("CommentTypeRepository.save not implemented")}update(e){throw Error("CommentTypeRepository.update not implemented")}destroy(e){throw Error("CommentTypeRepository.destroy not implemented")}}const v=new p("/api/comment-types");var b=v;const _=(0,r.KR)([]),y=async()=>await b.query().then((e=>(_.value=e.map((e=>({label:e.name,value:e.id}))),_.value))),g=(0,r.KR)([{name:"comment_type_id",label:"Type",type:"select",options:_,required:!0},{name:"content",label:"Comment",type:"large-text",required:!0}]);var f=()=>(y(),new c(g,m.A)),k={__name:"ReviewCommentForm",props:{commentManager:{type:Object,required:!0},section:{type:[String,null],default:null},subjectType:{type:String,default:"App\\Modules\\Group\\Models\\Group"},subjectId:{type:Number,required:!1},comment:{type:Object},onlyInternal:{type:Boolean,default:!1}},emits:["saved","canceled"],setup(e,{emit:t}){const n=e,o=(0,a.WQ)("group");(0,a.sV)((()=>{n.comment&&(l.currentItem.value=n.comment)}));const l=f(),s=(0,a.EW)((()=>{const e=[...l.fields.value];if(n.onlyInternal){const t=e.findIndex((e=>"comment_type_id"==e.name));e.splice(t,1)}return e})),i=(0,a.EW)((()=>l.errors.value)),u=(0,a.EW)({get(){return l.currentItem.value},set(e){l.currentItem.value=e}}),c=()=>{l.clearCurrentItem(),l.clearErrors(),t("canceled")},m=()=>{u.value.subject_type=n.subjectType,u.value.subject_id=n.subjectId||o.value.id,u.value.metadata={section:n.section,root_subject_type:"App\\Modules\\Group\\Models\\Group",root_subject_id:o.value.id},n.onlyInternal&&(u.value.comment_type_id=1),l.save(u.value).then((e=>{n.commentManager.addComment(e),t("saved",e)}))},d=()=>{n.onlyInternal&&(u.value.comment_type_id=1),l.update(u.value).then((e=>{n.commentManager.updateComment(e),t("saved",e)}))},p=()=>{u.value.id?d():m()};return(e,t)=>{const n=(0,a.g2)("data-form"),o=(0,a.g2)("button-row");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(n,{fields:(0,r.R1)(s),modelValue:(0,r.R1)(u),"onUpdate:modelValue":t[0]||(t[0]=e=>(0,r.i9)(u)?u.value=e:null),errors:(0,r.R1)(i)},null,8,["fields","modelValue","errors"]),(0,a.bF)(o,{size:"xs","submit-text":"Save",onSubmitted:p,onCanceled:c})])}}};const h=k;var w=h,C=n(8579),R=n(1047),E=n(6563);const W={class:"my-2"},F={class:"comment-container"},x={key:0,class:"relative"},A={class:"flex justify-between items-start mb-1 rounded"},I={class:"flex space-x-2 items-end"},L={class:"block"},j={class:"flex space-x-2"},M=(0,a.eW)("Edit"),X=(0,a.eW)("Delete"),S=(0,a.eW)("Reply"),q=(0,a.eW)(" Continue with delete? "),T={class:"replies ml-1"},K={key:0},Q={class:"border-l-2 mt-2 px-2 py-1 bg-gray-100 bg-opacity-50"},G=(0,a.Lk)("strong",null,"Your Reply",-1);var D={__name:"ReviewComment",props:{comment:{type:Object,required:!0},commentManager:{type:Object,required:!0}},emits:["created","updated","resolved","unresolved","deleted"],setup(e,{emit:t}){const n=e,i=(0,s.Pj)(),u=f(),c=(0,r.KR)((0,R.A)("App\\Models\\Comment",n.comment.id)),d=(0,r.KR)(!1),p=(0,r.KR)(!1),v=e=>{if(!e.type)return"gray";switch(e.type.name){case"required revision":return"yellow";case"suggestion":return"blue";case"internal comment":return"gray";default:break}},b=()=>{p.value=!0},_=()=>{u.destroy(n.comment).then((()=>{p.value=!1,n.commentManager.removeComment(n.comment),t("deleted",n.comment)}))},y=async()=>{if(n.comment.is_resolved){const e=await m.A.unresolve(n.comment.id);return n.commentManager.updateComment(e),t("updated"),void t("resolved")}const e=await m.A.resolve(n.comment.id);n.commentManager.updateComment(e),t("updated"),t("unresolved")},g=(0,r.KR)(!1),k=async()=>{g.value||h(),g.value=!g.value},h=()=>{c.value.getComments().then((e=>(g.value=!0,e)))},D=(0,r.KR)(!1),H=()=>D.value=!0,U=()=>{const e={...n.comment};e.comments_count+=1,n.commentManager.updateComment(e),g.value=!0,D.value=!1},B=()=>{const e={...n.comment};e.comments_count-=1,n.commentManager.updateComment(e)};(0,a.sV)((()=>{c.value.getComments()}));const $=(0,a.EW)((()=>(0,E._m)("comments-manage")||i.getters.currentUser.person.id==n.comment.creator_id));return(t,n)=>{const s=(0,a.g2)("badge"),i=(0,a.g2)("icon-checkmark"),u=(0,a.g2)("popper"),m=(0,a.g2)("dropdown-menu"),f=(0,a.g2)("markdown-block"),h=(0,a.g2)("icon-reply"),R=(0,a.g2)("button-row"),E=(0,a.g2)("static-alert"),N=(0,a.g2)("ReviewComment",!0);return(0,a.uX)(),(0,a.CE)("div",W,[(0,a.Lk)("div",F,[d.value?((0,a.uX)(),(0,a.Wv)(w,{key:1,onCanceled:n[2]||(n[2]=e=>d.value=!1),onSaved:n[3]||(n[3]=e=>d.value=!1),comment:e.comment,commentManager:e.commentManager},null,8,["comment","commentManager"])):((0,a.uX)(),(0,a.CE)("div",x,[(0,a.Lk)("div",A,[(0,a.Lk)("div",I,[(0,a.Lk)("strong",L,(0,o.v_)(e.comment.creator&&e.comment.creator.name),1),(0,a.bF)(s,{class:"block",color:v(e.comment),size:"xxs"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.comment.type&&t.titleCase(e.comment.type.name)),1)])),_:1},8,["color"]),e.comment.is_resolved?((0,a.uX)(),(0,a.Wv)(u,{key:0,hover:"",arrow:"",content:"Resolved"},{default:(0,a.k6)((()=>[(0,a.bF)(i,{class:"text-green-500",title:"Resolved"})])),_:1})):(0,a.Q3)("",!0)]),(0,a.Lk)("div",j,[(0,r.R1)($)?((0,a.uX)(),(0,a.Wv)(m,{key:0,hideCheveron:""},{default:(0,a.k6)((()=>[(0,a.bF)(C["default"],{onClick:n[0]||(n[0]=e=>d.value=!0)},{default:(0,a.k6)((()=>[M])),_:1}),(0,a.bF)(C["default"],{onClick:y},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.comment.is_resolved?"Mark unresolved":"Resolve"),1)])),_:1}),(0,a.bF)(C["default"],{onClick:b},{default:(0,a.k6)((()=>[X])),_:1})])),_:1})):(0,a.Q3)("",!0)])]),(0,a.bF)(f,{markdown:e.comment.content,class:"text-sm"},null,8,["markdown"]),(0,a.Lk)("button",{class:"link",onClick:H},[(0,a.bF)(h,{class:"inline-block"}),S]),(0,a.bo)((0,a.bF)(E,{variant:"danger",class:""},{default:(0,a.k6)((()=>[q,(0,a.bF)(R,{size:"xs","submit-text":"Yes, delete",onSubmitted:_,onCanceled:n[1]||(n[1]=e=>p.value=!1),submitVariant:"red"})])),_:1},512),[[l.aG,p.value]])]))]),(0,a.Lk)("div",T,[g.value?((0,a.uX)(),(0,a.CE)("ul",K,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(c.value.comments,(e=>((0,a.uX)(),(0,a.CE)("li",{key:e.id,class:"border-l-2 mt-2 px-2 py-1 bg-gray-100 bg-opacity-50"},[(0,a.bF)(N,{comment:e,commentManager:c.value,onDeleted:B},null,8,["comment","commentManager"])])))),128))])):(0,a.Q3)("",!0),e.comment.comments_count>0?((0,a.uX)(),(0,a.CE)("button",{key:1,class:"link text-sm",onClick:k},(0,o.v_)(g.value?"Hide":"Show")+" "+(0,o.v_)(e.comment.comments_count)+" "+(0,o.v_)(e.comment.comments_count>1?"replies":"reply"),1)):(0,a.Q3)("",!0),(0,a.bo)((0,a.Lk)("div",Q,[G,(0,a.bF)(w,{subjectType:"App\\Models\\Comment",subjectId:e.comment.id,onlyInternal:!0,commentManager:c.value,onSaved:U,onCanceled:n[4]||(n[4]=e=>D.value=!1)},null,8,["subjectId","commentManager"])],512),[[l.aG,D.value]])])])}}};const H=D;var U=H;const B={class:"lg:flex lg:space-x-4 screen-block"},$={class:"flex justify-between items-start space-x-4"},N={key:0,class:"flex justify-between items-center lg:w-2/5 px-2 py-1 pb-0 bg-gray-100 rounded-lg"},O=(0,a.eW)(" Comments "),P={class:"lg:w-2/5 p-2 bg-gray-100 rounded-lg mb-2"},V={class:"flex justify-between items-center"},Y=(0,a.eW)(" Comments "),z={class:"bg-white mt-2 p-2"};var J={__name:"ReviewSection",props:{title:{type:String||null,default:null},name:{type:String||null,default:null}},setup(e){const t=e,n=(0,a.WQ)("commentManager"),s=(0,r.KR)(!1),i=(0,r.KR)(!0),u=(0,a.EW)((()=>n?n.value.comments.filter((e=>!!e.metadata&&e.metadata.section==t.name)):[])),c=(0,a.EW)((()=>n?u.value.find((e=>"required revision"==e.type.name))?"yellow":u.value.find((e=>"suggestion"==e.type.name))?"blue":"gray":null));return(t,m)=>{const d=(0,a.g2)("icon-cheveron-right"),p=(0,a.g2)("badge"),v=(0,a.g2)("icon-cheveron-down");return(0,a.uX)(),(0,a.CE)("section",B,[(0,a.Lk)("div",{class:(0,o.C4)(["overflow-x-auto flex-grow",{"lg:w-3/5":i.value}])},[(0,a.Lk)("header",$,[(0,a.Lk)("h2",{class:(0,o.C4)(["flex-grow",{"lg:w-3/5":!i.value}])},(0,o.v_)(e.title),3),(0,r.R1)(n)?(0,a.bo)(((0,a.uX)(),(0,a.CE)("div",N,[(0,a.Lk)("h3",null,[(0,a.bF)(d,{class:"inline cursor-pointer",onClick:m[0]||(m[0]=e=>i.value=!0)}),O,(0,a.bF)(p,{color:(0,r.R1)(c)},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)((0,r.R1)(u).length),1)])),_:1},8,["color"])])],512)),[[l.aG,!i.value]]):(0,a.Q3)("",!0)]),(0,a.Lk)("div",null,[(0,a.Lk)("div",null,[(0,a.RG)(t.$slots,"default")])])],2),(0,a.bo)((0,a.Lk)("div",P,[(0,a.Lk)("div",V,[(0,a.Lk)("h3",null,[(0,a.bF)(v,{class:"inline cursor-pointer",onClick:m[1]||(m[1]=e=>i.value=!1)}),Y])]),(0,a.Lk)("ul",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)((0,r.R1)(u),(e=>((0,a.uX)(),(0,a.CE)("li",{key:e.id,class:"bg-white p-2"},[(0,a.bF)(U,{comment:e,commentManager:(0,r.R1)(n)},null,8,["comment","commentManager"])])))),128))]),(0,a.Lk)("div",z,[s.value?((0,a.uX)(),(0,a.Wv)(w,{key:0,section:e.name,commentManager:(0,r.R1)(n),onSaved:m[2]||(m[2]=e=>s.value=!1),onCanceled:m[3]||(m[3]=e=>s.value=!1)},null,8,["section","commentManager"])):((0,a.uX)(),(0,a.CE)("button",{key:1,class:"btn btn-xs block",onClick:m[4]||(m[4]=e=>s.value=!0)},"Add comment"))])],512),[[l.aG,i.value&&(0,r.R1)(n)]])])}}};const Z=J;var ee=Z},7339:function(e,t,n){"use strict";n.d(t,{A:function(){return b}});n(1339);var a=n(641),o=n(953),r=n(33),l=n(3621),s=n(6278),i=n(7659);const u={class:"application-review p-2 bg-gray-100"},c={class:"w-full"},m={key:0,class:"mt-1"},d=(0,a.Lk)("em",null,"Details:",-1);var p={__name:"SustainedCurationReview",setup(e){const t=(0,s.Pj)(),n=(0,a.EW)((()=>t.getters["groups/currentItemOrNew"])),p=(0,a.EW)((()=>n.value.expert_panel));return(0,a.wB)((()=>n.value),((e,a)=>{!e.id||a&&e.id==a.id||t.dispatch("groups/getEvidenceSummaries",n.value)})),(e,t)=>{const s=(0,a.g2)("dictionary-row"),v=(0,a.g2)("markdown-block");return(0,a.uX)(),(0,a.CE)("div",u,[(0,o.R1)(p).has_approved_pilot?((0,a.uX)(),(0,a.Wv)(i.A,{key:0,title:"Plans for Ongoing Review and Discrepancy Resolution",name:"discrepency-review"},{default:(0,a.k6)((()=>[(0,a.bF)(s,{label:"Selected protocol",labelWidthClass:"w-48 font-bold"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",c,[(0,a.eW)((0,r.v_)((0,o.R1)(p).curation_review_protocol?e.titleCase((0,o.R1)(p).curation_review_protocol.full_name):null)+" ",1),100==(0,o.R1)(p).curation_review_protocol_id?((0,a.uX)(),(0,a.CE)("p",m,[d,(0,a.eW)(" "+(0,r.v_)((0,o.R1)(p).curation_review_protocol_other),1)])):(0,a.Q3)("",!0)])])),_:1}),(0,a.bF)(s,{label:"Notes",labelWidthClass:"w-48 font-bold"},{default:(0,a.k6)((()=>[(0,a.bF)(v,{markdown:(0,o.R1)(p).curation_review_process_notes},null,8,["markdown"])])),_:1})])),_:1})):(0,a.Q3)("",!0),(0,o.R1)(p).has_approved_pilot?((0,a.uX)(),(0,a.Wv)(i.A,{key:1,title:"Evidence Summaries",name:"evidence-summaries"},{default:(0,a.k6)((()=>[(0,a.bF)(l.A,{readonly:!0})])),_:1})):(0,a.Q3)("",!0),(0,o.R1)(p).has_approved_pilot?((0,a.uX)(),(0,a.Wv)(i.A,{key:2,title:"Core Approval Member, Trained Biocurator, and Biocurator Trainer Designation",name:"member-designation"},{default:(0,a.k6)((()=>[(0,a.bF)(s,{label:"Core Approval Members",labelWidthClass:"w-48 font-bold"},{default:(0,a.k6)((()=>[(0,a.eW)((0,r.v_)((0,o.R1)(n).coreApprovalMembers.map((e=>e.person.name)).join(", ")),1)])),_:1}),(0,a.bF)(s,{label:"Biocurator Trainers",labelWidthClass:"w-48 font-bold"},{default:(0,a.k6)((()=>[(0,a.eW)((0,r.v_)((0,o.R1)(n).biocuratorTrainers.map((e=>e.person.name)).join(", ")),1)])),_:1}),(0,a.bF)(s,{label:"Trained Biocurators",labelWidthClass:"w-48 font-bold"},{default:(0,a.k6)((()=>[(0,a.eW)((0,r.v_)((0,o.R1)(n).trainedBiocurators.map((e=>e.person.name)).join(", ")),1)])),_:1})])),_:1})):(0,a.Q3)("",!0)])}}};const v=p;var b=v}}]);
//# sourceMappingURL=16.924a9e0d.js.map