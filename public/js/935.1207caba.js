"use strict";(self["webpackChunkepam"]=self["webpackChunkepam"]||[]).push([[935],{417:function(e,t,n){var a=n(2262),l=n(6252),o=n(3600);const s={internal:1,suggestion:2,requirement:3};t["Z"]=(e,t)=>{const n=(0,a.iH)([]),r=(0,l.Fl)((()=>n.value.filter((e=>!e.is_resolved)))),i=(0,l.Fl)((()=>r.value.filter((e=>e.comment_type_id==s.requirement)))),m=(0,l.Fl)((()=>r.value.filter((e=>e.comment_type_id==s.suggestion)))),c=(0,l.Fl)((()=>[...i.value,...m.value])),u=(0,l.Fl)((()=>r.value.filter((e=>e.comment_type_id==s.internal)))),d=e=>n.value.findIndex((t=>t.id==e.id)),p=async()=>{n.value=await o.Z.query({where:{subject_type:e,subject_id:t}})},v=e=>n.value.push(e),_=e=>n.value.splice(d(e),1),w=e=>n.value[d(e)]=e;return{subject:{type:e,id:t},comments:n,openComments:r,openRequirements:i,openSuggestions:m,openInternal:u,getComments:p,addComment:v,removeComment:_,updateComment:w,commentsForEp:c}}},6381:function(e,t,n){n.d(t,{Z:function(){return l}});var a=n(9028);class l{constructor(e,t={}){this.baseUrl=e,this.options=t}query(e){const t=(0,a.nZ)(e);return a.hi.get(this.baseUrl+t).then((e=>this.transformToEntity(e.data)))}find(e){return a.hi.get(`${this.baseUrl}/${e}`).then((e=>this.transformToEntity(e.data)))}save(e){return a.hi.post(this.baseUrl,e).then((e=>this.transformToEntity(e.data)))}update(e){return a.hi.put(`${this.baseUrl}/${e.id}`,e).then((e=>this.transformToEntity(e.data)))}destroy(e){return a.hi["delete"](`${this.baseUrl}/${e.id}`)}transformToEntity(e){return this.options.entityClass&&Array.isArray(e)?e.map((e=>new this.options.entityClass(e))):e}}},3600:function(e,t,n){var a=n(6381),l=n(9028);const o=new a.Z("/api/comments");o.resolve=e=>l.hi.post(`/api/comments/${e}/resolved`).then((e=>e.data)),o.unresolve=e=>l.hi.post(`/api/comments/${e}/unresolved`).then((e=>e.data)),t["Z"]=o},9561:function(e,t,n){n.d(t,{Z:function(){return E}});var a=n(6252),l=n(2262),o=n(3577),s=n(3907),r=n(1234),i=(n(9669),n(865)),m=n(6350),c=n(4643),u=n(5699);const d={class:"membership-total"},p={class:"table-container"},v={class:"flex-table"},_=(0,a._)("thead",null,[(0,a._)("tr",{class:"text-sm"},[(0,a._)("th",{class:"flex-column"},"Name"),(0,a._)("th",{class:"flex-column"},"Roles"),(0,a._)("th",{class:"flex-column"},"Credentials"),(0,a._)("th",{class:"flex-column"},"Expertise"),(0,a._)("th",{class:"flex-column"},"Institution")])],-1),w={class:"text-sm"},y={class:"flex-column"},b={class:"flex-column"},g={class:"flex-column"},f={class:"flex-column"},h={class:"flex-column"};var k={__name:"ReviewMembership",props:{members:{required:!0,type:Array}},setup(e){const t=e,n=(0,l.iH)(["name","credentials","expertise","institution"]);(0,i.Fs)("ep-applications-manage")&&n.value.push("coi_completed");const s=(0,l.iH)([]);(0,a.YP)((()=>t.members),(async e=>{e&&(s.value=[...e])}),{immediate:!0});const r=e=>{const t={};return e.forEach((e=>{t[e.id]?t[e.id].roles=[...new Set([...t[e.id].roles,...e.roles])]:t[e.id]={...e,roles:[...e.roles]}})),Object.values(t)},k={chair:1,coordinator:2,biocurator:3,expert:4},U=e=>{for(const t of e)if(void 0!==k[t.name.toLowerCase()])return k[t.name.toLowerCase()];return 1/0},S=(0,a.Fl)((()=>C.value.length)),C=(0,a.Fl)((()=>{const e=r(s.value);return e.sort(((e,t)=>{const n=U(e.roles),a=U(t.roles);return n-a})),e.map((e=>{const t={id:e.id,first_name:e.person.first_name,last_name:e.person.last_name,name:e.person.name,institution:e.person.institution?e.person.institution.name:null,legacy_credentials:e.person.legacy_credentials,legacy_expertise:e.legacy_expertise,roles:e.roles.map((e=>e.name)).join(", "),person:e.person};return(0,i.Fs)("ep-applications-manage")&&(t.coi_completed=(0,u.p6)(e.coi_last_completed)),t}))}));return(e,t)=>((0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",d,[(0,a._)("p",null,"Membership Total = "+(0,o.zw)((0,l.SU)(S)),1)]),(0,a._)("div",p,[(0,a._)("table",v,[_,(0,a._)("tbody",w,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,l.SU)(C),(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e.id},[(0,a._)("td",y,(0,o.zw)(e.name),1),(0,a._)("td",b,(0,o.zw)(e.roles),1),(0,a._)("td",g,[(0,a.Wm)(m.Z,{person:e.person},null,8,["person"])]),(0,a._)("td",f,[(0,a.Wm)(c.Z,{person:e.person,legacyExpertise:e.legacy_expertise},null,8,["person","legacyExpertise"])]),(0,a._)("td",h,(0,o.zw)(e.institution),1)])))),128))])])])]))}};const U=k;var S=U;const C={class:"space-y-4"},x={key:0,class:"mt-6"},W=(0,a._)("h4",null,"Expertise of VCEP members",-1),j=(0,a._)("h3",null,"Genes",-1),q={class:"mb-6"},I={key:0},M=(0,a._)("h3",null,"Description of scope",-1),D={class:"flex-none"},z={key:0,class:"mt-1"},F=(0,a._)("em",null,"Details:",-1);var R={__name:"DefinitionReview",setup(e){const t=(0,s.oR)(),n=(0,a.Fl)((()=>t.getters["groups/currentItemOrNew"])),i=(0,a.Fl)((()=>n.value.expert_panel)),m=(0,a.Fl)((()=>n.value?n.value.members:[])),c=(0,a.Fl)((()=>({type:n.value.type.name?n.value.type.name.toUpperCase():"",long_base_name:i.value.long_base_name,short_base_name:i.value.short_base_name})));return(e,t)=>{const s=(0,a.up)("object-dictionary"),d=(0,a.up)("dictionary-row"),p=(0,a.up)("markdown-block"),v=(0,a.up)("simple-table");return(0,a.wg)(),(0,a.iD)("div",C,[(0,a.Wm)(r.Z,{title:"Basic Information",name:"basic-info"},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{obj:(0,l.SU)(c),"label-class":"w-40 font-bold"},null,8,["obj"]),(0,a.Wm)(d,{label:"CDWG","label-class":"w-40 font-bold"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)((0,l.SU)(n).parent?(0,l.SU)(n).parent.name:"--"),1)])),_:1})])),_:1}),(0,a.Wm)(r.Z,{title:"Membership",name:"membership"},{default:(0,a.w5)((()=>[(0,a.Wm)(S,{members:(0,l.SU)(m)},null,8,["members"]),(0,l.SU)(n).isVcep()?((0,a.wg)(),(0,a.iD)("div",x,[W,(0,a._)("blockquote",null,[(0,a.Wm)(p,{markdown:(0,l.SU)(i).membership_description},null,8,["markdown"])])])):(0,a.kq)("",!0)])),_:1}),(0,a.Wm)(r.Z,{title:"Scope",name:"scope"},{default:(0,a.w5)((()=>[j,(0,a._)("div",q,[(0,l.SU)(n).isGcep()?((0,a.wg)(),(0,a.iD)("p",I,(0,o.zw)((0,l.SU)(i).genes.map((e=>e.gene_symbol)).join(", ")),1)):(0,a.kq)("",!0),(0,l.SU)(n).isVcep()?((0,a.wg)(),(0,a.j4)(v,{key:1,data:(0,l.SU)(i).genes.map((e=>({id:e.id,gene:e.gene_symbol,disease:e.disease_name}))),"key-by":"id","hide-columns":["id"]},null,8,["data"])):(0,a.kq)("",!0)]),M,(0,a._)("blockquote",null,[(0,a.Wm)(p,{markdown:(0,l.SU)(i).scope_description},null,8,["markdown"])])])),_:1}),(0,l.SU)(n).isGcep()?((0,a.wg)(),(0,a.j4)(r.Z,{key:0,title:"Plans",name:"plans"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{label:"Selected protocol","label-class":"w-48 font-bold"},{default:(0,a.w5)((()=>[(0,a._)("div",D,[(0,a.Uk)((0,o.zw)((0,l.SU)(i).curation_review_protocol?e.titleCase((0,l.SU)(i).curation_review_protocol.full_name):null)+" ",1),100==(0,l.SU)(i).curation_review_protocol_id?((0,a.wg)(),(0,a.iD)("p",z,[F,(0,a.Uk)(" "+(0,o.zw)((0,l.SU)(i).curation_review_protocol_other),1)])):(0,a.kq)("",!0)])])),_:1})])),_:1})):(0,a.kq)("",!0),(0,l.SU)(n).isGcep()?((0,a.wg)(),(0,a.j4)(r.Z,{key:1,title:"Attestations",name:"attestations"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{label:"GCEP Attestation Signed","label-class":"w-52 font-bold"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)((0,l.SU)(u.p6)((0,l.SU)(i).gcep_attestation_date)),1)])),_:1}),(0,a.Wm)(d,{label:"GCI Training Date","label-class":"w-52 font-bold"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)((0,l.SU)(u.p6)((0,l.SU)(i).gci_training_date)),1)])),_:1}),(0,a.Wm)(d,{label:"NHGRI Attestation Signed","label-class":"w-52 font-bold"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)((0,l.SU)(u.p6)((0,l.SU)(i).nhgri_attestation_date)),1)])),_:1})])),_:1})):(0,a.kq)("",!0),(0,l.SU)(n).isVcep()?((0,a.wg)(),(0,a.j4)(r.Z,{key:2,title:"Attestations",name:"attestations"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{label:"Reanalysis and Discrepancy Resolution Attestation Signed","label-class":"w-52 font-bold"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)((0,l.SU)(u.p6)((0,l.SU)(i).reanalysis_attestation_date)),1)])),_:1}),(0,a.Wm)(d,{label:"NHGRI Attestation Signed","label-class":"w-60 font-bold"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)((0,l.SU)(u.p6)((0,l.SU)(i).nhgri_attestation_date)),1)])),_:1})])),_:1})):(0,a.kq)("",!0)])}}};const Z=R;var E=Z},1234:function(e,t,n){n.d(t,{Z:function(){return ee}});var a=n(6252),l=n(3577),o=n(2262),s=n(9963),r=n(3907),i=n(9028);class m{constructor(e,t){this.fields=e,this.repo=t,this.currentItem=(0,o.iH)({}),this.originalItem=(0,o.iH)({}),this.errors=(0,o.iH)({})}async find(e){return await this.repo.find(e).then((e=>(this.currentItem.value=e,this.originalItem.value=e,e)))}async save(e){this.clearErrors();try{const t=await this.repo.save(e);return this.clearCurrentItem(),t}catch(t){throw(0,i.z1)(t)&&(this.errors.value=t.response.data.errors),t}}async update(e){this.clearErrors();try{return this.currentItem.value=this.repo.update(e),this.currentItem.value}catch(t){throw(0,i.z1)(t)&&(this.errors.value=t.response.data.errors),t}}async destroy(e){this.repo.destroy(e)}cancel(){this.clearErrors(),this.currentItem.value.id||this.clearCurrentItem()}clearCurrentItem(){this.currentItem.value={}}clearErrors(){this.errors.value={}}}var c=m,u=n(3600),d=n(6381);class p extends d.Z{constructor(e,t={}){super(e,t),this.cachedList=null}query(e){if(!this.cachedList){const t=super.query(e);this.cachedList=t}return this.cachedList}find(e){throw Error("CommentTypeRepository.find not implemented")}save(e){throw Error("CommentTypeRepository.save not implemented")}update(e){throw Error("CommentTypeRepository.update not implemented")}destroy(e){throw Error("CommentTypeRepository.destroy not implemented")}}const v=new p("/api/comment-types");var _=v;const w=(0,o.iH)([]),y=async()=>await _.query().then((e=>(w.value=e.map((e=>({label:e.name,value:e.id}))),w.value))),b=(0,o.iH)([{name:"comment_type_id",label:"Type",type:"select",options:w,required:!0},{name:"content",label:"Comment",type:"large-text",required:!0}]);var g=()=>(y(),new c(b,u.Z)),f={__name:"ReviewCommentForm",props:{commentManager:{type:Object,required:!0},section:{type:[String,null],default:null},subjectType:{type:String,default:"App\\Modules\\Group\\Models\\Group"},subjectId:{type:Number,required:!1},comment:{type:Object},onlyInternal:{type:Boolean,default:!1}},emits:["saved","canceled"],setup(e,{emit:t}){const n=e,l=(0,a.f3)("group");(0,a.bv)((()=>{n.comment&&(s.currentItem.value=n.comment)}));const s=g(),r=(0,a.Fl)((()=>{const e=[...s.fields.value];if(n.onlyInternal){const t=e.findIndex((e=>"comment_type_id"==e.name));e.splice(t,1)}return e})),i=(0,a.Fl)((()=>s.errors.value)),m=(0,a.Fl)({get(){return s.currentItem.value},set(e){s.currentItem.value=e}}),c=()=>{s.clearCurrentItem(),s.clearErrors(),t("canceled")},u=()=>{m.value.subject_type=n.subjectType,m.value.subject_id=n.subjectId||l.value.id,m.value.metadata={section:n.section,root_subject_type:"App\\Modules\\Group\\Models\\Group",root_subject_id:l.value.id},n.onlyInternal&&(m.value.comment_type_id=1),s.save(m.value).then((e=>{n.commentManager.addComment(e),t("saved",e)}))},d=()=>{n.onlyInternal&&(m.value.comment_type_id=1),s.update(m.value).then((e=>{n.commentManager.updateComment(e),t("saved",e)}))},p=()=>{m.value.id?d():u()};return(e,t)=>{const n=(0,a.up)("data-form"),l=(0,a.up)("button-row");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(n,{fields:(0,o.SU)(r),modelValue:(0,o.SU)(m),"onUpdate:modelValue":t[0]||(t[0]=e=>(0,o.dq)(m)?m.value=e:null),errors:(0,o.SU)(i)},null,8,["fields","modelValue","errors"]),(0,a.Wm)(l,{size:"xs","submit-text":"Save",onSubmitted:p,onCanceled:c})])}}};const h=f;var k=h,U=n(2839),S=n(417),C=n(865);const x={class:"my-2"},W={class:"comment-container"},j={key:0,class:"relative"},q={class:"flex justify-between items-start mb-1 rounded"},I={class:"flex space-x-2 items-end"},M={class:"block"},D={class:"flex space-x-2"},z=(0,a.Uk)("Edit"),F=(0,a.Uk)("Delete"),R=(0,a.Uk)("Reply"),Z=(0,a.Uk)(" Continue with delete? "),E={class:"replies ml-1"},H={key:0},T={class:"border-l-2 mt-2 px-2 py-1 bg-gray-100 bg-opacity-50"},A=(0,a._)("strong",null,"Your Reply",-1);var G={__name:"ReviewComment",props:{comment:{type:Object,required:!0},commentManager:{type:Object,required:!0}},emits:["created","updated","resolved","unresolved","deleted"],setup(e,{emit:t}){const n=e,i=(0,r.oR)(),m=g(),c=(0,o.iH)((0,S.Z)("App\\Models\\Comment",n.comment.id)),d=(0,o.iH)(!1),p=(0,o.iH)(!1),v=e=>{if(!e.type)return"gray";switch(e.type.name){case"required revision":return"yellow";case"suggestion":return"blue";case"internal comment":return"gray";default:break}},_=()=>{p.value=!0},w=()=>{m.destroy(n.comment).then((()=>{p.value=!1,n.commentManager.removeComment(n.comment),t("deleted",n.comment)}))},y=async()=>{if(n.comment.is_resolved){const e=await u.Z.unresolve(n.comment.id);return n.commentManager.updateComment(e),t("updated"),void t("resolved")}const e=await u.Z.resolve(n.comment.id);n.commentManager.updateComment(e),t("updated"),t("unresolved")},b=(0,o.iH)(!1),f=async()=>{b.value||h(),b.value=!b.value},h=()=>{c.value.getComments().then((e=>(b.value=!0,e)))},G=(0,o.iH)(!1),$=()=>G.value=!0,O=()=>{const e={...n.comment};e.comments_count+=1,n.commentManager.updateComment(e),b.value=!0,G.value=!1},V=()=>{const e={...n.comment};e.comments_count-=1,n.commentManager.updateComment(e)};(0,a.bv)((()=>{c.value.getComments()}));const B=(0,a.Fl)((()=>(0,C.Fs)("comments-manage")||i.getters.currentUser.person.id==n.comment.creator_id));return(t,n)=>{const r=(0,a.up)("badge"),i=(0,a.up)("icon-checkmark"),m=(0,a.up)("popper"),u=(0,a.up)("dropdown-menu"),g=(0,a.up)("markdown-block"),h=(0,a.up)("icon-reply"),S=(0,a.up)("button-row"),C=(0,a.up)("static-alert"),N=(0,a.up)("ReviewComment",!0);return(0,a.wg)(),(0,a.iD)("div",x,[(0,a._)("div",W,[d.value?((0,a.wg)(),(0,a.j4)(k,{key:1,onCanceled:n[2]||(n[2]=e=>d.value=!1),onSaved:n[3]||(n[3]=e=>d.value=!1),comment:e.comment,commentManager:e.commentManager},null,8,["comment","commentManager"])):((0,a.wg)(),(0,a.iD)("div",j,[(0,a._)("div",q,[(0,a._)("div",I,[(0,a._)("strong",M,(0,l.zw)(e.comment.creator&&e.comment.creator.name),1),(0,a.Wm)(r,{class:"block",color:v(e.comment),size:"xxs"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(e.comment.type&&t.titleCase(e.comment.type.name)),1)])),_:1},8,["color"]),e.comment.is_resolved?((0,a.wg)(),(0,a.j4)(m,{key:0,hover:"",arrow:"",content:"Resolved"},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{class:"text-green-500",title:"Resolved"})])),_:1})):(0,a.kq)("",!0)]),(0,a._)("div",D,[(0,o.SU)(B)?((0,a.wg)(),(0,a.j4)(u,{key:0,hideCheveron:""},{default:(0,a.w5)((()=>[(0,a.Wm)(U["default"],{onClick:n[0]||(n[0]=e=>d.value=!0)},{default:(0,a.w5)((()=>[z])),_:1}),(0,a.Wm)(U["default"],{onClick:y},{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(e.comment.is_resolved?"Mark unresolved":"Resolve"),1)])),_:1}),(0,a.Wm)(U["default"],{onClick:_},{default:(0,a.w5)((()=>[F])),_:1})])),_:1})):(0,a.kq)("",!0)])]),(0,a.Wm)(g,{markdown:e.comment.content,class:"text-sm"},null,8,["markdown"]),(0,a._)("button",{class:"link",onClick:$},[(0,a.Wm)(h,{class:"inline-block"}),R]),(0,a.wy)((0,a.Wm)(C,{variant:"danger",class:""},{default:(0,a.w5)((()=>[Z,(0,a.Wm)(S,{size:"xs","submit-text":"Yes, delete",onSubmitted:w,onCanceled:n[1]||(n[1]=e=>p.value=!1),submitVariant:"red"})])),_:1},512),[[s.F8,p.value]])]))]),(0,a._)("div",E,[b.value?((0,a.wg)(),(0,a.iD)("ul",H,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(c.value.comments,(e=>((0,a.wg)(),(0,a.iD)("li",{key:e.id,class:"border-l-2 mt-2 px-2 py-1 bg-gray-100 bg-opacity-50"},[(0,a.Wm)(N,{comment:e,commentManager:c.value,onDeleted:V},null,8,["comment","commentManager"])])))),128))])):(0,a.kq)("",!0),e.comment.comments_count>0?((0,a.wg)(),(0,a.iD)("button",{key:1,class:"link text-sm",onClick:f},(0,l.zw)(b.value?"Hide":"Show")+" "+(0,l.zw)(e.comment.comments_count)+" "+(0,l.zw)(e.comment.comments_count>1?"replies":"reply"),1)):(0,a.kq)("",!0),(0,a.wy)((0,a._)("div",T,[A,(0,a.Wm)(k,{subjectType:"App\\Models\\Comment",subjectId:e.comment.id,onlyInternal:!0,commentManager:c.value,onSaved:O,onCanceled:n[4]||(n[4]=e=>G.value=!1)},null,8,["subjectId","commentManager"])],512),[[s.F8,G.value]])])])}}};const $=G;var O=$;const V={class:"lg:flex lg:space-x-4 screen-block"},B={class:"flex justify-between items-start space-x-4"},N={key:0,class:"flex justify-between items-center lg:w-2/5 px-2 py-1 pb-0 bg-gray-100 rounded-lg"},Y=(0,a.Uk)(" Comments "),L={class:"lg:w-2/5 p-2 bg-gray-100 rounded-lg mb-2"},P={class:"flex justify-between items-center"},K=(0,a.Uk)(" Comments "),J={class:"bg-white mt-2 p-2"};var Q={__name:"ReviewSection",props:{title:{type:String||null,default:null},name:{type:String||null,default:null}},setup(e){const t=e,n=(0,a.f3)("commentManager"),r=(0,o.iH)(!1),i=(0,o.iH)(!0),m=(0,a.Fl)((()=>n?n.value.comments.filter((e=>!!e.metadata&&e.metadata.section==t.name)):[])),c=(0,a.Fl)((()=>n?m.value.find((e=>"required revision"==e.type.name))?"yellow":m.value.find((e=>"suggestion"==e.type.name))?"blue":"gray":null));return(t,u)=>{const d=(0,a.up)("icon-cheveron-right"),p=(0,a.up)("badge"),v=(0,a.up)("icon-cheveron-down");return(0,a.wg)(),(0,a.iD)("section",V,[(0,a._)("div",{class:(0,l.C_)(["overflow-x-auto flex-grow",{"lg:w-3/5":i.value}])},[(0,a._)("header",B,[(0,a._)("h2",{class:(0,l.C_)(["flex-grow",{"lg:w-3/5":!i.value}])},(0,l.zw)(e.title),3),(0,o.SU)(n)?(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",N,[(0,a._)("h3",null,[(0,a.Wm)(d,{class:"inline cursor-pointer",onClick:u[0]||(u[0]=e=>i.value=!0)}),Y,(0,a.Wm)(p,{color:(0,o.SU)(c)},{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)((0,o.SU)(m).length),1)])),_:1},8,["color"])])],512)),[[s.F8,!i.value]]):(0,a.kq)("",!0)]),(0,a._)("div",null,[(0,a._)("div",null,[(0,a.WI)(t.$slots,"default")])])],2),(0,a.wy)((0,a._)("div",L,[(0,a._)("div",P,[(0,a._)("h3",null,[(0,a.Wm)(v,{class:"inline cursor-pointer",onClick:u[1]||(u[1]=e=>i.value=!1)}),K])]),(0,a._)("ul",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,o.SU)(m),(e=>((0,a.wg)(),(0,a.iD)("li",{key:e.id,class:"bg-white p-2"},[(0,a.Wm)(O,{comment:e,commentManager:(0,o.SU)(n)},null,8,["comment","commentManager"])])))),128))]),(0,a._)("div",J,[r.value?((0,a.wg)(),(0,a.j4)(k,{key:0,section:e.name,commentManager:(0,o.SU)(n),onSaved:u[2]||(u[2]=e=>r.value=!1),onCanceled:u[3]||(u[3]=e=>r.value=!1)},null,8,["section","commentManager"])):((0,a.wg)(),(0,a.iD)("button",{key:1,class:"btn btn-xs block",onClick:u[4]||(u[4]=e=>r.value=!0)},"Add comment"))])],512),[[s.F8,i.value&&(0,o.SU)(n)]])])}}};const X=Q;var ee=X},3496:function(e,t,n){n.d(t,{Z:function(){return _}});var a=n(6252),l=n(2262),o=n(3577),s=n(9955),r=n(3907),i=n(1234);const m={class:"application-review p-2 bg-gray-100"},c={class:"w-full"},u={key:0,class:"mt-1"},d=(0,a._)("em",null,"Details:",-1);var p={__name:"SustainedCurationReview",setup(e){const t=(0,r.oR)(),n=(0,a.Fl)((()=>t.getters["groups/currentItemOrNew"])),p=(0,a.Fl)((()=>n.value.expert_panel));return(0,a.YP)((()=>n.value),((e,a)=>{!e.id||a&&e.id==a.id||t.dispatch("groups/getEvidenceSummaries",n.value)})),(e,t)=>{const r=(0,a.up)("dictionary-row"),v=(0,a.up)("markdown-block");return(0,a.wg)(),(0,a.iD)("div",m,[(0,l.SU)(p).has_approved_pilot?((0,a.wg)(),(0,a.j4)(i.Z,{key:0,title:"Plans for Ongoing Review and Discrepancy Resolution",name:"discrepency-review"},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{label:"Selected protocol",labelWidthClass:"w-48 font-bold"},{default:(0,a.w5)((()=>[(0,a._)("div",c,[(0,a.Uk)((0,o.zw)((0,l.SU)(p).curation_review_protocol?e.titleCase((0,l.SU)(p).curation_review_protocol.full_name):null)+" ",1),100==(0,l.SU)(p).curation_review_protocol_id?((0,a.wg)(),(0,a.iD)("p",u,[d,(0,a.Uk)(" "+(0,o.zw)((0,l.SU)(p).curation_review_protocol_other),1)])):(0,a.kq)("",!0)])])),_:1}),(0,a.Wm)(r,{label:"Notes",labelWidthClass:"w-48 font-bold"},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{markdown:(0,l.SU)(p).curation_review_process_notes},null,8,["markdown"])])),_:1})])),_:1})):(0,a.kq)("",!0),(0,l.SU)(p).has_approved_pilot?((0,a.wg)(),(0,a.j4)(i.Z,{key:1,title:"Evidence Summaries",name:"evidence-summaries"},{default:(0,a.w5)((()=>[(0,a.Wm)(s.Z,{readonly:!0})])),_:1})):(0,a.kq)("",!0),(0,l.SU)(p).has_approved_pilot?((0,a.wg)(),(0,a.j4)(i.Z,{key:2,title:"Core Approval Member, Trained Biocurator, and Biocurator Trainer Designation",name:"member-designation"},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{label:"Core Approval Members",labelWidthClass:"w-48 font-bold"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)((0,l.SU)(n).coreApprovalMembers.map((e=>e.person.name)).join(", ")),1)])),_:1}),(0,a.Wm)(r,{label:"Biocurator Trainers",labelWidthClass:"w-48 font-bold"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)((0,l.SU)(n).biocuratorTrainers.map((e=>e.person.name)).join(", ")),1)])),_:1}),(0,a.Wm)(r,{label:"Trained Biocurators",labelWidthClass:"w-48 font-bold"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)((0,l.SU)(n).trainedBiocurators.map((e=>e.person.name)).join(", ")),1)])),_:1})])),_:1})):(0,a.kq)("",!0)])}}};const v=p;var _=v}}]);
//# sourceMappingURL=935.1207caba.js.map