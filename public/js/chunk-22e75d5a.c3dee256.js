(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-22e75d5a"],{5257:function(e,t,r){"use strict";var c=r("5530"),n=(r("caad"),r("2532"),r("b64b"),r("ac1f"),r("5319"),r("4de4"),r("d3b7"),r("6c02")),l=r("7a23");t["a"]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Object(n["d"])(),r=Object(n["c"])();e||(console.log('Warning: defaultSort is deprecated.  Please provide a sort object: {field: "fieldname", desc: boolean}'),e=e||{field:"name",desc:!1});var a=Object(l["computed"])({immediate:!0,get:function(){return Object.keys(r.query).includes("sort-field")?{field:r.query["sort-field"],desc:Boolean(parseInt(r.query["sort-desc"]))}:e},set:function(e){var n={"sort-field":e.field,"sort-desc":e.desc?1:0},l=Object(c["a"])(Object(c["a"])({},r.query),n);t.replace({path:r.path,query:l})}}),o=Object(l["computed"])({set:function(e){var n=r.query,l=r.path,a=Object(c["a"])({},n);e?a=Object(c["a"])(Object(c["a"])({},n),{filter:e}):delete a.filter,t.replace({path:l,query:a})},get:function(){return r.query.filter},immediate:!0});return{sort:a,filter:o}}},df40:function(e,t,r){"use strict";r.r(t);r("4de4"),r("d3b7"),r("4e82");var c=r("7a23"),n=Object(c["createElementVNode"])("h1",null,"Mail Log",-1),l=Object(c["createTextVNode"])(" Filter: "),a={class:"flex-none"},o=["innerHTML"];function i(e,t,r,i,u,d){var b=Object(c["resolveComponent"])("data-table"),s=Object(c["resolveComponent"])("dictionary-row"),f=Object(c["resolveComponent"])("modal-dialog");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",null,[n,l,Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return i.filter=e})},null,512),[[c["vModelText"],i.filter]]),Object(c["createVNode"])(b,{fields:u.fields,data:u.data,"filter-term":i.filter,"row-class":"cursor-pointer","row-click-handler":d.showMailDetail,sort:i.sort,"onUpdate:sort":t[1]||(t[1]=function(e){return i.sort=e})},{"cell-to":Object(c["withCtx"])((function(e){var t=e.item;return[Object(c["createElementVNode"])("ul",null,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(t.to,(function(e,t){return Object(c["openBlock"])(),Object(c["createElementBlock"])("li",{key:t},Object(c["toDisplayString"])(t),1)})),128))])]})),_:1},8,["fields","data","filter-term","row-click-handler","sort"]),Object(c["createVNode"])(f,{modelValue:u.showDetail,"onUpdate:modelValue":t[2]||(t[2]=function(e){return u.showDetail=e})},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(s,{label:"To","label-class":"font-bold",class:"mb-1 border-b"},{default:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("div",a,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(u.currentEmail.to,(function(e,t){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{key:t},Object(c["toDisplayString"])(t),1)})),128))])]})),_:1}),Object(c["createVNode"])(s,{label:"From","label-class":"font-bold",class:"mb-1 border-b"},{default:Object(c["withCtx"])((function(){return[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(u.currentEmail.from,(function(e,t){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{key:t},Object(c["toDisplayString"])(t),1)})),128))]})),_:1}),Object(c["createVNode"])(s,{label:"Cc","label-class":"font-bold",class:"mb-1 border-b"},{default:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("ul",null,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(u.currentEmail.cc,(function(e,t){return Object(c["openBlock"])(),Object(c["createElementBlock"])("li",{key:t},Object(c["toDisplayString"])(t),1)})),128))])]})),_:1}),Object(c["createVNode"])(s,{label:"Subject","label-class":"font-bold",class:"mb-1 border-b"},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(u.currentEmail.subject),1)]})),_:1}),Object(c["createVNode"])(s,{label:"Body","label-class":"font-bold",class:"mb-1"},{default:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("div",{innerHTML:u.currentEmail.body,class:"email-body w-3/4"},null,8,o)]})),_:1})]})),_:1},8,["modelValue"])])}var u=r("1da1"),d=(r("96cf"),r("b64b"),r("a15b"),r("f96b")),b=r("e328"),s=r("5257"),f={props:{},setup:function(){var e=Object(s["a"])({field:"created_at",desc:!0}),t=e.sort,r=e.filter;return{sort:t,filter:r}},data:function(){return{showDetail:!1,fields:[{name:"to",sortable:!0,type:Array,resolveValue:function(e){var t=Object.keys(e.to);return 0==t.length?"":1==t.length?t[0]:t.join("; ")}},{name:"subject",sortable:!0,type:String},{name:"created_at",label:"Sent at",sortable:!0,resolveValue:function(e){return Object(b["c"])(e.created_at)},resolveSort:function(e){return e.created_at},type:String}],data:[],currentEmail:{}}},computed:{},methods:{getMailLog:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d["a"].get("/api/mail-log").then((function(t){e.data=t.data}));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),alert(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))()},showMailDetail:function(e){this.currentEmail=e,this.showDetail=!0}},mounted:function(){this.getMailLog()}},j=(r("f5ed"),r("6b0d")),O=r.n(j);const m=O()(f,[["render",i]]);t["default"]=m},f1fd:function(e,t,r){},f5ed:function(e,t,r){"use strict";r("f1fd")}}]);
//# sourceMappingURL=chunk-22e75d5a.c3dee256.js.map