{"version":3,"file":"js/application-summary.abb9dc0e.js","mappings":"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","sources":["webpack://epam/./src/composables/router_aware_sort_and_filter.js","webpack://epam/./src/components/applications/ApplicationsSummaryTable.vue","webpack://epam/./src/components/applications/ApplicationsSummaryTable.vue?8d7d","webpack://epam/./src/views/SummaryGcep.vue","webpack://epam/./src/views/SummaryGcep.vue?5143","webpack://epam/./src/views/SummaryVcep.vue","webpack://epam/./src/views/SummaryVcep.vue?ca56"],"sourcesContent":["import { useRouter, useRoute } from 'vue-router'\nimport {computed} from 'vue'\n\nexport default function (defaultSort = null) {\n    const router = useRouter()\n    const route = useRoute()\n    if (!defaultSort){\n        console.log('Warning: defaultSort is deprecated.  Please provide a sort object: {field: \"fieldname\", desc: boolean}')\n        defaultSort = (defaultSort) ? defaultSort : {field: 'name', desc: false}\n    }\n    \n    const sort = computed({\n        immediate: true,\n        get() {\n            if (Object.keys(route.query).includes('sort-field')) {\n                return {\n                    field: route.query['sort-field'],\n                    desc: Boolean(parseInt(route.query['sort-desc']))\n                }\n            }\n            return defaultSort;\n        },\n        set(sortObj) {\n            const newSortQuery = {'sort-field': sortObj.field, 'sort-desc': sortObj.desc ? 1 : 0}\n    \n            const newQuery = {\n                ...route.query, \n                ...newSortQuery\n            };\n    \n            router.replace({path: route.path, query: newQuery})\n        }\n    });\n    \n    const filter = computed({\n        set(value) {\n            let currentQuery = route.query;\n            let currentPath = route.path;\n    \n            let updatedQuery = {...currentQuery};\n    \n            if (!value) {\n                delete updatedQuery.filter;\n            } else {\n                updatedQuery = {...currentQuery, ...{'filter': value} };\n            }\n    \n            router.replace({path: currentPath, query: updatedQuery})\n        },\n        get() {\n            return route.query.filter\n        },\n        immediate: true\n    });\n\n    return {\n        sort,\n        filter\n    }\n}\n","<template>\n    <div>\n        <div class=\"flex justify-between\">\n            <div class=\"mb-1 flex space-x-2\">\n                <label>Filter: <input type=\"text\" class=\"sm\" v-model=\"filter\" placeholder=\"filter\"></label>\n                <checkbox \n                    v-model=\"showCompleted\"\n                    label=\"Show completed\"\n                />\n            </div>\n        </div>\n        <data-table \n            :data=\"filteredData\" \n            :fields=\"selectedFields\" \n            :filter-term=\"filter\" \n            :row-click-handler=\"goToApplication\"\n            row-class=\"cursor-pointer\"\n            v-model:sort=\"sort\"\n            :style=\"remainingHeight\"\n            class=\"overflow-auto text-xs\"\n            ref=\"table\"\n        >\n            <template v-slot:cell-contacts=\"{item}\">\n                <ul>\n                    <li v-for=\"member in item.group.contacts\" :key=\"member.id\">\n                        <small><a :href=\"`mailto:${member.person.email}`\" class=\"text-blue-500\">{{member.person.name}}</a></small>\n                    </li>\n                </ul>\n            </template>\n            <template v-slot:cell-latest_log_entry_description=\"{value}\">\n                <div v-html=\"value\"></div>\n            </template>\n            <template v-slot:cell-latest_pending_next_action_entry=\"{value}\">\n                <div v-html=\"value\"></div>\n            </template>\n        </data-table>\n    </div>\n</template>\n<script>\nimport { mapGetters } from 'vuex'\nimport sortAndFilter from '@/composables/router_aware_sort_and_filter'\n\nexport default {\n    name: 'SummaryVceps',\n    components: {\n    },\n    props: {\n        expert_panel_type_id: {\n            type: Number,\n            default: null\n        }\n    },\n    data() {\n        return {\n            fields: [\n                {\n                    name: 'name',\n                    label: 'Name',\n                    type: String,\n                    sortable: true\n                },\n                {\n                    name: 'group.parent.name',\n                    label: 'CDWG',\n                    type: String,\n                    sortable: true,\n                    resolveValue (item) {\n                        if (item.group && item.group.parent) {\n                            return item.group.parent.name\n                        }\n                        return '';\n                    }\n                },\n                {\n                    name: 'current_step',\n                    label: 'Step',\n                    type: Number,\n                    sortable: true,\n                    resolveValue (item) {\n                        return item.isCompleted ? 'Completed' : item.current_step\n                    },\n                    resolveSort (item) {\n                        return item.isCompleted ? 5 : item.current_step\n                    }\n                },\n                {\n                    name: 'contacts',\n                    label: 'Contacts',\n                    type: Array,\n                    sortable: false,\n                    class: ['min-w-40'],\n                    step: 1\n                },\n                {\n                    name: 'step_1_received_date',\n                    label: this.expert_panel_type_id == 2 ? 'Step 1 Received' : 'Application Received',\n                    type: Date,\n                    sortable: true,\n                    class: ['min-w-28'],\n                    step: 1\n\n                },\n                {\n                    name: 'step_1_approval_date',\n                    label: this.expert_panel_type_id == 2 ? 'Step 1 Approved' : 'Application Approved',\n                    type: Date,\n                    sortable: true,\n                    class: ['min-w-28'],\n                    step: 1\n                },\n                {\n                    name: 'step_2_approval_date',\n                    label: 'Step 2 Approved',\n                    type: Date,\n                    sortable: true,\n                    class: ['min-w-28'],\n                    step: 2\n                },\n                {\n                    name: 'step_3_approval_date',\n                    label: 'Step 3 Approved',\n                    type: Date,\n                    sortable: true,\n                    class: ['min-w-28'],\n                    step: 3\n                },\n                {\n                    name: 'step_4_received_date',\n                    label: 'Step 4 Received',\n                    type: Date,\n                    sortable: true,\n                    class: ['min-w-28'],\n                    step: 4\n                },\n                {\n                    name: 'step_4_approval_date',\n                    label: 'Step 4 Approved',\n                    type: Date,\n                    sortable: true,\n                    class: ['min-w-28'],\n                    step: 4\n                }\n            ]\n        }\n    },\n    computed: {\n        ...mapGetters({\n            applications: 'applications/all'\n        }),\n        filteredData() {\n            return this.applications\n                .filter(item => !this.expert_panel_type_id || item.expert_panel_type_id == this.expert_panel_type_id)\n                .filter(item => {\n                    if (!this.showCompleted) {\n                        return item.date_completed == null;\n                    }\n                    return true;\n                })\n        },\n        showCompleted: {\n            set(value) {\n                let currentQuery = this.$route.query;\n                let currentPath = this.$route.path;\n                \n                let updatedQuery = {...currentQuery};\n\n                if (!value) {\n                    delete updatedQuery['show-completed'];\n                } else {\n                    updatedQuery = {...currentQuery, ...{'show-completed': 1} };\n                }\n\n                this.$router.replace({path: currentPath, query: updatedQuery})\n            },\n            get() {\n                return Boolean(parseInt(this.$route.query['show-completed']))\n            },\n            immediate: true\n        },\n        selectedFields() {\n            const stepsToShow = this.expert_panel_type_id == 2 ? [1,2,3,4] : [1]\n            return this.fields.filter(field => !field.step || stepsToShow.includes(field.step))\n        },\n        showAllInfo: {\n            immediate: true,\n                get() {\n                    if (Object.keys(this.$route.query).includes('showAllInfo')) {\n                        return this.$route.query.showAllInfo\n                    }\n                    return 0\n                },\n                set(newValue) {\n                    const newQuery = {...this.$route.query};\n                    newQuery.showAllInfo = newValue\n\n                    this.$router.replace({path: this.$route.path, query: newQuery})\n                }            \n        },\n        remainingHeight () {\n            return {height: 'calc(100vh - 220px)'}\n        }\n    },\n    methods: {\n\n        getApplications () {\n            const params = {\n                with: [\n                    'group',\n                    'group.parent',\n                    'group.latestLogEntry',\n                    'latestPendingNextAction',\n                    'type',\n                    'group.contacts',\n                    'group.contacts.person',\n                ],\n            }\n\n            const where = {};\n\n            if (Object.keys(where).length > 0) {\n                params.where = where;\n            }\n\n            this.$store.dispatch('applications/getApplications', params);\n        },\n        goToApplication (item) {\n            this.$router.push({name: 'ApplicationDetail', params: {uuid: item.uuid}})\n        },\n    },\n    mounted () {\n        this.getApplications()\n    },\n    setup() {\n        const {sort, filter} = sortAndFilter();\n        // const showAllInfo = computedQueryParam('showAllInfo');\n\n        return {\n            sort,\n            filter,\n            // showAllInfo\n        }\n    }\n}\n</script>","import { render } from \"./ApplicationsSummaryTable.vue?vue&type=template&id=53f89991\"\nimport script from \"./ApplicationsSummaryTable.vue?vue&type=script&lang=js\"\nexport * from \"./ApplicationsSummaryTable.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/bpow/src/clingen/gpm/resources/app/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <div>\n        <applications-summary-table :ep-type-id=\"1\"></applications-summary-table>\n    </div>\n</template>\n<script>\nimport ApplicationsSummaryTable from '@/components/applications/ApplicationsSummaryTable.vue'\n\nexport default {\n    name: 'GcepsSummary',\n    components: {\n        ApplicationsSummaryTable\n    },\n}\n</script>","import { render } from \"./SummaryGcep.vue?vue&type=template&id=e3b0923a\"\nimport script from \"./SummaryGcep.vue?vue&type=script&lang=js\"\nexport * from \"./SummaryGcep.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/bpow/src/clingen/gpm/resources/app/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <div>\n        <applications-summary-table :ep-type-id=\"2\"></applications-summary-table>\n    </div>\n</template>\n<script>\nimport ApplicationsSummaryTable from '@/components/applications/ApplicationsSummaryTable.vue'\n\nexport default {\n    name: 'GcepsSummary',\n    components: {\n        ApplicationsSummaryTable\n    },\n}\n</script>","import { render } from \"./SummaryVcep.vue?vue&type=template&id=1b459891\"\nimport script from \"./SummaryVcep.vue?vue&type=script&lang=js\"\nexport * from \"./SummaryVcep.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/bpow/src/clingen/gpm/resources/app/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["defaultSort","router","useRouter","route","useRoute","console","log","field","desc","sort","computed","immediate","get","Object","keys","query","includes","Boolean","parseInt","set","sortObj","newSortQuery","newQuery","replace","path","filter","value","currentQuery","currentPath","updatedQuery","class","_createElementBlock","_createElementVNode","_hoisted_1","_hoisted_2","type","$setup","placeholder","_createVNode","_component_checkbox","$options","label","_component_data_table","data","fields","style","ref","item","_Fragment","group","contacts","member","key","id","href","person","email","name","innerHTML","components","props","expert_panel_type_id","Number","default","String","sortable","resolveValue","parent","isCompleted","current_step","resolveSort","Array","step","this","Date","mapGetters","applications","filteredData","showCompleted","date_completed","$route","$router","selectedFields","stepsToShow","showAllInfo","newValue","remainingHeight","height","methods","getApplications","params","with","where","length","$store","dispatch","goToApplication","push","uuid","mounted","setup","sortAndFilter","__exports__","render","_component_applications_summary_table","ApplicationsSummaryTable"],"sourceRoot":""}