(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-70690752"],{"1d7f":function(e,t,n){"use strict";var r=n("7a23"),o={class:"mb-4"},a=Object(r["createElementVNode"])("p",{class:"text-sm mb-0"},"For all variants approved by either of the processes described above, a summary of approved variants should be sent to ensure that any members absent from a call have an opportunity to review each variant. The summary should be emailed to the full VCEP after the call and should summarize decisions that were made and invite feedback within a week.",-1),c={key:1};function i(e,t,n,i,u,l){var s=Object(r["resolveComponent"])("input-row");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[Object(r["createElementVNode"])("div",o,[Object(r["createVNode"])(s,{modelValue:l.group.expert_panel.meeting_frequency,"onUpdate:modelValue":[t[0]||(t[0]=function(e){return l.group.expert_panel.meeting_frequency=e}),t[1]||(t[1]=function(t){return e.$emit("update")})],label:"Meeting/call frequency",errors:n.errors.meeting_frequency,placeholder:"Once per week","label-width-class":"w-44",disabled:!l.canEdit},null,8,["modelValue","errors","disabled"]),Object(r["createVNode"])(s,{modelValue:l.group.expert_panel.curation_review_protocol_id,"onUpdate:modelValue":[t[2]||(t[2]=function(e){return l.group.expert_panel.curation_review_protocol_id=e}),t[3]||(t[3]=function(t){return e.$emit("update")})],options:[{value:1,label:"Process #1: Biocurator review followed by VCEP discussion"},{value:2,label:"Process #2: Paired biocurator/expert review followed by expedited VCEP approval"}],type:"radio-group",errors:n.errors.curation_review_protocol_id,disabeld:!l.canEdit,label:"VCEP Standardized Review Process",vertical:""},null,8,["modelValue","errors","disabeld"])]),a,l.canEdit?(Object(r["openBlock"])(),Object(r["createBlock"])(s,{key:0,modelValue:l.group.expert_panel.curation_review_process_notes,"onUpdate:modelValue":[t[4]||(t[4]=function(e){return l.group.expert_panel.curation_review_process_notes=e}),t[5]||(t[5]=function(t){return e.$emit("update")})],type:"large-text",label:"Curation and Review Process Notes",vertical:!0,"label-class":"font-bold"},null,8,["modelValue"])):(Object(r["openBlock"])(),Object(r["createElementBlock"])("blockquote",c,Object(r["toDisplayString"])(l.group.expert_panel.curation_review_process_notes),1))])}var u={name:"VcepOngoingPlansForm",props:{errors:{type:Object,required:!1,default:function(){return{}}},editing:{type:Boolean,required:!1,default:!0},readonly:{type:Boolean,required:!1,default:!1}},emits:["update"],computed:{group:{get:function(){return this.$store.getters["groups/currentItemOrNew"]},set:function(e){this.$store.commit("groups/addItem",e)}},canEdit:function(){return this.hasAnyPermission(["ep-applications-manage",["application-edit",this.group]])&&!this.readonly}}},l=n("6b0d"),s=n.n(l);const d=s()(u,[["render",i]]);t["a"]=d},"324b":function(e,t,n){"use strict";var r=n("7a23"),o={key:0},a={class:"text-lg pr-4"},c={key:1,class:"well text-center"},i={class:"text-lg pr-4"};function u(e,t,n,u,l,s){var d=Object(r["resolveComponent"])("evidence-summary"),m=Object(r["resolveComponent"])("evidence-summary-form");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[l.summaries.length>0?(Object(r["openBlock"])(),Object(r["createElementBlock"])("ul",o,[Object(r["createVNode"])(r["TransitionGroup"],{name:"slide-fade-down"},{default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(s.group.expert_panel.evidence_summaries,(function(e,t){return Object(r["openBlock"])(),Object(r["createElementBlock"])("li",{class:"my-4 flex",key:t},[Object(r["createElementVNode"])("div",a,Object(r["toDisplayString"])(t+1),1),Object(r["createVNode"])(d,{summary:e,group:s.group,onSaved:s.handleSavedSummary,onDeleted:s.handleDeleted,class:"flex-1",readonly:n.readonly},null,8,["summary","group","onSaved","onDeleted","readonly"])])})),128))]})),_:1})])):l.loading?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",c,"Loading...")):(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{key:2,class:Object(r["normalizeClass"])(["well text-center",{"cursor-pointer":!n.readonly}]),onClick:t[0]||(t[0]=function(){return s.startNewSummary&&s.startNewSummary.apply(s,arguments)})},"No example evidence summaries have been added.",2)),Object(r["withDirectives"])(Object(r["createElementVNode"])("ul",null,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(l.newSummaries,(function(e,t){return Object(r["openBlock"])(),Object(r["createElementBlock"])("li",{class:"my-4 flex",key:t},[Object(r["createElementVNode"])("div",i,Object(r["toDisplayString"])(t+1+l.summaries.length),1),Object(r["createVNode"])(m,{class:"flex-1",group:s.group,summary:e,onSaved:s.handleSavedSummary,onCanceled:s.cancelAdd},null,8,["group","summary","onSaved","onCanceled"])])})),128))],512),[[r["vShow"],s.adding]]),Object(r["withDirectives"])(Object(r["createElementVNode"])("div",null,[Object(r["withDirectives"])(Object(r["createElementVNode"])("button",{class:"btn btn-xs",onClick:t[1]||(t[1]=function(){return s.startNewSummary&&s.startNewSummary.apply(s,arguments)})},"Add Summary",512),[[r["vShow"],!s.adding]])],512),[[r["vShow"],!s.adding&&s.canEdit]])])}var l=n("1da1"),s=(n("c740"),n("a434"),n("96cf"),{key:0,class:"p-2 border rounded"}),d={class:"flex justify-between"},m=Object(r["createElementVNode"])("button",{class:"btn btn-xs"},"â€¦",-1),p=Object(r["createTextVNode"])("Edit"),b=Object(r["createTextVNode"])("Delete"),g=["href"];function h(e,t,n,o,a,c){var i=Object(r["resolveComponent"])("dropdown-item"),u=Object(r["resolveComponent"])("dropdown-menu"),l=Object(r["resolveComponent"])("evidence-summary-form"),h=Object(r["resolveComponent"])("button-row"),f=Object(r["resolveComponent"])("modal-dialog");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[Object(r["createVNode"])(r["Transition"],{mode:"out-in",name:"fade"},{default:Object(r["withCtx"])((function(){return[a.editing?(Object(r["openBlock"])(),Object(r["createBlock"])(l,{key:1,summary:n.summary,group:n.group,onSaved:c.handleSaved,onCanceled:c.cancelEdit},null,8,["summary","group","onSaved","onCanceled"])):(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",s,[Object(r["createElementVNode"])("header",d,[Object(r["createElementVNode"])("h4",null,Object(r["toDisplayString"])(n.summary.gene.gene_symbol)+" - "+Object(r["toDisplayString"])(n.summary.variant),1),c.canEdit?(Object(r["openBlock"])(),Object(r["createBlock"])(u,{key:0,"hide-cheveron":!0,class:"relative"},{label:Object(r["withCtx"])((function(){return[m]})),default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(i,{onClick:t[0]||(t[0]=function(e){return c.edit()})},{default:Object(r["withCtx"])((function(){return[p]})),_:1}),Object(r["createVNode"])(i,{onClick:t[1]||(t[1]=function(e){return c.confirmDelete()})},{default:Object(r["withCtx"])((function(){return[b]})),_:1})]})),_:1})):Object(r["createCommentVNode"])("",!0)]),Object(r["createElementVNode"])("p",null,Object(r["toDisplayString"])(n.summary.summary),1),n.summary.vci_url?(Object(r["openBlock"])(),Object(r["createElementBlock"])("a",{key:0,class:"link",href:n.summary.vci_url,target:"_blank"}," View in the VCI ",8,g)):Object(r["createCommentVNode"])("",!0)]))]})),_:1}),(Object(r["openBlock"])(),Object(r["createBlock"])(r["Teleport"],{to:"body"},[Object(r["createVNode"])(f,{modelValue:a.showDeleteConfirm,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.showDeleteConfirm=e}),title:"You are about to delete an example evidence summary."},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(" You are about to delete an evidence summary for "+Object(r["toDisplayString"])(n.summary.gene.gene_symbol)+" - "+Object(r["toDisplayString"])(n.summary.variant)+". Are you sure you want to continue? ",1),Object(r["createVNode"])(h,{onSubmit:c.deleteSummary,onCancel:c.cancelDelete,"submit-text":"Delete Summary"},null,8,["onSubmit","onCancel"])]})),_:1},8,["modelValue"])]))])}n("99af");var f=n("f96b"),v={class:"flex space-x-2"},O=Object(r["createElementVNode"])("option",{value:null},"Select...",-1),j=["value"];function y(e,t,n,o,a,c){var i=Object(r["resolveComponent"])("input-row"),u=Object(r["resolveComponent"])("button-row");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[Object(r["createElementVNode"])("div",v,[Object(r["createVNode"])(i,{class:"mt-0 mb-0",vertical:!0,label:"Gene",errors:a.errors.gene_id},{default:Object(r["withCtx"])((function(){return[Object(r["withDirectives"])(Object(r["createElementVNode"])("select",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.summaryClone.gene_id=e})},[O,(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(a.groupGenes,(function(e){return Object(r["openBlock"])(),Object(r["createElementBlock"])("option",{value:e.id,key:e.id},Object(r["toDisplayString"])(e.gene.gene_symbol),9,j)})),128))],512),[[r["vModelSelect"],a.summaryClone.gene_id]])]})),_:1},8,["errors"]),Object(r["createVNode"])(i,{class:"mt-0 mb-0",modelValue:a.summaryClone.variant,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.summaryClone.variant=e}),vertical:!0,label:"Variant",errors:a.errors.variant},null,8,["modelValue","errors"])]),Object(r["createVNode"])(i,{class:"mt-0 mb-0",label:"Summary",vertical:!0,errors:a.errors.summary},{default:Object(r["withCtx"])((function(){return[Object(r["withDirectives"])(Object(r["createElementVNode"])("textarea",{rows:"5",class:"w-full","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.summaryClone.summary=e})},null,512),[[r["vModelText"],a.summaryClone.summary]])]})),_:1},8,["errors"]),Object(r["createVNode"])(i,{class:"mt-0",modelValue:a.summaryClone.vci_url,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.summaryClone.vci_url=e}),label:"VCI URL",vertical:!0,"input-class":"w-full",errors:a.errors.vci_url},null,8,["modelValue","errors"]),Object(r["createVNode"])(u,{"submit-text":"save",onSubmit:c.save,onCancel:c.cancel},null,8,["onSubmit","onCancel"])])}var w=n("5530"),k=n("033d"),V={name:"EvidenceSummaryForm",props:{group:{required:!0,type:Object},summary:{required:!0,type:Object}},emits:["saved","canceled"],data:function(){return{groupGenes:[],summaryClone:{gene:{}},errors:{}}},computed:{},watch:{group:{immediate:!0,handler:function(){this.group&&this.group.id&&this.getGroupGenes()}},summary:{immediate:!0,handler:function(){this.summaryClone=Object(w["a"])({},this.summary)}}},methods:{save:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n="/api/groups/".concat(e.group.uuid,"/expert-panel/evidence-summaries"),r="post",e.summaryClone.id&&(n+="/".concat(e.summaryClone.id),r="put"),t.next=6,Object(f["a"])({method:r,url:n,data:e.summaryClone}).then((function(e){return e.data.data}));case 6:o=t.sent,e.$emit("saved",o),e.$store.commit("pushSuccess","Saved example evidence summary"),e.editing=!1,t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),Object(k["a"])(t.t0)&&(e.errors=t.t0.response.data.errors);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()},cancel:function(){this.initSummaryClone(),this.$emit("canceled")},edit:function(e){e.editing=!0},getGroupGenes:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f["a"].get("/api/groups/".concat(e.group.uuid,"/expert-panel/genes")).then((function(e){return e.data}));case 2:e.groupGenes=t.sent;case 3:case"end":return t.stop()}}),t)})))()},initSummaryClone:function(){this.summaryClone={gene:{}}}}},E=n("6b0d"),C=n.n(E);const N=C()(V,[["render",y]]);var S=N,x={components:{EvidenceSummaryForm:S},name:"EvidenceSummary",props:{summary:{required:!0,type:Object},group:{required:!0,type:Object},readonly:{type:Boolean,required:!1,default:!1}},emits:["edit","saved","deleted"],data:function(){return{editing:!1,showDeleteConfirm:!1}},computed:{canEdit:function(){return this.hasAnyPermission(["ep-applications-manage",["application-edit",this.group]])&&!this.readonly}},methods:{handleSaved:function(e){this.$emit("saved",e),this.editing=!1},edit:function(){this.editing=!0},cancelEdit:function(){this.editing=!1},confirmDelete:function(){this.showDeleteConfirm=!0},deleteSummary:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f["a"].delete("/api/groups/".concat(e.group.uuid,"/application/evidence-summaries/").concat(e.summary.id));case 3:e.$emit("deleted",e.summary),t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),console.error(t.t0);case 9:e.showDeleteConfirm=!1;case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))()},cancelDelete:function(){this.showDeleteConfirm=!1}}};const _=C()(x,[["render",h]]);var B=_,D={name:"EvidenceSummaryList",components:{EvidenceSummary:B,EvidenceSummaryForm:S},emits:["summaries-added"],props:{readonly:{type:Boolean,required:!1,default:!1}},data:function(){return{newSummaries:[],errors:{},summaries:[],showDeleteConfirm:!1,selectedSummary:{gene:{}},loading:!1}},computed:{group:{get:function(){return this.$store.getters["groups/currentItemOrNew"]},set:function(e){this.$store.commit("groups/addItem",e)}},meetsRequirements:function(){return this.summaries.length>4},adding:function(){return this.newSummaries.length>0},canEdit:function(){return this.hasAnyPermission(["ep-applications-manage",["application-edit",this.group]])&&!this.readonly}},watch:{group:{immediate:!0,handler:function(){this.group&&this.group.id&&this.getEvidenceSummaries()}}},methods:{getEvidenceSummaries:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.$store.dispatch("groups/getEvidenceSummaries",e.group);case 4:e.summaries=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),console.log(t.t0);case 10:e.loading=!1;case 11:case"end":return t.stop()}}),t,null,[[1,7]])})))()},startNewSummary:function(){this.readonly||this.newSummaries.push({gene:null,variant:null,summary:null})},clearNewSummaries:function(){this.newSummaries=[]},handleSavedSummary:function(){this.getEvidenceSummaries(),this.clearNewSummaries(),this.$emit("summaries-added")},handleDeleted:function(e){var t=this.summaries.findIndex((function(t){return t.id==e.id}));t>-1&&this.summaries.splice(t,1),this.getEvidenceSummaries()},cancelAdd:function(){this.clearNewSummaries()},mergeSummary:function(e){var t=this.summaries.findIndex((function(t){return t.id==e.id}));t>-1?this.summaries.splice(t,1,e):this.summaries.push(e)}}};const R=C()(D,[["render",u]]);t["a"]=R},"4f16":function(e,t,n){"use strict";n("efef")},"5b0d":function(e,t,n){},"8d34":function(e,t,n){"use strict";n.r(t);var r=n("7a23"),o=function(e){return Object(r["pushScopeId"])("data-v-173b994e"),e=e(),Object(r["popScopeId"])(),e},a={class:"mb-8"},c=o((function(){return Object(r["createElementVNode"])("p",{class:"text-md-lg"},"Each time a new ACMG Guidelines Specification is approved we ask that your review your sustained curation information and make sure it's up to date and accurate.",-1)})),i=o((function(){return Object(r["createElementVNode"])("header",null,[Object(r["createElementVNode"])("h3",null,"Plans for Ongoing Review and Reanalysis and Discrepancy Resolution")],-1)})),u=o((function(){return Object(r["createElementVNode"])("header",null,[Object(r["createElementVNode"])("h3",null,"Example Evidence Summaries")],-1)})),l=o((function(){return Object(r["createElementVNode"])("header",null,[Object(r["createElementVNode"])("h3",null,"Example Evidence Summaries")],-1)})),s=o((function(){return Object(r["createElementVNode"])("header",null,[Object(r["createElementVNode"])("h3",null,"Attestion of Accuracy")],-1)})),d=["disabled"];function m(e,t,n,o,m,p){var b=Object(r["resolveComponent"])("group-breadcrumbs"),g=Object(r["resolveComponent"])("vcep-ongoing-plans-form"),h=Object(r["resolveComponent"])("evidence-summaries"),f=Object(r["resolveComponent"])("member-designation-form"),v=Object(r["resolveComponent"])("checkbox");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",a,[Object(r["createVNode"])(b,{group:p.group},null,8,["group"]),Object(r["createElementVNode"])("h1",null,"Review Sustained Curation Details for "+Object(r["toDisplayString"])(p.group.displayName),1),c,Object(r["createElementVNode"])("section",null,[i,Object(r["createVNode"])(g,{onUpdate:e.saveOngoingPlans,errors:m.errors},null,8,["onUpdate","errors"])]),Object(r["createElementVNode"])("section",null,[u,Object(r["createVNode"])(h,{group:p.group,class:"pb-2 mb-4 border-b"},null,8,["group"])]),Object(r["createElementVNode"])("section",null,[l,Object(r["createVNode"])(f,{class:"pb-2 mb-4 border-b"})]),Object(r["createElementVNode"])("section",null,[s,Object(r["createVNode"])(v,{label:"I confirm that all of the information is is accurate and up to date.",modelValue:m.attestation,"onUpdate:modelValue":t[0]||(t[0]=function(e){return m.attestation=e}),class:"text-md-lg"},null,8,["modelValue"]),Object(r["createElementVNode"])("button",{onClick:t[1]||(t[1]=function(){return p.submitReview&&p.submitReview.apply(p,arguments)}),disabled:p.canSubmit,class:"btn btn-lg blue"}," Submit ",8,d)])])}var p=n("1da1"),b=(n("96cf"),n("1d7f")),g=n("324b"),h=n("ec0d"),f=n("2ef0"),v={name:"SustainedCurationReview",components:{VcepOngoingPlansForm:b["a"],EvidenceSummaries:g["a"],MemberDesignationForm:h["a"]},props:{uuid:{type:String,required:!0}},data:function(){return{errors:{},attestation:!1}},computed:{group:function(){return this.$store.getters["groups/currentItemOrNew"]},expertPanel:function(){return this.group.expert_panel},canSubmit:function(){return!this.attestation}},watch:{uuid:{immediate:!0,handler:function(){this.getGroup()}}},methods:{getGroup:function(){this.$store.dispatch("groups/findAndSetCurrent",this.uuid)},submitReview:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("groups/completeSustainedCurationReview",e.group);case 2:e.$router.go(-1);case 3:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;this.saveOngoingPlans=Object(f["debounce"])((function(){var t=e.group,n=t.uuid,r=t.expert_panel;return e.$store.dispatch("groups/curationReviewProtocolUpdate",{uuid:n,expertPanel:r})}),2e3)}},O=(n("4f16"),n("6b0d")),j=n.n(O);const y=j()(v,[["render",m],["__scopeId","data-v-173b994e"]]);t["default"]=y},9235:function(e,t,n){},b346:function(e,t,n){"use strict";n("9235")},c32c:function(e,t,n){"use strict";n("5b0d")},ec0d:function(e,t,n){"use strict";var r=n("7a23"),o=function(e){return Object(r["pushScopeId"])("data-v-16f93278"),e=e(),Object(r["popScopeId"])(),e},a={class:"text-sm"},c=o((function(){return Object(r["createElementVNode"])("tr",null,[Object(r["createElementVNode"])("th",{colspan:"2"},"Â "),Object(r["createElementVNode"])("th",{colspan:"1",colgroup:"biocurator"},"Â "),Object(r["createElementVNode"])("th",{colspan:"2",colgroup:"biocurator",class:"text-center"},"Training"),Object(r["createElementVNode"])("th",{colspan:"2"},"Â ")],-1)})),i=o((function(){return Object(r["createElementVNode"])("th",null,"First Name",-1)})),u=o((function(){return Object(r["createElementVNode"])("th",null,"Last Name",-1)})),l=o((function(){return Object(r["createElementVNode"])("th",{colgroup:"biocurator",class:"w-24"},"Biocurator",-1)})),s=o((function(){return Object(r["createElementVNode"])("th",{colgroup:"biocurator",class:"w-20"},"Level 1",-1)})),d=o((function(){return Object(r["createElementVNode"])("th",{colgroup:"biocurator",class:"w-20"},"Level 2",-1)})),m=o((function(){return Object(r["createElementVNode"])("th",null,"Biocurator Trainer",-1)})),p=Object(r["createTextVNode"])(" Core Approval Member ");function b(e,t,n,o,b,g){var h=Object(r["resolveComponent"])("icon-info"),f=Object(r["resolveComponent"])("popover"),v=Object(r["resolveComponent"])("member-designation-row");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[Object(r["createElementVNode"])("table",a,[Object(r["createElementVNode"])("thead",null,[c,Object(r["createElementVNode"])("tr",null,[i,u,l,s,d,m,Object(r["createElementVNode"])("th",null,[p,Object(r["createVNode"])(f,{arrow:"",content:"Core approval members are responsible for ongoing final approval of variant classifications.",hover:""},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(h,{class:"inline-block cursor-pointer",width:16,height:16})]})),_:1})])])]),Object(r["createElementVNode"])("tbody",null,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(g.group.members,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])(v,{member:e,key:e.id,ref_for:!0,ref:"memberRow".concat(e.id),readonly:n.readonly,onUpdated:g.handleMemberUpdate},null,8,["member","readonly","onUpdated"])})),128))])])])}var g=n("1da1"),h=(n("96cf"),{colgroup:"biocurator"}),f=["disabled"],v={colgroup:"biocurator"},O=["disabled"],j={colgroup:"biocurator"},y=["disabled"],w=["disabled"],k=["disabled"];function V(e,t,n,o,a,c){return Object(r["openBlock"])(),Object(r["createElementBlock"])("tr",null,[Object(r["createElementVNode"])("td",null,Object(r["toDisplayString"])(a.workingCopy.person.first_name),1),Object(r["createElementVNode"])("td",null,Object(r["toDisplayString"])(a.workingCopy.person.last_name),1),Object(r["createElementVNode"])("td",h,[Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=function(e){return c.biocurator=e}),disabled:!c.canEdit,onInput:t[1]||(t[1]=function(){return e.debounceSave&&e.debounceSave.apply(e,arguments)})},null,40,f),[[r["vModelCheckbox"],c.biocurator]])]),Object(r["createElementVNode"])("td",v,[Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.workingCopy.training_level_1=e}),disabled:!c.canEdit,onInput:t[3]||(t[3]=function(){return e.debounceSave&&e.debounceSave.apply(e,arguments)})},null,40,O),[[r["vModelCheckbox"],a.workingCopy.training_level_1]])]),Object(r["createElementVNode"])("td",j,[Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=function(e){return a.workingCopy.training_level_2=e}),disabled:!c.canEdit,onInput:t[5]||(t[5]=function(){return e.debounceSave&&e.debounceSave.apply(e,arguments)})},null,40,y),[[r["vModelCheckbox"],a.workingCopy.training_level_2]])]),Object(r["createElementVNode"])("td",null,[Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=function(e){return c.biocuratorTrainer=e}),disabled:!c.canEdit,onInput:t[7]||(t[7]=function(){return e.debounceSave&&e.debounceSave.apply(e,arguments)})},null,40,w),[[r["vModelCheckbox"],c.biocuratorTrainer]])]),Object(r["createElementVNode"])("td",null,[Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{type:"checkbox","onUpdate:modelValue":t[8]||(t[8]=function(e){return c.coreApprovalMember=e}),disabled:!c.canEdit,onInput:t[9]||(t[9]=function(){return e.debounceSave&&e.debounceSave.apply(e,arguments)})},null,40,k),[[r["vModelCheckbox"],c.coreApprovalMember]])])])}var E=n("86ed"),C=n("2ef0"),N={name:"ComponentName",props:{member:{type:E["a"],required:!0},readonly:{type:Boolean,required:!1,default:!1}},emits:["updated"],data:function(){return{workingCopy:new E["a"]}},computed:{group:function(){return this.$store.getters["groups/currentItemOrNew"]},biocurator:{get:function(){return this.workingCopy.hasRole("biocurator")},set:function(e){this.toggleRole(e,"biocurator")}},biocuratorTrainer:{get:function(){return this.workingCopy.hasRole("biocurator-trainer")},set:function(e){this.toggleRole(e,"biocurator-trainer")}},coreApprovalMember:{get:function(){return this.workingCopy.hasRole("core-approval-member")},set:function(e){this.toggleRole(e,"core-approval-member")}},canEdit:function(){return this.hasAnyPermission(["ep-applications-manage",["application-edit",this.group]])&&!this.readonly}},watch:{member:{immediate:!0,handler:function(e){this.syncWorkingCopy(e)}}},methods:{initWorkingCopy:function(){this.workingCopy=new E["a"]},syncWorkingCopy:function(e){e.id&&(this.workingCopy=e.clone())},toggleRole:function(e,t){e?this.workingCopy.addRole(t):this.workingCopy.removeRole(t)},save:function(){var e=[];return e.push(this.updateTrainingInfo()),e.push(this.syncRoles()),e},updateTrainingInfo:function(){if(this.workingCopy.isDirty("training_level_1")||this.workingCopy.isDirty("training_level_2"))return this.$store.dispatch("groups/memberUpdate",{groupUuid:this.group.uuid,memberId:this.workingCopy.id,data:{training_level_1:this.workingCopy.training_level_1,training_level_2:this.workingCopy.training_level_2}})},syncRoles:function(){if(console.log("syncRoles"),this.workingCopy.isDirty("roles"))return this.$store.dispatch("groups/memberSyncRoles",{group:this.group,member:this.workingCopy})},emitUpdated:function(){this.$emit("updated",this.workingCopy)}},created:function(){var e=this;this.debounceSave=Object(C["debounce"])((function(){e.save()}),1e3)}},S=(n("c32c"),n("6b0d")),x=n.n(S);const _=x()(N,[["render",V],["__scopeId","data-v-3e25d82b"]]);var B=_,D={name:"MemberDesignationForm",components:{MemberDesignationRow:B},props:{readonly:{type:Boolean,required:!1,default:!1}},computed:{group:{get:function(){return this.$store.getters["groups/currentItemOrNew"]}},canEdit:function(){return this.hasAnyPermission(["ep-applications-manage",["application-edit",this.group]])&&!this.readonly}},watch:{group:{immediate:!0,handler:function(e,t){var n=this;return Object(g["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:!e.id||t&&e.id==t.id||n.$store.dispatch("groups/getMembers",n.group);case 1:case"end":return r.stop()}}),r)})))()}}},methods:{getMembers:function(){this.$store.dispatch("groups/getMembers",{group:this.group})},handleMemberUpdate:function(){this.$emit("updated")}}};n("b346");const R=x()(D,[["render",b],["__scopeId","data-v-16f93278"]]);t["a"]=R},efef:function(e,t,n){}}]);
//# sourceMappingURL=chunk-70690752.9a897faa.js.map