{"version":3,"sources":["webpack:///./src/components/applications/CreateApplicationForm.vue","webpack:///./src/components/applications/CreateApplicationForm.vue?77a5"],"names":["_createElementVNode","class","value","_createBlock","_component_form_container","onKeydown","$options","_hoisted_1","_createVNode","_component_input_row","label","errors","$data","working_name","type","app","$event","placeholder","cdwg_id","_hoisted_2","_createElementBlock","_Fragment","_renderList","_ctx","cdwg","key","id","name","_hoisted_3","expert_panel_type_id","epType","for","_toDisplayString","date_initiated","_component_checkbox","_component_button_row","onClick","props","emits","data","visible","showInitiationDate","formatDate","Date","epTypes","computed","mapGetters","cdwgs","hasErrors","Object","keys","this","length","watch","clearErrors","methods","cancel","initForm","$emit","save","$store","dispatch","response","status","initErrors","initAppData","fieldName","__exports__","render"],"mappings":"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","file":"js/create-application-form.3ea22bf2.js","sourcesContent":["<template>\n    <form-container @keydown.enter=\"save\">\n        <h2 class=\"pb-2 border-b mb-4\">Initiate Application</h2>\n        <input-row\n            label=\"Working Name\"\n            :errors=\"errors.working_name\"\n            type=\"text\"\n            v-model=\"this.app.working_name\"\n            placeholder=\"A recognizable name\"\n        ></input-row>\n        \n        <input-row label=\"CDWG\" :errors=\"errors.cdwg_id\">\n            <select v-model=\"app.cdwg_id\">\n                <option :value=\"null\">Select...</option>\n                <option v-for=\"cdwg in cdwgs\" :key=\"cdwg.id\" :value=\"cdwg.id\">{{cdwg.name}}</option>\n            </select>\n        </input-row>\n        \n        <input-row label=\"EP Type\" :errors=\"errors.expert_panel_type_id\">\n            <div>\n                <label :for=\"`ep-${epType.id}-radio`\"\n                    v-for=\"epType in epTypes\" \n                    :key=\"epType.id\" \n                >\n                    <input \n                        type=\"radio\" \n                        :value=\"epType.id\" \n                        v-model=\"app.expert_panel_type_id\"\n                        :id=\"`ep-${epType.id}-radio`\"\n                    >\n                    <div>{{epType.name}}</div>\n                </label>\n            </div>\n        </input-row>\n        <input-row :errors=\"errors.date_initiated\">\n            <div>\n                <div>\n                    <checkbox \n                        v-model=\"showInitiationDate\" \n                        id=\"show-initiation-checkbox\"\n                        label=\"Backdate this initiation\"\n                    />\n                </div>\n                <input-row \n                    type=\"date\" \n                    label=\"Initiation Date\" \n                    v-show=\"showInitiationDate\" \n                    v-model=\"app.date_initiated\"\n                >\n                </input-row>\n            </div>\n        </input-row>\n\n        <button-row>\n            <button class=\"btn\" @click=\"cancel\">Cancel</button>\n            <button class=\"btn blue\" @click=\"save\">Initiate Application</button>\n        </button-row>\n    </form-container>\n</template>\n<script>\nimport { mapGetters } from 'vuex'\nimport { formatDate } from '@/date_utils'\n\nexport default {\n    name: 'CreateApplicationForm',\n    props: {\n        \n    },\n    emits: [\n        'canceled',\n        'saved',\n    ],\n    data() {\n        return {\n            visible: false,\n            showInitiationDate: false,\n            app: {\n                working_name: null,\n                cdwg_id: null,\n                expert_panel_type_id: null,\n                date_initiated: formatDate(new Date())\n            },\n            epTypes: [\n                {name: 'GCEP', id: 1},\n                {name: 'VCEP', id: 2}\n            ],\n            errors: {}\n        }\n    },\n    computed: {\n        ...mapGetters({\n            cdwgs: 'cdwgs/all'\n        }),\n        hasErrors() {\n            return Object.keys(this.errors).length > 0;\n        }\n    },\n    watch: {\n        'app.working_name': function () {\n            this.clearErrors('working_name')\n        },\n        'app.cdwg_id': function () {\n            this.clearErrors('cdwg_id')\n        },\n        'app.expert_panel_type_id': function () {\n            this.clearErrors('expert_panel_type_id')\n        }\n    },\n    methods: {\n        cancel() {\n            this.initForm();\n            this.$emit('canceled');\n        },\n        async save() {\n            try {\n                await this.$store.dispatch('applications/initiateApplication', this.app)\n                this.$emit('saved', this.app);\n            } catch (error) {\n                if (error.response && error.response.status == 422 && error.response.data.errors) {\n                    this.errors = error.response.data.errors\n                    return;\n                }\n                throw(error)\n            }\n        },\n        initForm() {\n            this.initErrors();\n            this.initAppData();\n        },\n        initAppData() {\n            this.app = {\n                working_name: null,\n                cdwg_id: null,\n                expert_panel_type_id: null,\n                date_initiated: formatDate(new Date())\n            };\n        },\n        clearErrors(fieldName) {\n            if (fieldName) {\n                delete this.errors[fieldName];\n                return;\n            }\n\n            this.initErrors();\n        },\n        initErrors() {\n            this.errors = {}\n        }\n    }\n}\n</script>   ","import { render } from \"./CreateApplicationForm.vue?vue&type=template&id=6389e1e0\"\nimport script from \"./CreateApplicationForm.vue?vue&type=script&lang=js\"\nexport * from \"./CreateApplicationForm.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/yugen/code/new-epam/resources/app/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}