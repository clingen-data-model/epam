{"version":3,"sources":["webpack:///./src/http/is_validation_error.js","webpack:///./src/components/people/PersonForm.vue","webpack:///./src/components/people/PersonForm.vue?6fbf"],"names":["error","response","status","data","errors","class","person","name","label","first_name","workingPerson","last_name","email","phone","handleCancel","handleSaved","submitText","props","computed","watch","deep","immediate","handler","this","syncWorkingPerson","methods","attributes","backToDetail","$router","push","params","uuid","$store","dispatch","is_validation_error","mounted","render"],"mappings":"kHAAe,gBAAUA,GACrB,OAAOA,EAAMC,UAAqC,KAAzBD,EAAMC,SAASC,QAAiBF,EAAMC,SAASE,KAAKC,S,wECCrEC,MAAM,yB,iHADd,eAQM,YAPF,eAA6D,KAA7D,EAAkC,UAAO,eAAE,EAAAC,OAAOC,MAAI,GACtD,eAAyG,GAA9FC,MAAM,aAAcJ,OAAQ,EAAAA,OAAOK,W,WAAqB,EAAAC,cAAcD,W,qDAAd,EAAAC,cAAcD,WAAU,K,gCAC3F,eAAsG,GAA3FD,MAAM,YAAaJ,OAAQ,EAAAA,OAAOO,U,WAAoB,EAAAD,cAAcC,U,qDAAd,EAAAD,cAAcC,UAAS,K,gCACxF,eAA0F,GAA/EH,MAAM,QAASJ,OAAQ,EAAAA,OAAOQ,M,WAAgB,EAAAF,cAAcE,M,qDAAd,EAAAF,cAAcE,MAAK,K,gCAC5E,eAA0F,GAA/EJ,MAAM,QAASJ,OAAQ,EAAAA,OAAOS,M,WAAgB,EAAAH,cAAcG,M,qDAAd,EAAAH,cAAcG,MAAK,K,gCAE5E,eAAsG,GAAzF,gBAAe,EAAAC,aAAe,gBAAe,EAAAC,YAAaC,WAAW,Q,8GAO3E,GACXC,MAAO,GAEPd,KAHW,WAIP,MAAO,CACHO,cAAe,CACXD,WAAY,KACZE,UAAW,KACXC,MAAO,KACPC,MAAO,MAEXT,OAAQ,KAGhBc,SAAU,kBACH,eAAW,CACVZ,OAAQ,wBAGhBa,MAAO,CACHb,OAAQ,CACJc,MAAM,EACNC,WAAW,EACXC,QAAS,WACLC,KAAKC,uBAIjBC,QAAS,CACLD,kBADK,WAEDD,KAAKb,cAAgBa,KAAKjB,OAAOoB,YAErCC,aAJK,WAKDJ,KAAKK,QAAQC,KAAK,CAACtB,KAAM,gBAAiBuB,OAAQ,CAACC,KAAMR,KAAKjB,OAAOyB,SAEzEjB,aAPK,WAQDS,KAAKC,oBACLD,KAAKI,gBAEHZ,YAXD,WAWgB,iLAEP,EAAKiB,OAAOC,SAAS,0BAA2B,CAACF,KAAM,EAAKzB,OAAOyB,KAAML,WAAY,EAAKhB,gBAFnF,OAGb,EAAKiB,eAHQ,kDAKT,OAAAO,EAAA,MAAoB,EAAD,MACnB,EAAK9B,OAAS,KAAMH,SAASE,KAAKC,QANzB,4DAWzB+B,QAlDW,cCZf,EAAOC,OAASA,EAED","file":"js/chunk-3a1d101e.b44cf4db.js","sourcesContent":["export default function (error) {\n    return error.response && error.response.status == 422 && error.response.data.errors\n}","<template>\n    <div>\n        <h3 class=\"text-lg border-b py-2\">Edit - {{person.name}}</h3>\n        <input-row label=\"First Name\" :errors=\"errors.first_name\" v-model=\"workingPerson.first_name\"></input-row>\n        <input-row label=\"Last Name\" :errors=\"errors.last_name\" v-model=\"workingPerson.last_name\"></input-row>\n        <input-row label=\"Email\" :errors=\"errors.email\" v-model=\"workingPerson.email\"></input-row>\n        <input-row label=\"Phone\" :errors=\"errors.phone\" v-model=\"workingPerson.phone\"></input-row>\n\n        <button-row @cancelClicked=\"handleCancel\" @submitClicked=\"handleSaved\" submitText=\"Save\"></button-row>\n    </div>\n</template>\n<script>\nimport {mapGetters} from 'vuex'\nimport is_validation_error from '../../http/is_validation_error';\n\nexport default {\n    props: {\n    },\n    data() {\n        return {\n            workingPerson: {\n                first_name: null,\n                last_name: null,\n                email: null,\n                phone: null\n            },\n            errors: {}\n        }\n    },\n    computed: {\n        ...mapGetters({\n            person: 'people/currentItem'\n        })\n    },\n    watch: {\n        person: {\n            deep: true,\n            immediate: true, \n            handler: function () {\n                this.syncWorkingPerson();\n            }\n        }\n    },\n    methods: {\n        syncWorkingPerson() {\n            this.workingPerson = this.person.attributes\n        },\n        backToDetail () {\n            this.$router.push({name: 'person-detail', params: {uuid: this.person.uuid}});\n        },\n        handleCancel () {\n            this.syncWorkingPerson();\n            this.backToDetail()\n        },\n        async handleSaved () {\n            try {\n                await this.$store.dispatch('people/updateAttributes', {uuid: this.person.uuid, attributes: this.workingPerson})\n                this.backToDetail();\n            } catch (error) {\n                if (is_validation_error(error)) {\n                    this.errors = error.response.data.errors\n                }\n            }\n        }\n    },\n    mounted() {\n    }\n}\n</script>","import { render } from \"./PersonForm.vue?vue&type=template&id=02177432\"\nimport script from \"./PersonForm.vue?vue&type=script&lang=js\"\nexport * from \"./PersonForm.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}