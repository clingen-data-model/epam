{"version":3,"file":"js/812.b10adb95.js","mappings":"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","sources":["webpack://epam/./src/views/OnboardingWizard.vue","webpack://epam/./src/components/onboarding/OnboardingSteps.vue","webpack://epam/./src/components/onboarding/OnboardingSteps.vue?c2d2","webpack://epam/./src/components/onboarding/InviteRedemptionForm.vue","webpack://epam/./src/domain/onboarding_service.js","webpack://epam/./src/components/onboarding/InviteRedemptionForm.vue?2e64","webpack://epam/./src/components/onboarding/AccountCreationForm.vue","webpack://epam/./src/components/onboarding/AccountCreationForm.vue?2be0","webpack://epam/./src/views/OnboardingWizard.vue?7af2"],"sourcesContent":["<template>\n    <div>\n        <div class=\"flex justify-center\">\n            <div class=\"onboarding-container\" :style=\"`width: ${currentStepWidth}`\">\n                <keep-alive>\n                    <transition :name=\"animationDirection\" mode=\"out-in\">\n                        <component\n                            :is=\"currentStepComponent\"\n                            v-bind:invite=\"invite\"\n                            v-bind:person=\"invite.person\"\n                            v-bind:code=\"invite.coi_code\"\n                            ref=\"stepForm\"\n                            @codeverified=\"handleCodeVerified\"\n                            @ok=\"goForward\"\n                            @saved=\"goForward\"\n                            @back=\"goBack\"\n                        ></component>\n                    </transition>\n                </keep-alive>\n            </div>\n            <p>\n                <router-link class=\"block link pt-2\" :to=\"{name: 'login'}\" v-if=\"!this.$store.getters.isAuthed\">&lt; Log In</router-link>\n            </p>\n        </div>\n    </div>\n</template>\n<script>\nimport OnboardingSteps from '@/components/onboarding/OnboardingSteps.vue'\nimport InviteRedemptionForm from '@/components/onboarding/InviteRedemptionForm.vue'\nimport AccountCreationForm from '@/components/onboarding/AccountCreationForm.vue'\nimport Person from '@/domain/person'\n\nconst stepComponents = [\n    InviteRedemptionForm,\n    OnboardingSteps,\n    AccountCreationForm,\n];\n\nconst stepWidths = [\n    '20rem',\n    '20rem',\n    '20rem',\n    '40rem',\n    '40rem'\n];\n\nexport default {\n    name: 'OverviewWizard',\n    components: {\n        InviteRedemptionForm,\n        OnboardingSteps,\n        AccountCreationForm,\n    },\n    props: {\n        code: {\n            required: false,\n        }\n    },\n    data() {\n        return {\n            animationDirection: 'forward',\n            currentStepIdx: 0,\n            invite: {\n                person: new Person({})\n            },\n        }\n    },\n    computed: {\n        currentStepComponent () {\n            return stepComponents[this.currentStepIdx]\n        },\n        currentStepWidth () {\n            return stepWidths[this.currentStepIdx]\n        },\n        canContinue () {\n            return !this.$store.getters.isAuthed\n                || (\n                    this.$store.getters.isAuthed &&\n                    !this.$store.getters.currentUser.person.timezone\n                );\n        }\n\n    },\n    watch: {\n        code: {\n            immediate: true,\n            handler: function (to) {\n                this.invite.code = to\n            }\n        },\n    },\n    methods: {\n        handleCodeVerified (invite) {\n            this.invite = invite;\n            this.goForward();\n        },\n        goBack () {\n            this.animationDirection = 'fade';\n            if (this.currentStepIdx == 0) {\n                return;\n            }\n            this.currentStepIdx -= 1;\n        },\n        goForward() {\n            this.animationDirection = 'fade';\n            if (this.currentStepIdx == stepComponents.length-1) {\n                this.$router.push({name: 'Dashboard'})\n                return;\n            }\n            this.currentStepIdx += 1;\n        },\n        selectStep() {\n            if (!this.invite.id) {\n                this.currentStepIdx = 0;\n                if (this.$route.query.code) {\n                    this.invite.code = this.$route.query.code;\n                }\n                return;\n            }\n            if (this.invite.id) {\n                if (this.$store.state.user.id) {\n                    this.currentStepIndex = 3\n                    return\n                }\n            }\n        }\n    }\n}\n</script>\n<style scoped>\n    .onboarding-container {\n        @apply shadow-lg border px-4 py-8 mx-auto mt-12 border-gray-300;\n        transition: all .3s;\n        overflow: hidden;\n    }\n    .dev-nav-button {\n        @apply mt-12 p-2 bg-pink-100 mb-8 border border-pink-300;\n    }\n    .forwards-enter-active,\n    .forwards-leave-active,\n    .backwards-enter-active,\n    .backwards-leave-active {\n        transition: all 0.3s ease-out;\n    }\n\n    .forwards-enter-from{\n        transform: translateX(20rem);\n        /* opacity: 0; */\n    }\n    .forwards-leave-to\n    {\n        transform: translateX(-20rem);\n        /* opacity: 0; */\n    }\n\n    .backwards-enter-from {\n        transform: translateX(-40rem)\n        /* opacity: 0; */\n    }\n    .backwards-leave-to {\n        transform: translateX(40rem)\n        /* opacity: 0; */\n    }\n</style>\n","<template>\n  <div>\n    <p class=\"text-lg text-center font-bold\">\n        Hi {{invite.first_name}}.\n        <br>\n        You've been invited to join ClinGen\n        <span v-if=\"invite.inviter\">\n            as part of the {{ invite.inviter.name }}\n            {{ invite.inviter.type.name.toUpperCase() }}.\n        </span\n        ><span v-else>.</span>\n    </p>\n\n    <p>There are just a few steps to get you set up:</p>\n    <ol class=\"list-decimal pl-8\">\n      <li>Create an account.</li>\n      <li>Fill out your profile.</li>\n      <li>Share some demographic information.</li>\n      <li v-if=\"invite.inviter\">Complete a Conflict of Interest Survey.</li>\n    </ol>\n    <p>\n      <button class=\"btn btn-lg blue w-full mt-4\" @click=\"$emit('ok')\">\n        Get Started\n      </button>\n    </p>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"OnboardingSteps\",\n  props: {\n      invite: {\n          type: Object,\n          required: true\n      }\n  },\n  emits: ['ok'],\n  data() {\n    return {};\n  },\n  computed: {},\n  methods: {},\n};\n</script>\n","import { render } from \"./OnboardingSteps.vue?vue&type=template&id=2b6324b2\"\nimport script from \"./OnboardingSteps.vue?vue&type=script&lang=js\"\nexport * from \"./OnboardingSteps.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/bpow/src/clingen/gpm/resources/app/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <div class=\"w-64 mx-auto\">\n        <label for=\"invite-code-input\" class=\"text-lg block\">\n            Enter your registration code:\n        </label>\n        <input type=\"text\"\n            id=\"invite-code-input\"\n            v-model=\"inviteCode\" \n            placeholder=\"XXXXXXXXXX\" \n            class=\"w-full\"\n        >\n        <input-errors :errors=\"errors\"></input-errors>\n        <button \n            class=\"btn blue btn-lg block mt-2 w-full\" \n            @click=\"checkInvite\"\n        >\n            Submit\n        </button>\n    </div>\n</template>\n<script>\nimport { ref, toRefs, watch } from 'vue'\nimport {fetchInvite} from '@/domain/onboarding_service'\nimport InputErrors from '@/components/forms/InputErrors.vue'\nimport isValidationError from '@/http/is_validation_error'\n\nexport default {\n    name: 'InviteRedemptionCode',\n    components: {\n        InputErrors\n    },\n    props: {\n        code: {\n            required: false\n        },\n        invite: {\n            type: Object,\n            required: false,\n            default: () => ({})\n        }\n    },\n    data() {\n        return {\n\n        }\n    },\n    setup(props, context) {\n\n        const {invite} = toRefs(props);\n        let inviteCode = ref(null);\n        let errors = ref([]);\n\n        const syncCode = () => {\n            inviteCode.value = props.invite.code\n        }\n\n        watch(invite, () => {\n            syncCode()\n        }, {\n            deep: true\n        })\n\n        watch(inviteCode, () => {\n            errors.value = [];\n        });\n\n        const checkInvite = async () => {\n            try {\n                const invite = await fetchInvite(inviteCode.value);\n                context.emit('codeverified', invite);\n            } catch (error) {\n                if (error.response.status == 404) {\n                    errors.value = ['The code you entered is not valid'];\n                    return;\n                }\n                if (isValidationError(error)) {\n                    errors.value = error.response.data.errors.code\n                }\n            }\n        }\n\n        return {\n            inviteCode,\n            errors,\n            checkInvite,\n            syncCode,\n        }\n   \n    },\n    computed: {\n\n    },\n    methods: {\n    },\n    mounted() {\n        this.syncCode();\n    },\n    beforeMount () {\n        if (this.$store.getters.currentUser.id !== null) {\n            this.$store.commit('pushError', 'You can\\'t redeem an invite b/c you\\'re already logged in.');\n            this.$router.replace({name: 'Dashboard'})\n        }\n    }\n}\n</script>","import api from '@/http/api'\n\nexport const validateCode = async (code) => {\n    try {\n        await api.get(`/api/people/invites/${code}`)\n        return true;\n    } catch(error) {\n        return false;\n    }\n}\n\nexport const fetchInvite = async (code) => {\n    return await api.get(`/api/people/invites/${code}`)\n        .then(response => {\n            return response.data.data;\n        })\n}\n\nexport const redeemInvite = async (invite, email, password, password_confirmation) => {\n    return api.put(`/api/people/invites/${invite.code}`, {email, password, password_confirmation})\n}\n\nexport const redeemInviteForExistingUser = async (invite) => {\n    return api.put(`/api/people/existing-user/invites/${invite.code}`);\n}\nexport default {\n    fetchInvite\n}\n","import { render } from \"./InviteRedemptionForm.vue?vue&type=template&id=36941534\"\nimport script from \"./InviteRedemptionForm.vue?vue&type=script&lang=js\"\nexport * from \"./InviteRedemptionForm.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/bpow/src/clingen/gpm/resources/app/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <div>\n        <pre></pre>\n        <div v-if=\"invite.person.user_id\">\n            <static-alert>\n                It looks like you've already activated you account.  Please login to continue.\n            </static-alert>\n            <login-form @authenticated=\"redeemForExistingUser\"></login-form>\n        </div>\n        <div v-else>\n            <p class=\"text-lg\">Create your account</p>\n            <input-row label=\"Email\" \n                v-model=\"email\" \n                :errors=\"errors.email\" \n                label-width-class=\"w-24\"\n            ></input-row>\n            <input-row label=\"Password\" \n                v-model=\"password\" type=\"password\" \n                :errors=\"errors.password\" \n                label-width-class=\"w-24\"\n            ></input-row>\n            <input-row label=\"Confirm Password\" \n                v-model=\"password_confirmation\" type=\"password\" \n                :errors=\"errors.password\" \n                label-width-class=\"w-24\"\n            ></input-row>\n            <div class=\"flex flex-row-reverse\">\n                <button class=\"btn blue\" @click=\"createAccount\">Next</button>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport {ref, onMounted} from 'vue'\nimport {redeemInvite, redeemInviteForExistingUser} from '@/domain/onboarding_service'\nimport isValidationError from '@/http/is_validation_error'\nimport { useStore } from 'vuex'\nimport LoginForm from '@/components/LoginForm.vue'\n\nexport default {\n    name: 'AccountCreationForm',\n    components: {\n        LoginForm\n    },\n    props: {\n        invite: {\n            type: Object,\n            required: true\n        }\n    },\n    setup (props, context) {\n        const store = useStore();\n        let errors = ref({});\n        let email = ref(null);\n        let password = ref(null);\n        let password_confirmation = ref(null);\n\n        const createAccount = async () => {\n            try {\n                await redeemInvite(props.invite, email.value, password.value, password_confirmation.value);\n                await store.dispatch('login', {email: email.value, password: password.value})\n                context.emit('saved')\n            } catch (error) {\n                if (isValidationError(error)) {\n                    errors.value = error.response.data.errors;\n                }\n            }\n        }\n\n        const redeemForExistingUser = async () => {\n            try {\n                await redeemInviteForExistingUser(props.invite);\n                context.emit('saved')\n            } catch (error) {\n                if (isValidationError(error)) {\n                    errors.value = error.response.data\n                }\n            }\n        }\n\n        const syncEmail = () => {\n            email.value = props.invite.person.email\n        }\n\n        onMounted(() => syncEmail());\n\n        return {\n            errors,\n            email,\n            password,\n            password_confirmation,\n            createAccount,\n            redeemForExistingUser,\n        }\n    }\n}\n</script>","import { render } from \"./AccountCreationForm.vue?vue&type=template&id=6ed5f7a2\"\nimport script from \"./AccountCreationForm.vue?vue&type=script&lang=js\"\nexport * from \"./AccountCreationForm.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/bpow/src/clingen/gpm/resources/app/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./OnboardingWizard.vue?vue&type=template&id=0e76671e&scoped=true\"\nimport script from \"./OnboardingWizard.vue?vue&type=script&lang=js\"\nexport * from \"./OnboardingWizard.vue?vue&type=script&lang=js\"\n\nimport \"./OnboardingWizard.vue?vue&type=style&index=0&id=0e76671e&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/bpow/src/clingen/gpm/resources/app/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0e76671e\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_createElementVNode","_hoisted_1","style","$options","_createBlock","_KeepAlive","_createVNode","_Transition","name","$data","mode","_resolveDynamicComponent","invite","person","code","coi_code","ref","onCodeverified","onOk","onSaved","onBack","$store","getters","isAuthed","_component_router_link","to","$props","first_name","inviter","type","toUpperCase","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","onClick","_ctx","props","Object","required","emits","data","computed","methods","__exports__","for","_hoisted_2","id","$setup","placeholder","_component_input_errors","errors","fetchInvite","async","api","get","then","response","redeemInvite","email","password","password_confirmation","put","redeemInviteForExistingUser","components","InputErrors","default","setup","context","toRefs","inviteCode","syncCode","value","watch","deep","checkInvite","emit","error","status","isValidationError","mounted","this","beforeMount","currentUser","commit","$router","replace","user_id","_component_static_alert","_component_login_form","onAuthenticated","_hoisted_5","_component_input_row","label","LoginForm","store","useStore","createAccount","dispatch","redeemForExistingUser","syncEmail","onMounted","stepComponents","InviteRedemptionForm","OnboardingSteps","AccountCreationForm","stepWidths","animationDirection","currentStepIdx","Person","currentStepComponent","currentStepWidth","canContinue","timezone","immediate","handler","handleCodeVerified","goForward","goBack","length","push","selectStep","$route","query","state","user","currentStepIndex","render"],"sourceRoot":""}