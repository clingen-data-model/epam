{"version":3,"sources":["webpack:///./src/components/groups/MemberForm.vue?5240","webpack:///./src/components/groups/MemberForm.vue","webpack:///./src/components/groups/MemberSuggestions.vue","webpack:///./src/components/groups/MemberSuggestions.vue?4565","webpack:///./src/components/groups/MemberForm.vue?0102","webpack:///./src/adapters/log_entry_repository.js","webpack:///./src/components/log_entries/ActivityLogDeleteConfirmation.vue?a451","webpack:///./src/views/groups/GroupDetail.vue","webpack:///./src/components/log_entries/ActivityLog.vue","webpack:///./src/components/log_entries/ActivityLogEntryForm.vue","webpack:///./src/components/log_entries/ActivityLogEntryForm.vue?e619","webpack:///./src/components/log_entries/ActivityLogDeleteConfirmation.vue","webpack:///./src/components/log_entries/ActivityLogDeleteConfirmation.vue?cd42","webpack:///./src/components/log_entries/ActivityLog.vue?3da7","webpack:///./src/components/groups/ApplicationSummary.vue","webpack:///./src/components/groups/ApplicationSummary.vue?e5fc","webpack:///./src/views/groups/GroupDetailHeader.vue","webpack:///./src/views/groups/GroupDetailHeader.vue?200e","webpack:///./src/views/groups/GroupDocuments.vue","webpack:///./src/components/documents/DocumentList.vue","webpack:///./src/components/documents/DocumentUploadForm.vue","webpack:///./src/components/documents/DocumentUploadForm.vue?d713","webpack:///./src/components/documents/DocumentEditForm.vue","webpack:///./src/components/documents/DocumentEditForm.vue?3bc4","webpack:///./src/components/documents/DocumentList.vue?24dd","webpack:///./src/views/groups/GroupDocuments.vue?d057","webpack:///./src/views/groups/GroupDetail.vue?b68d","webpack:///./src/components/log_entries/ActivityLog.vue?dab9"],"names":["class","newMember","id","person_id","label","errors","nameErrors","type","person","first_name","placeholder","getSuggestedPeople","last_name","email","input-class","name","expertise","rows","notes","is_contact","roles","role","key","value","titleCase","hasRole","group","isVcep","num","title","permissions","length","color","permission","disabled","hasPermissionThroughRole","checked","suggestedPeople","suggestions","useExistingPerson","save","cancel","submit-text","suggestion","uuid","useSuggestion","props","required","Array","emits","data","computed","methods","item","this","$emit","render","components","MemberSuggestions","String","memberId","default","originalMember","findMember","flat","filter","i","setup","store","getters","people","watch","syncMember","p","matchesKeyword","isAlreadyMember","from","Set","initNewMember","clone","error","isPersisted","alert","clearForm","inviteNewMember","addPersonAsMember","updateExistingMember","is_validation_error","response","member","$store","dispatch","firstName","lastName","roleIds","map","r","isContact","training_level_1","training_level_2","permissionIds","personId","memberData","groupUuid","syncPermissions","existingPermIds","assignedPermIds","newPermIds","includes","removedPermIds","forEach","permId","permissionId","members","m","mounted","__scopeId","_entries","ref","logEntries","fetchEntries","apiUrl","api","get","then","saveEntry","entryData","post","push","updateEntry","put","entryIdx","findIndex","entry","deleteEntry","entryId","delete","splice","showEdit","isApplying","handleTabChange","submitForm","cancelForm","show-controls","editingExpertise","editing","visible","isEp","$refs","groupGeneListRef","editingGenes","groupGeneList","editingScopeDescription","showControls","hasAnyPermission","ongoingPlansFormComponent","isGcep","hasPermission","userInGroup","log-entries","api-url","log-updated","getLogEntries","initDelete","to","showModal","handleModalClosed","$route","meta","hideModal","showInfoEdit","size","infoForm","showConfirmDelete","displayName","deleteGroup","hasLogEntries","fields","sort","cell-id","editLogEntry","width","activity_type","confirmDelete","cell-description","description","editingEntry","log-entry","selectedEntry","closeEntryForm","showDeleteConfirmation","logEntry","closeDeleteConfirmation","newEntry","log_date","RichTextEditor","Date","step","context","syncEntry","created_at","parse","properties","initNewEntry","emit","status","immediate","causer","logDate","flattenedErrors","err","idx","deleteLogEntry","submitText","Object","values","a","message","sortName","sortable","LogEntryForm","ActivityLogDeleteConfirmation","field","desc","applicationStarted","currentMenuItem","menu","itemIdx","isStep","isDisabled","section","height","isComplete","isCurrentStep","sections","sectionIdx","applicationRoute","RequirementsBadge","application","currentStep","expert_panel","current_step","params","hash","getStep","steps","menuItem","Boolean","statusColor","chairs","c","join","coordinators","documents","displayDocuments","documentUpdater","updateDocument","documentCreator","createDocument","documentDeleter","deleteDocument","canManage","canManageDocuments","keyword","filterType","documentTypes","long_name","initUpload","filteredDocuments","detailRows","cell-cheveron","metadata","toggleItemDetails","showDetails","cell-filename","filename","is_versioned","version","is_final","cell-actions","hideCheveron","initDownload","initUpdate","detail","obj","showEditForm","activeDocument","document","save-function","commitUpdate","showUploadForm","commitCreate","cancelDelete","commitDelete","file","document_type_id","newDocument","cols","saveFunction","Function","documentTypeId","state","doctypes","items","isReviewed","date_reviewed","documentType","FormData","keys","val","append","fileInput","files","initNewDocument","clearErrors","docProxy","handler","JSON","stringify","DocumentUploadForm","DocumentEditForm","rx","RegExp","doc","match","window","location","download_url","console","log","resetActiveDocument","DocumentList","updatedData","pushError","newDocumentData","ActivityLog","ApplicationSummary","AttestationGcep","AttestationNhgri","AttestationReanalysis","CspecSummary","GroupDocuments","GroupForm","GroupDetailHeader","EvidenceSummaries","GcepGeneList","GcepOngoingPlansForm","MemberList","MembershipDescriptionForm","ScopeDescriptionForm","VcepGeneList","VcepOngoingPlansForm","ongoingPlansErrors","set","commit","$router","replace","evt","clearModalForm","modalView","modelAttr","revertGroupChanges","saveMethod","apply","saveMembershipDescription","membershipDescription","membership_description","saveScopeDescription","scopeDescription","scope_description","saveOngoingPlansForm","expertPanel","tabName","beforeUnmount"],"mappings":"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","file":"js/group-detail.832bf8fc.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./MemberForm.vue?vue&type=style&index=0&id=56b32fba&lang=postcss&scoped=true\"","<template>\n    <div>\n        <div class=\"flex\">\n            <div class=\"flex-1\">\n                <div v-if=\"!newMember.id && !newMember.person_id\">\n                    <input-row label=\"Name\" \n                        :errors=\"nameErrors\"\n                    >\n                        <div class=\"flex space-x-2\">\n                            <input type=\"text\" \n                                v-model=\"newMember.person.first_name\" \n                                placeholder=\"First\" \n                                class=\"block w-1/2\"\n                                @input=\"getSuggestedPeople\"\n                            >\n                            <input type=\"text\" \n                                v-model=\"newMember.person.last_name\" \n                                placeholder=\"Last\" \n                                class=\"block w-1/2\"\n                                @input=\"getSuggestedPeople\"\n                                :errors=\"errors.last_name\"\n                            >\n                        </div>\n                    </input-row>\n                    <input-row label=\"Email\" \n                        v-model=\"newMember.person.email\" \n                        placeholder=\"example@example.com\" \n                        input-class=\"w-full\"\n                        @input=\"getSuggestedPeople\"\n                        :errors=\"errors.email\"\n                    ></input-row>\n                </div>\n                <div v-if=\"newMember.id || newMember.person_id\">\n                    <dictionary-row label=\"Name\">\n                        {{newMember.person.first_name}}\n                        {{newMember.person.last_name}}\n                    </dictionary-row>\n                    <dictionary-row label=\"Email\">{{newMember.person.email}}</dictionary-row>\n                    <static-alert v-if=\"!newMember.id\">\n                        Adding existing person, {{newMember.person.name}}, as a group member.\n                    </static-alert>\n                </div>\n                \n                <input-row label=\"Expertise\" :errors=\"errors.expertise\">\n                    <textarea rows=\"5\" v-model=\"newMember.expertise\" class=\"w-full\"></textarea>\n                </input-row>\n\n                <input-row label=\"Notes\" :errors=\"errors.notes\">\n                    <textarea rows=\"5\" v-model=\"newMember.notes\" class=\"w-full\"></textarea>\n                </input-row>\n\n                <dictionary-row label=\"\">\n                    <checkbox v-model=\"newMember.is_contact\" label=\"Receives notifications about group\" />\n                </dictionary-row>\n\n                <div class=\"border-t mt-4 pt-2\">\n                    <h3>Group Roles</h3>\n                    <div class=\"flex flex-col h-24 flex-wrap\">\n                        <checkbox v-for=\"role in roles\" :key=\"role.id\" v-model=\"newMember.roles\" :value=\"role\" :label=\"titleCase(role.name)\" />\n                    </div>\n                    <transition name=\"fade-down\">\n                        <div \n                            v-if=\"newMember.hasRole('biocurator') && group.isVcep()\"\n                            class=\"border-t mt-2 pt-2 pl-2\"\n                        >\n                            <h4>Training</h4>\n                            <checkbox \n                                v-for=\"num in [1, 2]\" :key=\"num\" \n                                v-model=\"newMember[`training_level_${num}`]\" \n                                :value=\"1\"\n                                :label=\"`Level ${num}`\"\n                            />\n                        </div>\n                    </transition>\n                </div>\n                <collapsible class=\"border-t mt-4 pt-2\">\n                    <template v-slot:title>\n                        <h3 class=\"flex justify-between w-full items-center\">\n                            Group Permissions\n                            <badge \n                                v-if=\"newMember.permissions.length > 0\"\n                                color=\"gray\"\n                            >{{newMember.permissions.length}}</badge>\n                        </h3>\n                    </template>\n                    <div class=\"flex flex-col h-24 flex-wrap\">\n                        <checkbox\n                            v-for=\"permission in permissions\" \n                            :key=\"permission.id\"\n                            v-model=\"newMember.permissions\" \n                            :value=\"permission\"\n                            :disabled=\"newMember.hasPermissionThroughRole(permission)\"\n                            :checked=\"newMember.hasPermissionThroughRole(permission)\"\n                            :id=\"`permission-${permission.id}`\"\n                            :title=\"newMember.hasPermissionThroughRole(permission) ? `granted with role` : `grant permission`\"\n                            :label=\"permission.name\"\n                        />\n                    </div>\n                    <div class=\"px-2 py-1 bg-gray-100 border relative text-xs\">\n                        <div class=\"flex space-x-2\">\n                        <strong>Legend: </strong>\n                            <checkbox label=\"Not granted\" />\n                            <checkbox checked=\"true\" label=\"Granted\" />\n                            <checkbox checked=\"true\" disabled=\"true\" label=\"Granted w/ role\" />\n                        </div>\n                        <div class=\"absolute top-0 left-0 w-full h-full bg-pink-500 opacity-0\">&nbsp;</div>\n                    </div>\n                </collapsible>\n\n            </div>\n            <transition name=\"slide-fade\">            \n                <div class=\"pt-2 border-l pl-2 flex-1\" v-if=\"suggestedPeople.length > 0 && newMember.person_id === null\">\n                    <h5 class=\"font-bold border-b mb-1 pb-1\">Matching people</h5>\n                    <member-suggestions \n                        :suggestions=\"suggestedPeople\"\n                        @selected=\"useExistingPerson\"\n                    ></member-suggestions>\n                </div>\n            </transition>\n        </div>\n        <button-row\n            @submit=\"save\"\n            @cancel=\"cancel\"\n            submit-text=\"Save\"\n        ></button-row>\n        <!-- <dev-todo class=\"mt-8\" :items=\"[]\"></dev-todo> -->\n    </div>\n</template>\n<script>\nimport {groups} from '@/configs'\nimport {computed} from 'vue'\nimport { useStore } from 'vuex'\nimport GroupMember from '@/domain/group_member'\nimport MemberSuggestions from '@/components/groups/MemberSuggestions'\nimport is_validation_error from '@/http/is_validation_error'\n\nexport default {\n    name: 'AddMemberForm',\n    components: {\n        MemberSuggestions\n    },\n    props: {\n        uuid: {\n            required: true,\n            type: String\n        },\n        memberId: {\n            required: false,\n            default: null\n        }\n    },\n    emits: [\n        'saved',\n        'canceled',\n        'closed'\n    ],\n    data () {\n        return {\n            newMember: new GroupMember(),\n            errors: {},\n            suggestedPeople: []\n        }\n    },\n    computed: {\n        originalMember () {\n            return this.group.findMember(this.memberId);\n        },\n        nameErrors () {\n            return [this.errors.first_name, this.errors.last_name]\n                    .flat()\n                    .filter(i => i);\n        },\n    },\n    setup () {\n        const store = useStore();\n        let group = computed(() => store.getters['groups/currentItemOrNew'] || {});\n        let people = computed(() => store.getters['people/all'] || {});\n        const roles = groups.roles;\n        const permissions = groups.permissions;\n\n        return {    \n            group,\n            people,\n            roles,\n            permissions,\n        }\n    },\n    watch: {\n        group () {\n            this.syncMember();\n        }\n    },\n    methods: {\n        getSuggestedPeople() {\n            let suggestedPeople = this.people.filter(p => {\n                                        return p.matchesKeyword(this.newMember.person.first_name)\n                                                || p.matchesKeyword(this.newMember.person.last_name)\n                                                || p.matchesKeyword(this.newMember.person.email)\n                                    }).filter(p => {\n                                        return !this.isAlreadyMember(p)\n                                    });\n\n            this.suggestedPeople = Array.from(new Set(suggestedPeople));\n        },\n        initNewMember() {\n            this.newMember = new GroupMember();\n        },\n        syncMember () {\n            try {\n                if (this.memberId) {\n                    this.newMember = this.originalMember.clone();\n                }\n            } catch (error) {\n                if (this.group.isPersisted()) {\n                    alert(error);\n                }\n            }\n        },\n        clearForm () {\n            this.initNewMember();\n        },\n        cancel () {\n            this.clearForm();\n            this.$emit('canceled');\n        },\n        async save () {\n            try {\n                if (!this.newMember.isPersisted()) {\n                    if (!this.newMember.person.isPersisted()) {\n                        await this.inviteNewMember(this.group, this.newMember);\n                    }\n                    if (this.newMember.person.isPersisted()) {\n                        await this.addPersonAsMember(this.group, this.newMember);\n                    }\n                }\n                if (this.newMember.isPersisted()) {\n                    await this.updateExistingMember(this.group, this.newMember);\n                }\n                this.clearForm();\n                this.$emit('saved');\n            } catch (error) {\n                if (is_validation_error(error)) {\n                    this.errors = error.response.data.errors\n                }\n            }\n        },\n        async inviteNewMember (group, member) {\n            try {\n                const response = await this.$store.dispatch('groups/memberInvite', {\n                    uuid: group.uuid,\n                    data: {\n                        firstName: member.person.first_name,\n                        lastName: member.person.last_name,\n                        email: member.person.email,\n                        roleIds: member.roles.map(r => r.id),\n                        isContact: member.is_contact,\n                        expertise: member.expertise,\n                        notes: member.notes,\n                        training_level_1: member.training_level_1,\n                        training_level_2: member.training_level_2,\n                    }\n                })\n            \n                if (member.permissions.length > 0) {\n                    await this.$store.dispatch('groups/memberGrantPermission', {\n                        uuid: group.uuid,\n                        memberId: response.data.id,\n                        permissionIds: member.permissions.map(p => p.id)\n                    });\n                }\n            } catch (error)  {\n                if (is_validation_error(error)) {\n                    this.errors = error.response.data.errors\n                }\n            }\n        },\n        async addPersonAsMember(group, member) {\n            try { \n                const memberData = await this.$store.dispatch('groups/memberAdd', {\n                    uuid: group.uuid,\n                    personId: member.person_id,\n                    roleIds: member.roles.map(r => r.id),\n                    isContact: member.is_contact,\n                    expertise: member.expertise,\n                    notes: member.notes,\n                    training_level_1: member.training_level_1,\n                    training_level_2: member.training_level_2,\n                })\n                if (member.permissions.length > 0) {\n                    await this.$store.dispatch('groups/memberGrantPermission', {\n                        uuid: group.uuid,\n                        memberId: memberData.id,\n                        permissionIds: member.permissions.map(p => p.id)\n                    });\n                }\n            } catch (error) {\n                if (is_validation_error(error)) {\n                    this.errors = error.response.data.errors\n                }\n            }\n        },\n\n        async updateExistingMember(group, member) {\n            await this.$store.dispatch(\n                'groups/memberUpdate', \n                {\n                    groupUuid: group.uuid, \n                    memberId: member.id, \n                    data: {\n                        is_contact: this.newMember.is_contact,\n                        expertise: this.newMember.expertise,\n                        notes: this.newMember.notes,\n                        training_level_1: this.newMember.training_level_1,\n                        training_level_2: this.newMember.training_level_2,\n                    }\n                }\n            )\n\n            await this.$store.dispatch('groups/memberSyncRoles', {group, member});\n            await this.syncPermissions(group, member);\n        },\n\n        async syncPermissions(group, member) {\n            const originalMember = group.findMember(this.memberId);\n\n            const existingPermIds = originalMember.permissions.map(p => p.id);\n            const assignedPermIds = member.permissions.map(p => p.id);\n            const newPermIds = assignedPermIds.filter(p => !existingPermIds.includes(p));\n            const removedPermIds = existingPermIds.filter(p => !assignedPermIds.includes(p));\n            // const promises = [];\n            \n            if (newPermIds.length > 0) {\n                // promises.push(\n                    this.$store.dispatch(\n                        'groups/memberGrantPermission', \n                        {\n                            uuid: group.uuid,\n                            memberId: member.id,\n                            permissionIds: newPermIds\n                        }\n                    )\n                // );\n            }\n            \n            removedPermIds.forEach(permId => {\n                // promises.push(\n                    this.$store.dispatch(\n                        'groups/memberRevokePermission', \n                        {\n                            uuid: group.uuid,\n                            memberId: member.id,\n                            permissionId: permId\n                        }\n                    )\n                // );\n            });\n\n            // await Promise.all(promises);\n        },\n\n        useExistingPerson(person) {\n            this.newMember.person_id = person.id;\n            this.newMember.person = person.clone()\n        },\n        isAlreadyMember(person) {\n            return this.group.members.map(m => m.person.id).includes(person.id)\n        },\n    },\n    mounted () {\n        this.$store.dispatch('people/getAll', {});\n        this.initNewMember();\n        this.syncMember();\n    }\n}\n</script>\n<style lang=\"postcss\" scoped>\n    input:disabled {\n        opacity: 1\n    }\n    input:disabled + label {\n        @apply text-gray-700;\n    }\n</style>","<template>\n    <div>\n        <ul>\n            <li \n                v-for=\"suggestion in suggestions\" \n                :key=\"suggestion.uuid\" class=\"flex justify-between my-2\"\n            >\n                <slot>\n                    {{suggestion.name}} \n                    <button \n                        class=\"btn btn-xs\" \n                        @click=\"useSuggestion(suggestion)\"\n                    >\n                        Add as member\n                    </button>\n                </slot>\n            </li>\n        </ul>\n    </div>\n</template>\n<script>\nexport default {\n    name: 'ComponentName',\n    props: {\n        suggestions: {\n            required: true,\n            type: Array\n        }\n    },\n    emits: [\n        'selected',\n\n    ],\n    data() {\n        return {\n            \n        }\n    },\n    computed: {\n\n    },\n    methods: {\n        useSuggestion(item) {\n            this.$emit('selected', item);\n        }\n    }\n}\n</script>","import { render } from \"./MemberSuggestions.vue?vue&type=template&id=5cf2684b\"\nimport script from \"./MemberSuggestions.vue?vue&type=script&lang=js\"\nexport * from \"./MemberSuggestions.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./MemberForm.vue?vue&type=template&id=56b32fba&scoped=true\"\nimport script from \"./MemberForm.vue?vue&type=script&lang=js\"\nexport * from \"./MemberForm.vue?vue&type=script&lang=js\"\n\nimport \"./MemberForm.vue?vue&type=style&index=0&id=56b32fba&lang=postcss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-56b32fba\"\n\nexport default script","import {ref, computed} from 'vue';\nimport api from '@/http/api'\n\nconst _entries = ref([]);\n\nexport const logEntries = computed(() => {\n    return _entries.value;\n});\n\nexport const fetchEntries = async (apiUrl) => {\n    _entries.value = await api.get(apiUrl)\n        .then(response => response.data.data);\n}\n\nexport const saveEntry = async (apiUrl, entryData) => {\n    return await api.post(apiUrl, entryData)\n        .then(response => {\n            _entries.value.push(response.data);\n            return response.data\n        });\n}\n\nexport const updateEntry = async (apiUrl, entryData) => {\n    return await api.put(apiUrl, entryData)\n        .then(response => {\n            const entryIdx = _entries.value.findIndex(entry => entry.id == response.data.id);\n            _entries.value[entryIdx] = response.data;\n            return response.data\n        });\n}\n\nexport const deleteEntry = async (apiUrl, entryId) => {\n    return await api.delete(`${apiUrl}/${entryId}`)\n        .then(response => {\n            const entryIdx = _entries.value.findIndex(entry => entry.id == entryId);\n            _entries.value.splice(entryIdx, 1);\n\n            return response;\n        });\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ActivityLogDeleteConfirmation.vue?vue&type=style&index=0&id=33176996&lang=postcss&scope=true\"","<template>\n    <div>\n        <group-detail-header :group=\"group\" @showEdit=\"showEdit\"></group-detail-header>\n        \n        <application-summary \n            :group=\"group\" \n            v-if=\"group.isApplying\"\n        />\n\n        <tabs-container @tab-changed=\"handleTabChange\">\n            <tab-item label=\"Members\">\n                <member-list :group=\"group\"></member-list>\n                <submission-wrapper \n                    v-if=\"group.isVcep()\" \n                    @submitted=\"submitForm('saveMembershipDescription', 'editingExpertise')\" \n                    @canceled=\"cancelForm('editingExpertise')\"\n                    :show-controls=\"editingExpertise\"\n                >\n                    <membership-description-form\n                        ref=\"membershipDescriptionFormRef\"\n                        class=\"mt-8\"\n                        v-model:editing=\"editingExpertise\"\n                        :errors=\"errors\"\n                    />\n                </submission-wrapper>\n            </tab-item>\n            <tab-item label=\"Scope\" :visible=\"group.isEp()\">\n                <h3>Plans for Ongoing Gene Review and Reanalysis and Discrepancy Resolution</h3>\n                <submission-wrapper \n                    v-if=\"group.isEp()\" \n                    @submitted=\"$refs.groupGeneListRef.save()\" \n                    @canceled=\"$refs.groupGeneListRef.cancel()\"\n                    :show-controls=\"editingGenes\"\n                >\n                    <component ref=\"groupGeneListRef\" :is=\"groupGeneList\" v-model:editing=\"editingGenes\" />\n                </submission-wrapper>\n                <br> \n                <submission-wrapper \n                    :visible=\"group.isEp()\"\n                    @submitted=\"submitForm('saveScopeDescription', 'editingScopeDescription')\" \n                    @canceled=\"cancelForm('editingScopeDescription')\"\n                    :show-controls=\"editingScopeDescription\"\n                >\n                    <scope-description-form \n                        ref=\"scopeDescriptionRef\"\n                        v-model:editing=\"editingScopeDescription\"\n                        :errors=\"errors\"\n                    />\n                </submission-wrapper>\n            </tab-item>\n            <tab-item label=\"Sustained Curation\" :visible=\"group.isEp()\">\n                <submission-wrapper\n                    @submitted=\"submitForm('saveOngoingPlansForm')\"\n                    @canceled=\"cancelForm()\"\n                     class=\"pb-4\"\n                     :showControls=\"hasAnyPermission(['ep-applications-manage',['application-edit', group]])\"\n                >\n                    <component\n                        ref=\"ongoingPlansForm\"\n                        :is=\"ongoingPlansFormComponent\"\n                        :errors=\"errors\"\n                    />\n                </submission-wrapper>\n                <section v-if=\"group.isVcep()\">\n                    <header>  \n                        <h3>Example Evidence Summaries</h3>\n                    </header>\n                    <evidence-summaries :group=\"group\" class=\"pb-2 mb-4 border-b\" />\n                </section>\n            </tab-item>\n            <tab-item label=\"Specifications\" :visible=\"group.isVcep()\">\n                <cspec-summary />\n            </tab-item>\n\n            <tab-item label=\"Documents\">\n                <group-documents></group-documents>\n            </tab-item>\n\n            <tab-item label=\"Attestations\" :visible=\"group.isEp()\">\n                <note>The attestations below are read only.  Attestations can only be completed during the application process.</note>\n                <attestation-gcep class=\"pb-2 mb-4 border-b\" v-if=\"group.isGcep()\" :disabled=\"true\" />\n\n                <h3>Reanalysis &amp; Discrepancy Resolution</h3>\n                <attestation-reanalysis class=\"pb-2 mb-4 border-b\"  v-if=\"group.isVcep()\" :disabled=\"true\" />                \n                <h3>NHGRI Data Availability</h3>\n                <attestation-nhgri class=\"pb-2 mb-4 border-b\" :disabled=\"true\" />\n            </tab-item>\n            <tab-item label=\"Log\" :visible=\"hasPermission('groups-manage') || userInGroup(group)\">\n                <activity-log\n                    :log-entries=\"logEntries\"\n                    :api-url=\"`/api/groups/${group.uuid}/activity-logs`\"\n                    v-bind:log-updated=\"getLogEntries\"\n                ></activity-log>\n                <button class=\"btn btn-xs mt-1\" @click=\"getLogEntries\">Refresh</button>\n            </tab-item>\n            <tab-item label=\"Admin\" :visible=\"hasPermission('groups-manage')\">\n                <h2 class=\"mb-4\">Here be dragons.  Proceed with caution.</h2>\n                <button class=\"btn btn red\" @click=\"initDelete\">Delete Group</button>\n            </tab-item>\n        </tabs-container>\n        <br><br>\n\n        <teleport to=\"body\">\n            <modal-dialog v-model=\"showModal\" @closed=\"handleModalClosed\" :title=\"this.$route.meta.title\">\n                <router-view ref=\"modalView\" @saved=\"hideModal\" @canceled=\"hideModal\"></router-view>\n            </modal-dialog>\n            <modal-dialog v-model=\"showInfoEdit\" @closed=\"showInfoEdit = false\" title=\"Edit Group Info\" size=\"sm\">\n                <submission-wrapper @submitted=\"$refs.infoForm.save()\" @canceled=\"$refs.infoForm.cancel()\">\n                    <group-form \n                        ref=\"infoForm\"\n                        @canceled=\"showInfoEdit = false\"\n                        @saved=\"showInfoEdit = false\"\n                    />\n                </submission-wrapper>\n            </modal-dialog>\n            <modal-dialog v-model=\"showConfirmDelete\" title=\"Delete This Group?\">\n                <div class=\"text-lg\">\n                    <p>\n                        You are about to delete {{group.displayName}} and all associated data.  \n                    </p>\n                    <p>This cannot be undone.</p>\n                </div>\n                <button-row \n                    submit-text=\"Delete this group.\"\n                    @submitted=\"deleteGroup\" @canceled=\"showConfirmDelete = false\"></button-row>\n            </modal-dialog>\n        </teleport>\n\n    </div>\n</template>\n<script>\nimport { ref, computed, onMounted} from 'vue'\nimport { useStore } from 'vuex'\n\nimport {logEntries, fetchEntries} from '@/adapters/log_entry_repository';\nimport {hasPermission} from '@/auth_utils'\n\nimport ActivityLog from '@/components/log_entries/ActivityLog'\nimport ApplicationSummary from '@/components/groups/ApplicationSummary'\nimport AttestationGcep from '@/components/expert_panels/AttestationGcep'\nimport AttestationNhgri from '@/components/expert_panels/AttestationNhgri'\nimport AttestationReanalysis from '@/components/expert_panels/AttestationReanalysis'\nimport CspecSummary from '@/components/expert_panels/CspecSummary'\nimport EvidenceSummaries from '@/components/expert_panels/EvidenceSummaryList'\nimport GcepGeneList from '@/components/expert_panels/GcepGeneList'\nimport GcepOngoingPlansForm from '@/components/expert_panels/GcepOngoingPlansForm'\nimport GroupForm from '@/components/groups/GroupForm';\nimport GroupDetailHeader from './GroupDetailHeader';\nimport MemberList from '@/components/groups/MemberList';\nimport MembershipDescriptionForm from '@/components/expert_panels/MembershipDescriptionForm'\nimport ScopeDescriptionForm from '@/components/expert_panels/ScopeDescriptionForm'\nimport VcepGeneList from '@/components/expert_panels/VcepGeneList'\nimport VcepOngoingPlansForm from '@/components/expert_panels/VcepOngoingPlansForm'\nimport VcepOngoingPlansFormVue from '../../components/expert_panels/VcepOngoingPlansForm.vue';\nimport GroupDocuments from './GroupDocuments';\n\nimport {isValidationError} from '../../http';\n\nexport default {\n    name: 'GroupDetail',\n    components: {\n        ActivityLog,\n        ApplicationSummary,\n        AttestationGcep,\n        AttestationNhgri,\n        AttestationReanalysis,\n        CspecSummary,\n        GroupDocuments,\n        GroupForm,\n        GroupDetailHeader,\n        EvidenceSummaries,\n        GcepGeneList,\n        GcepOngoingPlansForm,\n        MemberList,\n        MembershipDescriptionForm,\n        ScopeDescriptionForm,\n        VcepGeneList,\n        VcepOngoingPlansForm,\n    },\n    props: {\n        uuid: {\n            type: String,\n            required: true\n        }\n    },\n    data () {\n        return {\n            showInfoEdit: false,\n            editingExpertise: false,\n            editingScopeDescription: false,\n            editingGenes: false,\n            showConfirmDelete: false,\n            ongoingPlansErrors: {},\n            errors: {}\n        }\n    },\n    setup (props) {\n        const store = useStore();\n        const showModal = ref(false);\n\n        const group = computed ({\n            get: function() {\n                return store.getters['groups/currentItemOrNew']\n            },\n            set: function (value) {\n                store.commit('groups/addItem', value);\n            }\n        })\n\n        const groupGeneList = computed(() => {\n            if (!group.value.isEp()) {\n                return null;\n            }\n            return group.value.isVcep() ? VcepGeneList : GcepGeneList;\n        })\n        \n        const ongoingPlansFormComponent = computed(() => {\n            return group.value.isVcep() ? VcepOngoingPlansFormVue : GcepOngoingPlansForm;\n        });\n\n        const getLogEntries = async () => {\n            await fetchEntries(`/api/groups/${props.uuid}/activity-logs`);\n        }\n\n        onMounted(async () => {\n            store.dispatch('groups/find', props.uuid)\n                .then(() => {\n                    store.commit('groups/setCurrentItemIndexByUuid', props.uuid)\n                    if (group.value.isEp()) {                        \n                        store.dispatch('groups/getGenes', group.value);\n                        store.dispatch('groups/getDocuments', group.value);\n                        if (group.value.isVcep()) {\n                            store.dispatch('groups/getEvidenceSummaries', group.value);\n                        }\n                    }\n                })\n        });\n\n        return {\n            group,\n            groupGeneList,\n            showModal,\n            ongoingPlansFormComponent,\n            logEntries,\n            getLogEntries,\n        }\n    },\n    watch: {\n        $route() {\n            this.showModal = this.$route.meta.showModal \n                                ? Boolean(this.$route.meta.showModal) \n                                : false;\n        }\n    },\n    methods: {\n        hideModal () {\n            this.$router.replace({name: 'GroupDetail', params: {uuid: this.uuid}});\n        },\n        handleModalClosed (evt) {\n            this.clearModalForm(evt);\n            this.$router.push({name: 'GroupDetail', params: {uuid: this.uuid}});\n        },\n        clearModalForm () {\n            if (typeof this.$refs.modalView.clearForm === 'function') {\n                this.$refs.modalView.clearForm();\n            }\n        },\n        showEdit () {\n            this.showInfoEdit = true;\n        },\n        cancelForm (modelAttr) {\n            this[modelAttr] = false;\n            this.errors = {};\n            this.revertGroupChanges();\n        },\n        async submitForm (saveMethod, modelAttr) {\n            try {\n                await this[saveMethod].apply(this.group);\n                this[modelAttr] = false;\n            } catch (error) {\n                if (isValidationError(error)) {\n                    this.errors = error.response.data.errors;\n                    return;\n                }\n                throw error;\n            }\n        },\n        saveMembershipDescription () {\n            return this.$store.dispatch(\n                'groups/membershipDescriptionUpdate', \n                {\n                    uuid: this.group.uuid, \n                    membershipDescription: this.group.expert_panel.membership_description\n                }\n            ).then(() => {\n                this.$store.commit('pushSuccess', 'Description of expertise updated.')\n            });\n        },\n        saveScopeDescription () {\n            return this.$store.dispatch(\n                'groups/scopeDescriptionUpdate', \n                {\n                    uuid: this.group.uuid, \n                    scopeDescription: this.group.expert_panel.scope_description\n                }\n            ).then(response => {\n                this.$store.commit('pushSuccess', 'Description of scope updated.')\n                return response;\n            });\n        },\n        saveOngoingPlansForm () {\n            const {uuid, expert_panel: expertPanel} = this.group;\n            return this.$store.dispatch('groups/curationReviewProtocolUpdate', {uuid, expertPanel})\n                    .then(() => {\n                        this.$store.commit('pushSuccess', 'Curation review protocol updated.')\n                    });\n        },\n        revertGroupChanges () {\n            this.errors = {};\n            return this.$store.dispatch('groups/find', this.group.uuid)\n                    .then(() => {\n                        this.$store.commit('pushInfo', 'Update canceled.')\n                    });\n        },\n        handleTabChange (tabName) {\n            if (tabName == 'Log' && hasPermission('groups-manage')) {\n                this.getLogEntries();\n            }\n        },\n        initDelete() {\n            this.showConfirmDelete = true;\n        },\n        deleteGroup () {\n            this.$store.dispatch('groups/delete', this.group.uuid);\n            this.$store.commit('pushSuccess', 'Group deleted.');\n            this.$router.push({name: 'GroupList'})\n        }\n    },\n    mounted() {\n        this.showModal = Boolean(this.$route.meta.showModal);\n        this.showConfirmDelete = false;\n    },\n    beforeUnmount() {\n        this.$store.commit('groups/clearCurrentItem');\n    },\n}\n</script>","<style lang=\"postcss\">\n    .links-blue a {\n        @apply text-blue-500;\n    }\n</style>\n<template>\n    <div>\n        <div class=\"px-3 py-2 rounded border border-gray-300 text-gray-500 bg-gray-200\" v-if=\"!hasLogEntries\">\n            No log entries to display\n        </div>\n        <data-table :fields=\"fields\" :data=\"logEntries\" v-model:sort=\"sort\" v-else>\n            <template v-slot:cell-id=\"{item}\">\n                <div class=\"flex space-x-1\" v-if=\"hasPermission('groups-manage')\">\n                    <button class=\"btn btn-xs inline-block\"  @click=\"editLogEntry(item)\">\n                        <icon-edit width=\"12\"></icon-edit>\n                    </button>\n                    <button \n                        @click=\"confirmDelete(item)\"\n                        v-if=\"item.activity_type === null\"\n                        class=\"btn btn-xs inline-block\"\n                    >\n                        <icon-trash width=\"12\"></icon-trash>\n                    </button>\n                </div>\n            </template>\n            <template v-slot:cell-description=\"{item}\">\n                <div v-html=\"item.description\" class=\"links-blue\"></div>\n            </template>\n        </data-table>\n        <modal-dialog v-model=\"editingEntry\" title=\"Edit log entry\">\n            <log-entry-form \n                :log-entry=\"selectedEntry\" \n                :api-url=\"apiUrl\"\n                @saved=\"closeEntryForm\"\n                @canceled=\"closeEntryForm\"\n            ></log-entry-form>\n        </modal-dialog>\n\n        <modal-dialog v-model=\"showDeleteConfirmation\" title=\"Delete this log entry?\">\n            <activity-log-delete-confirmation \n                :logEntry=\"selectedEntry\" \n                :api-url=\"apiUrl\"\n                @canceled=\"closeDeleteConfirmation\"\n                @deleted=\"closeDeleteConfirmation\"\n            ></activity-log-delete-confirmation>\n        </modal-dialog>\n    </div>\n</template>\n<script>\nimport { ref, computed } from 'vue'\n\nimport LogEntryForm from '@/components/log_entries/ActivityLogEntryForm'\nimport ActivityLogDeleteConfirmation from '@/components/log_entries/ActivityLogDeleteConfirmation'\n\nconst fields = [\n    {\n        name: 'created_at',\n        label: 'Created',\n        sortName: 'created_at',\n        sortable: true,\n        type: Date,\n    },\n    {\n        name: 'description',\n        label: 'Entry',\n        sortable: true,\n        type: String\n    },\n    {\n        name: 'causer.name',\n        label: 'User',\n        sortable: true\n    },\n    {\n        name: 'id',\n        label: '',\n        sortable: false,\n    }\n];\n\nexport default {\n    components: {\n        LogEntryForm,\n        ActivityLogDeleteConfirmation\n    },\n    props: {\n        logEntries: {\n            required: true,\n            type: Array,\n        },\n        apiUrl: {\n            required: true,\n            type: String\n        }\n    },\n    setup (props) {\n        const sort = ref({\n            field: 'created_at',\n            desc: true\n        });\n        const selectedEntry = ref({});\n        const editingEntry = ref(false);\n\n        const hasLogEntries = computed(() => {\n            return props.logEntries.length > 0;\n        });\n\n        const editLogEntry = entry => {\n            editingEntry.value = true;\n            selectedEntry.value = entry;\n        };\n\n        const closeEntryForm = () => {\n            editingEntry.value = false;\n            selectedEntry.value = {};\n        }\n\n        const showDeleteConfirmation = ref(false);\n        const confirmDelete = (entry) => {\n            selectedEntry.value = entry;\n            showDeleteConfirmation.value = true;\n        }\n        const closeDeleteConfirmation = () => {\n            showDeleteConfirmation.value = false;\n            selectedEntry.value = {};\n        }\n\n        return {\n            fields: ref(fields),\n            sort,\n            selectedEntry,\n            editingEntry,\n            hasLogEntries,\n            editLogEntry,\n            closeEntryForm,\n            showDeleteConfirmation,\n            confirmDelete,\n            closeDeleteConfirmation\n        }\n    }\n}\n</script>","<template>\n    <form-container class=\"log-entry-form\" ref=\"form-container\">\n        <hr>\n        <input-row label=\"Log Date\" \n            v-model=\"newEntry.log_date\" \n            :errors=\"errors.log_date\" \n            type=\"date\" \n            ref=\"logdate\"\n        ></input-row>\n        <input-row label=\"Entry\" :errors=\"errors.entry\">\n            <rich-text-editor v-model=\"newEntry.entry\"></rich-text-editor>\n        </input-row>\n        <button-row>\n            <button class=\"btn\" @click=\"cancel\">Cancel</button>\n            <button class=\"btn blue\" @click=\"save\">Save</button>\n        </button-row>\n    </form-container>\n</template>\n<script>\nimport { ref, watch } from 'vue'\nimport RichTextEditor from '@/components/forms/RichTextEditor'\nimport {saveEntry, updateEntry, fetchEntries} from '@/adapters/log_entry_repository'\n\n\nexport default {\n    name: 'LogEntryForm',\n    components: {\n        RichTextEditor\n    },\n    props: {\n        logEntry: {\n            required: false,\n            default: () => {\n                return {\n                    log_date: new Date(),\n                    step: null,\n                    entry: '',\n                }\n            }\n        },\n        apiUrl: {\n            required: true,\n            type: String\n        }\n    },\n    setup (props, context) {\n        const newEntry = ref({\n            log_date: new Date(),\n            step: null,\n            entry: '',\n        });\n        const errors = ref({});\n\n        const syncEntry =  (entry) => {\n            if (!entry || !entry.created_at) {\n                return;\n            }\n\n            newEntry.value = {\n                id: entry.id,\n                log_date: new Date(Date.parse((entry.created_at))),\n                step: entry.properties ? entry.properties.step : null,\n                entry: entry.description\n            }\n        }\n\n        const initNewEntry = () => {\n            newEntry.value = {\n                log_date: new Date(),\n                step: null,\n                entry: ''\n            }\n        }\n\n        const save = async () => {\n            try {\n                if (newEntry.value.id) {\n                    await updateEntry(`${props.apiUrl}/${newEntry.value.id}`, newEntry.value);\n                } else {\n                    await saveEntry(props.apiUrl, newEntry.value);\n                }\n\n                await fetchEntries(props.apiUrl);\n                initNewEntry();\n                context.emit('saved', newEntry.value);\n            } catch (error) {\n                if (error.response && error.response.status == 422 && error.response.data.errors) {\n                    errors.value = error.response.data.errors\n                    return;\n                }\n            }\n        };\n\n        const cancel = () => {\n            initNewEntry();\n            context.emit('canceled');\n        }\n\n        watch(\n            () => props.logEntry, \n            (to) => {\n                syncEntry(to)\n            },\n            {immediate: true}\n        );\n\n        return {\n            newEntry,\n            errors,\n            syncEntry,\n            initNewEntry,\n            save,\n            cancel,\n        }\n    },\n    mounted() {\n        // this.$el.querySelectorAll('input')[0].focus();\n    }\n}\n</script>","import { render } from \"./ActivityLogEntryForm.vue?vue&type=template&id=64301f44\"\nimport script from \"./ActivityLogEntryForm.vue?vue&type=script&lang=js\"\nexport * from \"./ActivityLogEntryForm.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<style lang=\"postcss\" scope>\n    blockquote {\n        @apply mt-4 ml-4 border-l-4 pl-2 text-gray-700;\n        font-size: 1.1rem;\n    }\n</style>\n<template>\n    <div>\n        <p>You are about to delete the following log entry:</p>\n\n        <div class=\"border-y py-2\">\n        <blockquote>\n            <div v-html=\"logEntry.description\"></div>\n        </blockquote>\n        <div class=\"ml-4 mt-2 mb-4 text-gray-700 text-sm\" v-if=\"logEntry.causer\">Logged by {{logEntry.causer.name}}, {{logDate}}</div>\n        </div>\n\n        <div>This can not be undone. Are you sure you want to continue?</div>\n\n        <div v-if=\"flattenedErrors.length > 0\" class=\"bg-red-200 text-red-900 rounded p-2 my-2\">\n            <ul>\n                <li v-for=\"(err,idx) in flattenedErrors\" :key=\"idx\">\n                    {{err}}\n                </li>\n            </ul> \n        </div>\n        \n        <button-row @canceled=\"$emit('canceled')\" @submitted=\"deleteLogEntry\" submitText=\"Delete Log Entry\"></button-row>\n    </div>\n</template>\n<script>\nimport {ref, computed} from 'vue';\nimport { formatDate } from '@/date_utils';\nimport is_validation_error from '@/http/is_validation_error';\nimport { fetchEntries, deleteEntry } from '@/adapters/log_entry_repository'\n\n\nexport default {\n    name: 'ConfirmDeleteLogEntry',\n    props: {\n        logEntry: {\n            required: true,\n            type: Object,\n        },\n        apiUrl: {\n            required: true,\n            type: String\n        }\n    },\n    emits: [\n        'deleted',\n        'canceled'\n    ],\n    setup (props, context) {\n        const errors = ref({});\n        const logDate = computed(() => {\n            return formatDate(props.logEntry.properties.log_date)\n        });\n        const flattenedErrors = computed(() => {\n            return Object.values(errors.value).flat();\n        });\n\n        const deleteLogEntry = async () => {\n            try {\n                await deleteEntry(props.apiUrl, props.logEntry.id);\n                context.emit('deleted')\n                await fetchEntries(props.apiUrl);\n            } catch (error) {\n                if (is_validation_error(error)) {\n                    errors.value = error.response.data.errors;\n                    return;\n                }\n                errors.value = {a: error.message};\n            }\n        }\n\n\n        return {\n            errors,\n            logDate,\n            flattenedErrors,\n            deleteLogEntry\n        }\n    }\n}\n</script>","import { render } from \"./ActivityLogDeleteConfirmation.vue?vue&type=template&id=33176996\"\nimport script from \"./ActivityLogDeleteConfirmation.vue?vue&type=script&lang=js\"\nexport * from \"./ActivityLogDeleteConfirmation.vue?vue&type=script&lang=js\"\n\nimport \"./ActivityLogDeleteConfirmation.vue?vue&type=style&index=0&id=33176996&lang=postcss&scope=true\"\nscript.render = render\n\nexport default script","import { render } from \"./ActivityLog.vue?vue&type=template&id=b96a3862\"\nimport script from \"./ActivityLog.vue?vue&type=script&lang=js\"\nexport * from \"./ActivityLog.vue?vue&type=script&lang=js\"\n\nimport \"./ActivityLog.vue?vue&type=style&index=0&id=b96a3862&lang=postcss\"\nscript.render = render\n\nexport default script","<template>\n    <div class=\"p-4 my-4 mb-8 border rounded-xl bg-white\" v-if=\"group.isEp()\">\n        <h2 class=\"mb-2\">\n            Application Summary\n            <span v-if=\"applicationStarted && group.isVcep()\">\n                - {{this.currentMenuItem.title}}\n            </span>\n        </h2>\n        <!-- <ul class=\"px-8\" v-if=\"applicationStarted\"> -->\n        <ul class=\"px-8\">\n            <li v-for=\"(item, itemIdx) in menu\" :key=\"itemIdx\" class=\"py-1 flex justify-between border-b border-gray-300 my-2\">\n                <div class=\"flex justify-between\" :class=\"{'w-full': !isStep(item)}\">\n                    <div class=\"w-56 text-lg\" :class=\"{'text-gray-400': (isStep(item) && item.isDisabled(group))}\">\n                        {{item.title}}\n                    </div>\n                    <div>\n                        <requirements-badge :section=\"item\" v-if=\"!isStep(item)\" />\n                        <icon-lock v-if=\"(isStep(item) && item.isDisabled(group))\" class=\"inline text-gray-400\" :height=\"14\" :width=\"14\"/>\n\n                        <div v-if=\"isStep(item) && item.isComplete(group)\">\n                            <badge color=\"green\">Approved</badge>\n                        </div>\n                    </div>\n\n                </div>\n                <div v-if=\"isCurrentStep(item)\" class=\"flex-1\">\n                    <ul>\n                        <li v-for=\"(section, sectionIdx) in item.sections\" :key=\"sectionIdx\" class=\"pb-2 flex justify-between my-2\">\n                            <div>{{section.title}}</div>\n                            <requirements-badge :section=\"section\" />\n                        </li>\n                    </ul>\n                </div>\n            </li>\n        </ul>\n        <div class=\"mt-4\" v-if=\"hasAnyPermission(['ep-applications-manage', ['application-edit', group]])\">\n            <router-link v-if=\"group.uuid\" :to=\"applicationRoute\">\n                <button class=\"btn blue btn-lg\">Go to application</button>\n            </router-link>\n        </div>\n    </div>\n</template>\n<script>\nimport RequirementsBadge from '@/components/expert_panels/RequirementsBadge';\nimport {GcepApplication, VcepApplication} from '@/domain'\n\nexport default {\n    name: 'ApplicationSummary',\n    components: {\n        RequirementsBadge\n    },\n    props: {\n        group: {\n            required: true,\n            type: Object\n        }\n    },\n    data() {\n        return {\n            \n        }\n    },\n    computed: {\n        applicationStarted () {\n            return true;\n        },\n        application () {\n            return this.group.isVcep() ? VcepApplication : GcepApplication;\n        },\n        currentStep () {\n            return this.group.expert_panel.current_step;\n        },\n        applicationRoute () {\n            return {\n                name: 'GroupApplication', \n                params: {uuid: this.group.uuid},\n                hash: `#${this.currentMenuItem.id}`\n            }\n        },\n        currentMenuItem () {\n            return this.application.getStep(this.group.expert_panel.current_step)\n        },\n        menu () {\n            if (this.application.steps.length > 1) {\n                return this.application.steps;\n            }\n            return this.application.steps[0].sections;\n        }\n    },\n    methods: {\n        isStep (menuItem) {\n            return Boolean(menuItem.sections);\n        },\n        isCurrentStep(menuItem) {\n            if (this.isStep(menuItem) && this.application.getStep(this.group.expert_panel.current_step) == menuItem) {\n                return true;\n            }\n            return false;\n        }\n    }\n}\n</script>","import { render } from \"./ApplicationSummary.vue?vue&type=template&id=361b3105\"\nimport script from \"./ApplicationSummary.vue?vue&type=script&lang=js\"\nexport * from \"./ApplicationSummary.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n    <header class=\"pb-4\">\n        <router-link class=\"note\" :to=\"{name: 'GroupList'}\">Groups</router-link>\n        <h1 class=\"flex justify-between items-center\">\n            <div>\n                {{group.displayName}} <badge :color=\"group.statusColor\" class=\"text-xs\">{{group.status ? group.status.name : 'loading...'}}</badge>\n                <note v-if=\"hasRole('super-user')\" class=\"font-normal\">\n                    group.id: {{group.id}}\n                    <span v-if=\"group.isEp()\"> | expertPanel.id: {{group.expert_panel.id}}</span>\n                </note>\n            </div>\n            <button \n                v-if=\"hasAnyPermission(['groups-manage', ['info-edit', group]])\" \n                @click=\"$emit('showEdit')\"\n                class=\"btn btn-xs\" \n            >\n                Edit\n            </button>\n        </h1>\n        <dictionary-row label=\"Chairs:\">\n            <template v-slot:label><strong>Chairs:</strong></template>\n            <div v-if=\"group.chairs.length > 0\">\n                {{group.chairs.map(c => c.person.name).join(', ')}}\n            </div>\n            <div class=\"text-gray-500\" v-else>\n                None assigned\n            </div>\n        </dictionary-row>\n        <dictionary-row label=\"Coordinators:\">\n            <template v-slot:label><strong>Coordinators:</strong></template>\n            <div v-if=\"coordinators.length > 0\">\n                {{coordinators.map(c => c.person.name).join(', ')}}\n            </div>\n            <div class=\"text-gray-500\" v-else>\n                None assigned\n            </div>\n        </dictionary-row>\n    </header>\n</template>\n<script>\nimport Group from '@/domain/group'\n\nexport default {\n    name: 'GroupDetailHeader',\n    props: {\n        group: {\n            type: Group,\n            required: true,\n        }\n    },\n    emits: [\n        'showEdit'\n    ],\n    computed: {\n        // NOTE: not sure why this is necessary. group.charis and group.coordinators\n        // are identical getters except for the role being filtered on. But since \n        // both work when the data is first loaded I don't know why chairs updates on \n        // member change and coordinators.\n        coordinators: function() {\n            if (!this.group) {\n                return [];\n            }\n            return this.group.members.filter(m => m.hasRole('coordinator'));\n        }\n    },\n}\n</script>","import { render } from \"./GroupDetailHeader.vue?vue&type=template&id=41e5cce2\"\nimport script from \"./GroupDetailHeader.vue?vue&type=script&lang=js\"\nexport * from \"./GroupDetailHeader.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n    <div>\n        <document-list :documents=\"displayDocuments\"\n            :documentUpdater=\"updateDocument\"\n            :documentCreator=\"createDocument\"\n            :documentDeleter=\"deleteDocument\"\n            :canManage=\"canManageDocuments\"\n        >\n        </document-list>\n    </div>\n</template>\n<script>\nimport DocumentList from '@/components/documents/DocumentList';\n\nexport default {\n    name: 'GroupDocuments',\n    components: {\n        DocumentList\n    },\n    props: {\n        \n    },\n    data() {\n        return {\n            \n        }\n    },\n    computed: {\n        group: {\n            get () {\n                return this.$store.getters['groups/currentItemOrNew']\n            }\n        },\n        displayDocuments () {\n            return this.group.documents;\n        },\n        canManageDocuments () {\n            return this.hasAnyPermission(['groups-manage', 'ep-applications-manage', ['info-edit', this.group]]);\n        }\n    },\n    methods: {\n        async updateDocument (updatedData) {\n            if (!this.canManageDocuments) {\n                this.$store.pushError('Permission denied');\n                return;\n            }\n            await this.$store.dispatch(\n                'groups/updateDocument', \n                {group: this.group, document: updatedData}\n            );\n        },\n        async createDocument (newDocumentData) {\n            if (!this.canManageDocuments) {\n                this.$store.pushError('Permission denied');\n                return;\n            }\n            await this.$store.dispatch(\n                'groups/addDocument', \n                {group: this.group, data: newDocumentData}\n            );\n        },\n        async deleteDocument (document) {\n            if (!this.canManageDocuments) {\n                this.$store.pushError('Permission denied');\n                return;\n            }\n            await this.$store.dispatch(\n                'groups/deleteDocument', \n                {group: this.group, document}\n            );\n        }\n    }\n}\n</script>","<template>\n    <div>\n        <slot name=\"heading\">\n            <div class=\"flex justify-between py-2\">\n                <div class=\"flex space-x-2\">\n                    <label>\n                        Search:&nbsp;<input type=\"text\" placeholder=\"Fitler\" v-model=\"keyword\" class=\"sm\">\n                    </label>\n                    <label>\n                        Type: &nbsp;\n                        <select v-model=\"filterType\">\n                            <option :value=\"null\">Any</option>\n                            <option \n                                v-for=\"type in documentTypes\"\n                                :key=\"type.id\"\n                                :value=\"type.id\"\n                            >\n                                {{type.long_name}}\n                            </option>\n                        </select>\n                    </label>\n                </div>\n                <button class=\"btn btn-xs\" @click=\"initUpload\" v-if=\"canManage\">Upload</button>\n            </div>\n        </slot>\n        <data-table \n            :fields=\"fields\" \n            :data=\"filteredDocuments\" \n            v-model:sort=\"sort\"\n            :detailRows=\"true\"\n        >\n            <template v-slot:cell-cheveron=\"{item}\">\n                <button \n                    v-if=\"item.metadata\"\n                    @click.stop=\"toggleItemDetails(item)\" \n                    class=\"w-9 align-center block -mx-3\"\n                >\n                    <icon-cheveron-right v-if=\"!item.showDetails\" class=\"m-auto cursor-pointer\" />\n                    <icon-cheveron-down v-if=\"item.showDetails\" class=\"m-auto cursor-pointer\" />\n                </button>\n            </template>\n            <template #cell-filename=\"{item}\">\n                {{item.filename}}\n                <span class=\"note\">\n                    <em v-if=\"item.type.is_versioned && item.version\">(version {{item.version}})</em>\n                    <em v-if=\"item.is_final\"> FINAL</em>\n                </span>\n            </template>\n            <template v-slot:cell-actions=\"{item}\">\n                <dropdown-menu hideCheveron v-if=\"canManage\">\n                    <template #label> <button class=\"btn btn-xs\">&hellip;</button></template>\n                    <dropdown-item @click=\"initDownload(item)\">Download</dropdown-item>\n                    <dropdown-item @click=\"initUpdate(item)\">Update</dropdown-item>\n                    <dropdown-item @click=\"initDelete(item)\">Delete</dropdown-item>\n                </dropdown-menu>\n            </template>\n            <template v-slot:detail=\"{item}\">\n                <div class=\"px-4 pb-4 border\">\n                    <object-dictionary :obj=\"item.metadata\" />\n                    <div class=\"flex space-x-2 pt-2 border-t\" v-if=\"canManage\">                    \n                        <button class=\"btn btn-xs\" @click=\"initDownload(item)\">Download</button>\n                        <button class=\"btn btn-xs\" @click=\"initUpdate(item)\">Update</button>\n                        <button class=\"btn btn-xs red\" @click=\"initDelete(item)\">Delete</button>\n                    </div>\n                </div>\n            </template>\n        </data-table>\n\n        <teleport to=\"body\">\n            <modal-dialog v-model=\"showEditForm\" :title=\"`Update ${activeDocument.filename}`\">\n                <document-edit-form \n                    :document=\"activeDocument\"\n                    :save-function=\"this.commitUpdate\"\n                ></document-edit-form>\n            </modal-dialog>\n\n            <modal-dialog v-model=\"showUploadForm\" title=\"Upload a new document\">\n                <document-upload-form :save-function=\"this.commitCreate\"></document-upload-form>\n            </modal-dialog>\n\n            <modal-dialog \n                v-model=\"showDeleteConfirmation\" \n                :title=\"`You are about to delete ${activeDocument.filename}`\"\n            >\n                <div v-if=\"activeDocument\">\n                    <p v-if=\"activeDocument.is_final\" class=\"mb-3\">\n                        This version has been tagged as the final version of the document.\n                    </p>\n                    <p>Are you sure you want to continue?</p>\n\n                    <button-row \n                        submit-text=\"Delete Document\" \n                        @canceled=\"cancelDelete\" \n                        @submitted=\"commitDelete\"\n                    >\n                    </button-row>\n                </div>\n            </modal-dialog>\n        </teleport>\n    </div>\n</template>\n<script>\nimport {api} from '@/http'\nimport DocumentUploadForm from './DocumentUploadForm'\nimport DocumentEditForm from './DocumentEditForm'\n\nexport default {\n    name: 'DocumentList',\n    components: {\n        DocumentUploadForm,\n        DocumentEditForm\n    },\n    props: {\n        documents: {\n            type: Array,\n            required: true\n        },\n        documentCreator: {\n            type: Function,\n            required: false\n        },\n        documentUpdater: {\n            type: Function,\n            required: false\n        },\n        documentDeleter: {\n            type: Function,\n            required: false\n        },\n        canManage: {\n            type: Boolean,\n            default: false\n        }\n    },\n    data() {\n        return {\n            fields: [\n                {\n                    name: 'cheveron',\n                    label: '',\n                    sortable: false\n                },\n                {\n                    name: 'filename',\n                    label: 'File',\n                    type: String,\n                    sortable: true\n                },\n                {\n                    name: 'type.long_name',\n                    label: 'Type',\n                    type: String,\n                    sortable: true\n                },\n                {\n                    name: 'notes',\n                    type: String,\n                    sortable: true,\n                },\n                {\n                    name: 'actions',\n                    label: '',\n                    type: String,\n                    sortable: false,\n                }\n            ],\n            sort: {\n                field: 'filename',\n                desc: false\n            },\n            keyword: null,\n            filterType: null,\n            documentTypes: [],\n            activeDocument: {\n                type: {}\n            },\n            showDeleteConfirmation: false,\n            showEditForm: false,\n            showUploadForm: false\n        }\n    },\n    computed: {\n        filteredDocuments () {\n            let documents = [...this.documents];\n            if (this.keyword) {\n                const rx = new RegExp('.*'+this.keyword+'.*', 'i');\n                documents = documents.filter(doc => {\n                    return doc.filename.match(rx)\n                        || (doc.notes && doc.notes.match(rx))\n                        || doc.type.name.match(rx)\n                });\n            }\n            if (this.filterType) {                                \n                documents = documents.filter(doc => {\n                    return doc.document_type_id == this.filterType\n                })\n            }\n            return documents\n        },\n    },\n    methods: {\n        toggleItemDetails(item) {\n            item.showDetails = !item.showDetails;\n        },\n        initDownload (item) {\n            window.location = item.download_url;\n        },\n        initUpdate (item) {\n            this.showEditForm = true; \n            this.activeDocument = item;\n        },\n        commitUpdate (data) {\n            console.log('commitUpdate', data);\n            if (this.documentUpdater) {\n                this.documentUpdater(data)\n            } else {\n                alert('we need a default document upload function');\n            }\n\n            this.showUploadForm = false;\n        },\n        initDelete (item) {\n            this.activeDocument = item;\n            this.showDeleteConfirmation = true;\n        },\n        cancelDelete () {\n            this.showDeleteConfirmation = false;\n            this.resetActiveDocument();\n        },\n        async commitDelete() {\n            if (this.documentDeleter) {\n                this.documentDeleter(this.activeDocument);\n            } else {\n                alert('we need to add a default document deleter.');\n            }\n            this.showDeleteConfirmation = false;\n            this.resetActiveDocument();\n        },\n        initUpload() {\n            this.showUploadForm = true;\n        },\n        commitCreate (data) {\n            console.log('commitCreate', this.documentCreator);\n            if (this.documentCreator) {\n                this.documentCreator(data)\n            } else {\n                alert('we need a default document upload function');\n            }\n\n            this.showUploadForm = false;\n        },\n        resetActiveDocument () {\n            this.activeDocument = {type: {}}\n        }\n    },\n    mounted () {\n        api.get('/api/document-types')\n            .then(response => this.documentTypes = response.data)\n    }\n}\n</script>","<template>\n    <form-container>\n        <input-row label=\"Document\" :errors=\"errors.file\">\n            <input type=\"file\" ref=\"fileInput\">\n        </input-row>\n\n        <input-row label=\"Type\" :errors=\"errors.document_type_id\">\n            <select v-model=\"newDocument.document_type_id\">\n                <option :value=\"null\">Select...</option>\n                <option :value=\"type.id\" v-for=\"type in documentTypes\" :key=\"type.id\">\n                    {{type.long_name}}\n                </option>\n            </select>\n        </input-row>\n\n        <input-row :errors=\"errors.notes\" label=\"Notes\">\n            <textarea name=\"notes\" v-model=\"newDocument.notes\" cols=\"30\" rows=\"10\"></textarea>\n        </input-row>\n        \n        <button-row>\n            <button class=\"btn white\" @click=\"cancel\">Cancel</button>\n            <button class=\"btn blue\" @click=\"save\">Save</button>\n        </button-row>\n    </form-container>\n</template>\n<script>\nimport { mapState } from 'vuex';\nimport { isValidationError } from '@/http';\n\nexport default {\n    props: {\n        saveFunction: {\n            type: Function,\n            required: true\n        }\n    },\n    data() {\n        return {\n            newDocument: {\n                file: null,\n                document_type_id: this.documentTypeId,\n                notes: null\n            },\n            errors: {},\n        }\n    },\n    computed: {\n        ...mapState({\n            documentTypes: state => state.doctypes.items\n        }),\n        group () {\n            return this.$store.getters['groups/currentItemOrNew']\n        },\n        application () {\n            return this.group.expert_panel\n        },\n        isReviewed () {\n            return Boolean(this.newDocument.date_reviewed)\n        },\n        documentType () {\n            if (this.documentTypes.length == 0) {\n                return {};\n            }\n            // return this.documentTypes. \n            return this.$store.getters['doctypes/getItemById'](this.documentTypeId)\n        }\n    },\n    methods: {\n        async save() {\n            try {\n                let data = new FormData();\n                Object.keys(this.newDocument)\n                    .forEach(key => {\n                        const val = this.newDocument[key]\n                        if (val == null) return;\n                        data.append(key, val);\n                    })\n                data.append('file', this.$refs.fileInput.files[0]);\n                await this.saveFunction(data);\n\n                this.clearForm();\n                this.$emit('saved');\n            } catch (error) {\n                if (isValidationError(error)) {\n                    this.errors = error.response.data.errors\n                    return;\n                }\n            }\n\n        },\n        cancel() {\n            this.clearForm();\n            this.$emit('canceled');\n        },\n        clearForm() {\n            this.initNewDocument();\n            this.clearErrors();\n        },\n        initNewDocument() {\n            this.$refs.fileInput.value = null;\n            this.newDocument = {\n                file: null,\n                document_type_id: this.documentTypeId,\n                notes: null\n            }\n        },\n        clearErrors () {\n            this.errors = {}\n        }\n    },\n    mounted() {\n        this.$store.dispatch('doctypes/getItems');\n    }\n}\n</script>","import { render } from \"./DocumentUploadForm.vue?vue&type=template&id=6cd8aab9\"\nimport script from \"./DocumentUploadForm.vue?vue&type=script&lang=js\"\nexport * from \"./DocumentUploadForm.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n    <form-container>        \n        <dictionary-row label=\"File\">\n            {{document.filename}}\n        </dictionary-row>\n        <input-row label=\"Type\" :errors=\"errors.document_type_id\">\n            <select v-model=\"docProxy.document_type_id\">\n                <option :value=\"type.id\" v-for=\"type in documentTypes\" :key=\"type.id\">\n                    {{type.long_name}}\n                </option>\n            </select>\n        </input-row>\n        <input-row :errors=\"errors.notes\" label=\"Notes\">\n            <textarea name=\"notes\" v-model=\"docProxy.notes\" cols=\"30\" rows=\"10\"></textarea>\n        </input-row>\n        <button-row>\n            <button class=\"btn\" @click=\"cancel\">Cancel</button>\n            <button class=\"btn blue\" @click=\"save\">Save</button>\n        </button-row>\n    </form-container>\n</template>\n<script>\nimport { isValidationError } from '@/http';\nimport {mapState} from 'vuex'\nexport default {\n    name: 'DocumentEditForm',\n    props: {\n        document: {\n            required: true,\n            type: Object\n        },\n        saveFunction: {\n            required: true,\n            type: Function\n        }\n    },\n    emits: [\n        'saved',\n    ],\n    data() {\n        return {\n            docProxy: {},\n            errors: {}\n        }\n    },\n    computed: {\n        ...mapState({\n            documentTypes: state => state.doctypes.items\n        }),\n    },\n    watch: {\n        document: {\n            immediate: true,\n            handler () {\n                this.docProxy = JSON.parse(JSON.stringify(this.document))\n            }\n        }\n    },\n    methods: {\n        cancel() {\n            this.docProxy = {};\n            this.$emit('canceled');\n        },\n        async save() {\n            try {\n                this.saveFunction(this.docProxy);\n                this.$emit('saved');\n            } catch (error) {\n                if (isValidationError(error)) {\n                    this.errors = error.response.data.errors\n                }\n                throw error\n            }\n        }\n    },\n    mounted () {\n        this.$store.dispatch('doctypes/getItems');\n    }\n}\n</script>","import { render } from \"./DocumentEditForm.vue?vue&type=template&id=685e870c\"\nimport script from \"./DocumentEditForm.vue?vue&type=script&lang=js\"\nexport * from \"./DocumentEditForm.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./DocumentList.vue?vue&type=template&id=60ad169c\"\nimport script from \"./DocumentList.vue?vue&type=script&lang=js\"\nexport * from \"./DocumentList.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./GroupDocuments.vue?vue&type=template&id=17422311\"\nimport script from \"./GroupDocuments.vue?vue&type=script&lang=js\"\nexport * from \"./GroupDocuments.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./GroupDetail.vue?vue&type=template&id=3673b892\"\nimport script from \"./GroupDetail.vue?vue&type=script&lang=js\"\nexport * from \"./GroupDetail.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ActivityLog.vue?vue&type=style&index=0&id=b96a3862&lang=postcss\""],"sourceRoot":""}