{"version":3,"sources":["webpack:///./src/http/is_validation_error.js","webpack:///./src/views/applications/ApplicationDetail.vue","webpack:///./src/components/applications/ApplicationLog.vue","webpack:///./src/components/icons/IconEdit.vue","webpack:///./src/components/icons/IconEdit.vue?1f8d","webpack:///./src/components/icons/IconTrash.vue","webpack:///./src/components/icons/IconTrash.vue?00c3","webpack:///./src/components/applications/ApplicationLog.vue?63f8","webpack:///./src/components/applications/EpAttributesForm.vue","webpack:///./src/components/contacts/ApplicationContacts.vue","webpack:///./src/components/contacts/AddContactControl.vue","webpack:///./src/components/contacts/AddContactControl.vue?da8e","webpack:///./src/components/contacts/ContactRow.vue","webpack:///./src/components/buttons/RemoveButton.vue","webpack:///./src/components/icons/IconClose.vue","webpack:///./src/components/icons/IconClose.vue?2766","webpack:///./src/components/buttons/RemoveButton.vue?bd7c","webpack:///./src/components/contacts/ContactRow.vue?9f0b","webpack:///./src/components/contacts/ApplicationContacts.vue?e787","webpack:///./src/components/applications/EpAttributesForm.vue?61b2","webpack:///./src/components/next_actions/NextActions.vue","webpack:///./src/components/next_actions/CompleteNextActionForm.vue","webpack:///./src/components/next_actions/CompleteNextActionForm.vue?d02a","webpack:///./src/components/buttons/EditIconButton.vue","webpack:///./src/components/buttons/EditIconButton.vue?533b","webpack:///./src/components/buttons/CheckmarkIconButton.vue","webpack:///./src/components/icons/IconCheckmark.vue","webpack:///./src/components/icons/IconCheckmark.vue?5b33","webpack:///./src/components/buttons/CheckmarkIconButton.vue?9fa3","webpack:///./src/components/buttons/TrashIconButton.vue","webpack:///./src/components/buttons/TrashIconButton.vue?8b75","webpack:///./src/components/next_actions/NextActions.vue?5c34","webpack:///./src/components/applications/ProgressChart.vue","webpack:///./src/components/applications/ProgressStep.vue","webpack:///./src/components/applications/ProgressStep.vue?1b15","webpack:///./src/components/applications/ProgressChart.vue?270e","webpack:///./src/components/applications/StepTabs.vue","webpack:///./src/components/applications/StepOne.vue","webpack:///./src/components/applications/BaseStep.vue","webpack:///./src/components/applications/documents/DocumentManager.vue","webpack:///./src/components/applications/documents/DocumentList.vue","webpack:///./src/components/icons/IconDownload.vue","webpack:///./src/components/icons/IconDownload.vue?a8cc","webpack:///./src/components/applications/documents/DocumentReviewedForm.vue","webpack:///./src/components/applications/documents/DocumentReviewedForm.vue?8ec3","webpack:///./src/components/applications/documents/DocumentEditForm.vue","webpack:///./src/components/applications/documents/DocumentEditForm.vue?c35d","webpack:///./src/components/applications/documents/DocumentList.vue?0663","webpack:///./src/components/applications/documents/DocumentUploadForm.vue","webpack:///./src/components/applications/documents/DocumentUploadForm.vue?f1fc","webpack:///./src/components/applications/documents/FinalDocumentView.vue","webpack:///./src/components/applications/documents/FinalDocumentView.vue?df4c","webpack:///./src/components/applications/documents/DocumentManager.vue?834f","webpack:///./src/components/applications/ApproveStepForm.vue","webpack:///./src/components/applications/ApproveStepForm.vue?4a51","webpack:///./src/components/applications/BaseStep.vue?9a74","webpack:///./src/components/applications/COILog.vue","webpack:///./src/components/icons/IconRefresh.vue","webpack:///./src/components/icons/IconRefresh.vue?719b","webpack:///./src/components/applications/CoiDetail.vue","webpack:///./src/components/applications/CoiDetail.vue?3a64","webpack:///./src/components/applications/CoiLegacyUpload.vue","webpack:///./src/components/applications/CoiLegacyUpload.vue?eba2","webpack:///./src/components/applications/COILog.vue?35d2","webpack:///./src/components/applications/StepOne.vue?411f","webpack:///./src/components/applications/StepTwo.vue","webpack:///./src/components/applications/StepTwo.vue?c01e","webpack:///./src/components/applications/StepThree.vue","webpack:///./src/components/applications/StepThree.vue?b032","webpack:///./src/components/applications/StepFour.vue","webpack:///./src/components/applications/StepFour.vue?f233","webpack:///./src/components/applications/StepTabs.vue?f5c9","webpack:///./src/views/applications/ApplicationDetail.vue?765c","webpack:///./src/components/applications/ProgressChart.vue?1a21","webpack:///./src/components/buttons/RemoveButton.vue?d2ca","webpack:///./src/components/log_entries/LogEntryForm.vue","webpack:///./src/components/log_entries/LogEntryForm.vue?ed08","webpack:///./src/components/applications/CoiDetail.vue?2cbd","webpack:///./src/components/contacts/NewContactForm.vue","webpack:///./src/components/contacts/NewContactForm.vue?8187","webpack:///./src/components/applications/ApplicationLog.vue?c829","webpack:///./src/components/applications/ProgressStep.vue?c1a4"],"names":["error","response","status","data","errors","class","title","application","name","current_step","header-right","to","next_actions","next-actions","label","uuid","showModal","handleModalClosed","ref","hideModal","hasLogEntries","fields","filteredLogEntries","sort","cell-id","item","id","width","activity_type","cell-description","description","noResultsMessage","editingEntry","d","icon-name","render","sortName","sortable","type","Date","String","components","IconEdit","IconTrash","LogEntryForm","props","step","required","Number","logEntries","field","desc","selectedLogEntry","computed","this","length","log_entries","filter","entry","properties","methods","getLogEntries","$store","dispatch","editLogEntry","mounted","appClone","long_base_name","placeholder","saveChanges","display_name","short_base_name","affiliation_id","affiliationIdPlaceholder","cdwg_id","cdwgs","cdwg","value","key","affiliationUrl","hasAffiliationId","href","target","contacts","contact","propagateEvent","$event","initiateAddContact","showForm","triggerAddedContact","$emit","NewContactForm","emits","email","phone","size","confirmRemove","showRemoveConfirmation","join","cancel","save","height","dimension","IconClose","default","RemoveButton","Object","is_validation_error","alert","ContactRow","AddContactControl","ApplicationContacts","clone","watch","immediate","handler","resetClone","ep_type_id","state","items","Boolean","hasChanges","epAttrs","idx","attr","isClean","clearErrors","replace","console","info","showCompleted","filteredNextActions","tableSort","cell-entry","cell-assigned_to","assignee","assigned_to_name","cell-action","$router","push","initiateDelete","date_completed","startCompleting","showCreateModal","next-action","selectedNextAction","handleCompleted","nextAction","obj","show","dates","dateCompleted","markComplete","clearForm","IconCheckmark","CompleteNextActionForm","EditButton","CheckmarkIcon","CheckmarkButton","TrashIconButton","nextActions","Array","showDeleteConfirmation","resolveValue","str","assigned_to","na","params","applicationUuid","steps","i","displayClass","isLastStep","approvalDate","isFirstStep","dateInitiated","date_initiated","approval_dates","classes","isApproved","isCurrentStep","lastStep","ProgressStep","__scopeId","tab-location","activeIndex","document-name","document-type","document-gets-reviewed","approve-button-label","dateApproved","editApprovalDate","newApprovalDate","updateApprovalDate","initEditApprovalDate","documentName","document-type-id","documentType","getsReviewd","documentGetsReviewed","stepIsApproved","startApproveStep","disabled","approveButtonLabel","showApproveForm","hideApproveForm","documentTypeId","showUploadForm","$refs","uploadform","filteredDocuments","filteredFields","cell-is_final","is_final","markFinal","downloadDocument","openEditForm","showEditForm","document","activeDocument","showMarkReviewed","showReviewedForm","hideReviewedForm","dateReviewed","date_reviewed","saveDateReviewed","isFinal","isReviewed","version","filename","docProxy","date_received","long_name","JSON","parse","stringify","IconDownload","DocumentReviewedForm","DocumentEditForm","getsReviewed","headerClass","clonedFields","findIndex","f","slice","documents","document_type_id","hasFinalVersion","finalVersion","find","window","location","download_url","confirmNewFinal","confirmMessage","confirm","file","newDocument","date_receoved","documentTypes","doctypes","getters","FormData","keys","forEach","val","append","fileInput","files","documentData","initNewDocument","finalDocument","firstDateReceived","initEditReceived","editDateReceived","newDateReceived","saveDateReceived","editDateReviewed","newDateReviewed","finalDocumentOfType","firstDocument","firstDocumentOfType","finalDateReviewed","initEditReviewed","DocumentUploadForm","FinalDocumentView","DocumentList","multiple","date_approved","notifyContacts","subject","body","RichTextEditor","api","get","then","attachments","attachmentsField","ApplicationLog","DocumentManager","ApproveStepForm","approvalDateForStep","approveStep","features","legacyCoi","coi_url","hostname","mailtoLink","hasContacts","downloadReport","refreshing","refresh","hasCois","cois","showResponse","showResponseDialog","currentResponse","xmlns","viewBox","first_name","last_name","label-class","document_uuid","work_fee_lab","question","vertical","getQuestionValue","contributions_to_gd_in_ep","contributions_to_genes","independent_efforts","indexOf","independent_efforts_details","coi","coi_details","isLegacy","downloadUrl","nameErrors","newCoi","submit-text","assembleFormData","coiData","setup","otherData","IconRefresh","CoiDetail","CoiLegacyUpload","sortale","map","p","response_document","mailToContacts","mailtobutton","click","reportUrl","coi_code","BaseStep","CoiLog","formatDate","dateString","StepOne","StepTwo","StepThree","StepFour","activeStep","deep","set","EpAttributesForm","NextActions","ProgressChart","StepTabs","$route","meta","hasPendingNextAction","latest_pending_next_action","evt","clearModalForm","modalView","newEntry","log_date","StepInput","findEntry","syncEntry","initNewEntry","created_at","updatedEntry","logEntryData","$el","querySelectorAll","focus","newContact","suggestedPeople","person","isAlreadyContact","addExistingPersonAsContact","createNew","role","people","includes","getter","c"],"mappings":"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","file":"js/application-detail.2bc5c3e8.js","sourcesContent":["export default function (error) {\n    return error.response && error.response.status == 422 && error.response.data.errors\n}","<template>\n    <div>\n        <card :title=\"`${application.name} - Current Step: ${application.current_step}`\">\n            <template v-slot:header-right>\n                <div class=\"flex space-x-2\">\n                    <router-link :to=\"{name: 'NextAction'}\" class=\"btn btn-sm\">Add Next Action</router-link>\n                    <router-link :to=\"{name: 'LogEntry'}\" class=\"btn btn-sm\">Add Log Entry</router-link>\n                </div>                \n            </template>\n            \n            <div class=\"md:flex md:space-x-4\">\n                <ep-attributes-form :application=\"application\" class=\" flex-1\"></ep-attributes-form>\n                <div class=\"flex-1 space-y-2 md:border-l md:px-4 md:py-2\">\n                    <next-actions :next-actions=\"application.next_actions\" v-if=\"application.next_actions\"></next-actions>\n                </div>\n\n            </div>\n\n            <progress-chart \n                :application=\"application\" \n                class=\"py-4 border-t border-b border-gray-300 my-6\"\n            ></progress-chart>\n\n            <tabs-container>\n                <tab-item label=\"Application\">\n                    <step-tabs :application=\"application\"></step-tabs>\n                </tab-item>\n\n                <tab-item label=\"Application Log\">\n                    <application-log :uuid=\"application.uuid\"></application-log>\n                </tab-item>\n\n                <!-- <tab-item label=\"Dev Tools\">\n                    <pre>{{this.application}}</pre>\n                </tab-item> -->\n            </tabs-container>\n\n        </card>\n\n        <modal-dialog v-model=\"showModal\" @closed=\"handleModalClosed\">\n            <router-view ref=\"modalView\" @saved=\"hideModal\" @canceled=\"hideModal\"></router-view>\n        </modal-dialog>\n    </div>\n</template>\n<script>\nimport { mapGetters } from 'vuex'\nimport ApplicationLog from '../../components/applications/ApplicationLog'\nimport EpAttributesForm from '../../components/applications/EpAttributesForm'\n// import NextActionBanner from '../../components/next_actions/NextActionBanner'\nimport NextActions from '../../components/next_actions/NextActions'\nimport ProgressChart from '../../components/applications/ProgressChart'\nimport StepTabs from '../../components/applications/StepTabs'\n\nexport default {\n    name: 'ApplicationDetail',\n    components: {\n        ApplicationLog,\n        EpAttributesForm,\n        NextActions,\n        ProgressChart,\n        StepTabs\n    },\n    props: {\n        uuid: {\n            type: String,\n            required: true\n        }\n    },\n    data() {\n        return {\n            showModal: false\n        }\n    },\n    watch: {\n        $route() {\n                this.showModal = this.$route.meta.showModal \n                                    ? Boolean(this.$route.meta.showModal) \n                                    : false;\n        }\n    },\n    computed: {\n        ...mapGetters({\n            application: 'applications/currentItem'\n        }),\n        hasPendingNextAction () {\n            if (typeof this.application == 'undefined') {\n                return false;\n            }\n\n            return this.application.latest_pending_next_action\n        }\n    },\n    methods: {\n        hideModal () {\n            this.$router.replace({name: 'ApplicationDetail', params: {uuid: this.uuid}});\n        },\n        handleModalClosed (evt) {\n            this.clearModalForm(evt);\n            this.$router.push({name: 'ApplicationDetail', params: {uuid: this.uuid}});\n        },\n        clearModalForm () {\n            if (typeof this.$refs.modalView.clearForm === 'function') {\n                this.$refs.modalView.clearForm();\n            }\n        }\n    },\n    mounted() {\n        this.$store.dispatch('applications/getApplication', this.uuid);\n        this.showModal = Boolean(this.$route.meta.showModal)\n    }\n}\n</script>","<style lang=\"postcss\">\n    .links-blue a {\n        @apply text-blue-500;\n    }\n</style>\n<template>\n    <div>\n        <div class=\"px-3 py-2 rounded border border-gray-300 text-gray-500 bg-gray-200\" v-if=\"!hasLogEntries\">\n            {{noResultsMessage}}\n        </div>\n        <data-table :fields=\"fields\" :data=\"filteredLogEntries\" v-model:sort=\"sort\" v-else>\n            <template v-slot:cell-id=\"{item}\">\n                <div class=\"flex space-x-1\">\n                    <router-link :to=\"{name: 'EditLogEntry', params:{id: item.id}}\" class=\"btn btn-xs inline-block\">\n                        <icon-edit width=\"12\"></icon-edit>\n                    </router-link>\n                    <router-link \n                        :to=\"{name: 'ConfirmDeleteLogEntry', params:{id: item.id}}\" \n                        v-if=\"item.activity_type === null\"\n                        class=\"btn btn-xs inline-block\"\n                    >\n                        <icon-trash width=\"12\"></icon-trash>\n                    </router-link>\n                </div>\n            </template>\n            <template v-slot:cell-description=\"{item}\">\n                <div v-html=\"item.description\" class=\"links-blue\"></div>\n            </template>\n        </data-table>\n        <modal-dialog v-model=\"editingEntry\" title=\"Edit log entry\">\n            <log-entry-form></log-entry-form>\n        </modal-dialog>\n    </div>\n</template>\n<script>\nimport {mapGetters} from 'vuex';\nimport IconEdit from '../icons/IconEdit'\nimport IconTrash from '../icons/IconTrash'\nimport LogEntryForm from '../log_entries/LogEntryForm'\n\n\nconst fields = [\n    {\n        name: 'created_at',\n        label: 'Created',\n        sortName: 'created_at',\n        sortable: true,\n        type: Date,\n    },\n    {\n        name: 'description',\n        label: 'Entry',\n        sortable: true,\n        type: String\n    },\n    {\n        name: 'causer.name',\n        label: 'User',\n        sortable: true\n    },\n    {\n        name: 'id',\n        label: '',\n        sortable: false,\n    }\n];\n\nexport default {\n    components: {\n        IconEdit,\n        IconTrash,\n        LogEntryForm\n    },\n    props: {\n        step: {\n            required: false,\n            type: Number,\n        }\n    },\n    data() {\n        return {\n            fields: fields,\n            logEntries: [],\n            sort: {\n                field: 'created_at',\n                desc: true\n            },\n            selectedLogEntry: {},\n            editingEntry: false,\n        }\n    },\n    computed: {\n        ...mapGetters({\n            application: 'applications/currentItem'\n        }),\n        hasLogEntries(){\n            return this.filteredLogEntries.length > 0;\n        },\n        filteredLogEntries() {\n            if(this.application && this.application.log_entries && this.step) {\n                return this.application.log_entries.filter(entry => entry.properties.step == this.step);\n            }\n\n            if (this.application && this.application.log_entries) {\n                return this.application.log_entries;\n            }\n\n            return []\n        },\n        noResultsMessage() {\n            if (typeof this.step == 'number') {\n                return `No progress log entries have been entered for step ${this.step}`;\n            }\n\n            return 'There are no log entries for this application';\n        }\n    },\n    methods: {\n        async getLogEntries() {\n            await this.$store.dispatch('applications/getApplication', this.application.uuid)\n        },\n        editLogEntry(entry) {\n            this.editingEntry = true;\n            this.selectedLogEntry = entry;\n        }\n    },\n    mounted() {\n        // this.getLogEntries()\n    }\n}\n</script>","<template>\n    <icon-base icon-name=\"Edit\">\n        <g>\n            <path d=\"M12.3 3.7l4 4L4 20H0v-4L12.3 3.7zm1.4-1.4L16 0l4 4-2.3 2.3-4-4z\"/>\n        </g>\n    </icon-base>\n</template>\n<script>\nexport default {\n}\n</script>","import { render } from \"./IconEdit.vue?vue&type=template&id=f7cff480\"\nimport script from \"./IconEdit.vue?vue&type=script&lang=js\"\nexport * from \"./IconEdit.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n    <icon-base>\n        <g>\n            <path d=\"M6 2l2-2h4l2 2h4v2H2V2h4zM3 6h14l-1 14H4L3 6zm5 2v10h1V8H8zm3 0v10h1V8h-1z\"/>\n        </g>\n    </icon-base>\n</template>\n<script>\nexport default {\n}\n</script>","import { render } from \"./IconTrash.vue?vue&type=template&id=dc64b71e\"\nimport script from \"./IconTrash.vue?vue&type=script&lang=js\"\nexport * from \"./IconTrash.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./ApplicationLog.vue?vue&type=template&id=fa55cc0e\"\nimport script from \"./ApplicationLog.vue?vue&type=script&lang=js\"\nexport * from \"./ApplicationLog.vue?vue&type=script&lang=js\"\n\nimport \"./ApplicationLog.vue?vue&type=style&index=0&id=fa55cc0e&lang=postcss\"\nscript.render = render\n\nexport default script","<template>\n    <div>\n        <input-row \n            label=\"Long Base Name\" \n            v-model=\"appClone.long_base_name\" \n            placeholder=\"Long base name\"\n            :errors=\"errors.long_base_name\"\n            @change=\"saveChanges()\"\n        >\n            <template v-slot:label>\n                Long Base Name:\n                <note>\"{{application.type.display_name}}\" will be appended.</note>\n            </template>\n        </input-row>\n        <input-row \n            label=\"Short Base Name\" \n            v-model=\"appClone.short_base_name\" \n            placeholder=\"Short base name\"\n            :errors=\"errors.short_base_name\"\n            @change=\"saveChanges()\"\n        >\n            <template v-slot:label>\n                Short Base Name:\n                <note>\"{{application.type.display_name}}\" will be appended.</note>\n            </template>\n        </input-row>\n        <input-row \n            label=\"Affiliation ID\" \n            v-model=\"appClone.affiliation_id\" \n            :placeholder=\"affiliationIdPlaceholder\"\n            :errors=\"errors.affiliation_id\"\n            @change=\"saveChanges()\"\n        ></input-row>\n        <input-row label=\"CDWG\" :errors=\"errors.cdwg_id\">\n            <select name=\"\" id=\"\" v-model=\"appClone.cdwg_id\" @change=\"saveChanges()\">\n                <option :value=\"cdwg.id\" v-for=\"cdwg in cdwgs\" :key=\"cdwg.id\">{{cdwg.name}}</option>\n            </select>\n        </input-row>\n        <input-row label=\"Contacts\">\n            <application-contacts @new-contact-initiated=\"saveChanges()\"></application-contacts>\n        </input-row>\n        <input-row label=\"Expert Panel URL\">\n            <div class=\"text-gray-400\" v-show=\"!hasAffiliationId\">\n                {{affiliationUrl}}\n            </div>\n            <a v-show=\"hasAffiliationId\" :href=\"affiliationUrl\" target=\"clingen\" class=\"text-blue-500 underline\">{{affiliationUrl}}</a>\n        </input-row>\n        <!-- <div class=\"py-1 flex space-x-2\">\n            <button class=\"btn white btn-xs\" @click=\"resetClone\" :disabled=\"isClean\">Reset</button>\n            <button class=\"btn blue btn-xs\" @click=\"saveChanges\" :disabled=\"isClean\">Save Changes</button>\n        </div> -->\n    </div>\n</template>\n<script>\nimport ApplicationContacts from '../contacts/ApplicationContacts'\n\nexport default {\n    components: {\n        ApplicationContacts\n    },\n    props: {\n        application: {\n            required: true,\n            type: Object\n        }\n    },\n    data() {\n        return {\n            appClone: this.application.clone(),\n            errors: {}\n        }\n    },\n    watch: {\n        application: {\n            immediate: true,\n            handler() {\n                this.resetClone()\n            }\n        }\n    },\n    computed: {\n        affiliationUrl() {\n            return `https://clinicalgenome.org/affiliation/${this.appClone.affiliation_id || this.affiliationIdPlaceholder}`\n        },\n        affiliationIdPlaceholder() {\n            if (this.application && this.application.ep_type_id == 1) {\n                return '4000XX'\n            }\n            return '5000XX'\n        },\n        cdwgs() {\n            return this.$store.state.cdwgs.items\n        },\n        hasAffiliationId() {\n            return Boolean(this.appClone.affiliation_id);\n        },\n        hasChanges() {\n            const epAttrs = ['long_base_name', 'short_base_name', 'cdwg_id', 'affiliation_id'];\n            for (let idx in epAttrs) {\n                const attr = epAttrs[idx]\n                if (this.application[attr] == null && this.appClone[attr] == '') {\n                    continue;\n                }\n                if (this.application[attr] != this.appClone[attr]) {\n                    return true;\n                }\n            }\n            return false;\n        },\n        isClean() {\n            return !this.hasChanges;\n        }\n    },\n    methods: {\n        async saveChanges() {\n            if (!this.hasChanges) {\n                return;\n            }\n            try {\n                this.clearErrors();\n                await this.$store.dispatch('applications/updateEpAttributes', this.appClone);\n            } catch (error) {\n                if (error.response && error.response.status == 422 && error.response.data.errors) {\n                    this.errors = error.response.data.errors\n                    return;\n                }\n                throw(error)\n            }\n            \n        },\n        resetClone() {\n            this.appClone = this.application.clone()\n            if (this.appClone.short_base_name) {\n                this.appClone.short_base_name = this.appClone.short_base_name.replace(/ [GV]CEP$/, '')\n            }\n\n            if (this.appClone.long_base_name) {\n                this.appClone.long_base_name = this.appClone.long_base_name.replace(/ [GV]CEP$/, '')\n            }\n            console.info('appClone', this.appClone);\n        },\n        clearErrors() {\n            this.errors = {};\n        }\n    },\n    mounted () {\n        this.$store.dispatch('cdwgs/getAll');\n    }\n}\n</script>","<template>\n    <div>\n        <contact-row \n            v-for=\"contact in application.contacts\" :key=\"contact.id\"\n            :contact=\"contact\"\n        ></contact-row>\n        <add-contact-control @new-contact-initiated=\"propagateEvent($event)\"></add-contact-control>\n    </div>\n</template>\n<script>\nimport {mapGetters} from 'vuex'\nimport AddContactControl from './AddContactControl.vue'\nimport ContactRow from './ContactRow'\n\nexport default {\n    components: {\n        ContactRow,\n        AddContactControl\n    },\n    props: {\n        \n    },\n    emits: [\n        'new-contact-initiated'\n    ],\n    data() {\n        return {\n        }\n    },\n    computed: {\n        ...mapGetters({\n            application: 'applications/currentItem'\n        })\n    },\n    methods: {\n        propagateEvent() {\n            this.$emit('new-contact-initiated')\n        }\n    }\n}\n</script>","<template>\n    <div>\n        <div class=\"align-baseline\">\n            <button class=\"btn btn-xs\" @click=\"initiateAddContact\">\n                <slot>Add Contact</slot>\n            </button>\n        </div>\n        <modal-dialog v-model=\"showForm\">\n            <new-contact-form \n                @done=\"showForm = false;\"\n                @saved=\"triggerAddedContact\"\n                @new-contact-canceled=\"$emit('new-contact-canceled')\"\n            ></new-contact-form>\n        </modal-dialog>\n    </div>\n</template>\n<script>\nimport {mapGetters} from 'vuex'\nimport NewContactForm from './NewContactForm'\n\nexport default {\n    name: 'AddContactControl',\n    components: {\n        NewContactForm\n    },\n    emits: [\n        'new-contact-initiated',\n        'contact-added',\n        'new-contact-canceled'\n    ],\n    data() {\n        return {\n            showForm: false,\n            errors: {}        \n        }\n    },\n    computed: {\n        ...mapGetters({\n            application: 'applications/currentItem'\n        })\n    },\n    methods: {\n        initiateAddContact() {\n            this.showForm = true;\n            this.$emit('new-contact-initiated');\n        },\n        triggerAddedContact() {\n            this.$emit('contact-added');\n        }\n    }\n}\n</script>","import { render } from \"./AddContactControl.vue?vue&type=template&id=7399ae84\"\nimport script from \"./AddContactControl.vue?vue&type=script&lang=js\"\nexport * from \"./AddContactControl.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n    <div>\n        {{contact.name}}\n        -\n        <a class=\"text-blue-500 underline\" :href=\"`mailto:${contact.email}`\">{{contact.email}}</a>\n        <span v-if=\"contact.phone\">\n            - {{contact.phone}}\n        </span>\n        &nbsp;\n        <remove-button size=\"xs\" @click=\"confirmRemove\"></remove-button>        \n\n        <modal-dialog v-model=\"showRemoveConfirmation\" title=\"Confirm Contact Removal\">\n            <p class=\"mb-2\">\n                You are about to remove <strong>{{contact.name}}</strong> as a contact for this application.\n                Do you want to continue?\n            </p>\n\n            <small class=\"text-gray-500\">NOTE: This will not delete the person's record in this system.</small>\n            \n\n            <ul class=\"bg-red-200 bg-text-900 border-red-900 p-2\" v-if=\"errors\">\n                <li v-for=\"(errors, field) in errors\" :key=\"field\">\n                    {{field}}: {{errors.join(', ')}}\n                </li>\n            </ul>\n\n            <button-row>\n                <div class=\"btn\" @click=\"cancel\">Cancel</div>\n                <div class=\"btn blue\" @click=\"save\">Yes, remove contact</div>\n            </button-row>\n        </modal-dialog>\n    </div>\n</template>\n<script>\nimport { mapGetters } from 'vuex'\nimport is_validation_error from '../../http/is_validation_error'\nimport RemoveButton from '../buttons/RemoveButton'\n\nexport default {\n    components: {\n        RemoveButton\n    },\n    props: {\n        contact: {\n            type: Object,\n            required: true\n        }\n    },\n    emits: [\n        'saved',\n        'canceled',\n        'done',\n        'deleted'\n    ],\n    data() {\n        return {\n            showRemoveConfirmation: false,\n            errors: null\n        }\n    },\n    computed: {\n        ...mapGetters({\n            application: 'applications/currentItem'\n        })\n    },\n    methods: {\n        confirmRemove () {\n            this.showRemoveConfirmation = true\n        },\n        cancel () {\n            this.showRemoveConfirmation = false;\n            this.$emit('canceled');\n            this.$emit('done');\n        },\n        async save () {\n            try {\n                await this.$store.dispatch('applications/removeContact', {application: this.application, contact: this.contact})\n                this.showRemoveConfirmation = false;\n                this.$emit('saved');\n                this.$emit('deleted');\n                this.$emit('done');\n            } catch (error) {\n                if (is_validation_error(error)) {\n                    alert(error.response.data.errors)\n                    return;\n                }\n                throw error\n            }\n        }\n    }\n}\n</script>","<style lang=\"postcss\">\n    .btn-delete {\n       @apply cursor-pointer inline-block p-0.5 rounded-full border border-red-500 text-red-500 align-text-top outline-none;\n    }\n    .btn-delete:active, .btn-delete:focus {\n        @apply outline-none;\n    }\n    .btn-delete:active{\n        @apply border-red-900 text-red-900 bg-gray-100 outline-none;\n        transform: scale(.95)\n    }\n</style>\n<template>\n    <button class=\"btn-delete\" @click=\"confirmRemove\">\n        <icon-close :height=\"dimension\" :width=\"dimension\"></icon-close>\n    </button>\n</template>\n<script>\nimport IconClose from '../icons/IconClose'\nexport default {\n    components: {\n        IconClose,\n    },\n    props: {\n        size: {\n            required: false,\n            default: 'md',\n        }\n    },\n    data() {\n        return {\n            \n        }\n    },\n    computed: {\n        dimension () {\n            if (this.size == 'xs') {\n                return 8\n            }\n            if (this.size == 'sm') {\n                return 10\n            }\n            if (this.size == 'md') {\n                return 12\n            }\n            if (this.size == 'lg') {\n                return 14\n            }\n            if (this.size == 'xl') {\n                return 18\n            }\n            return 10\n        }\n    },\n    methods: {\n\n    }\n}\n</script>","<template>\n    <icon-base>\n        <g>\n            <path d=\"M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z\"/>\n        </g>\n    </icon-base>\n</template>\n<script>\nexport default {\n}\n</script>","import { render } from \"./IconClose.vue?vue&type=template&id=2e38dce2\"\nimport script from \"./IconClose.vue?vue&type=script&lang=js\"\nexport * from \"./IconClose.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./RemoveButton.vue?vue&type=template&id=4e46b62e\"\nimport script from \"./RemoveButton.vue?vue&type=script&lang=js\"\nexport * from \"./RemoveButton.vue?vue&type=script&lang=js\"\n\nimport \"./RemoveButton.vue?vue&type=style&index=0&id=4e46b62e&lang=postcss\"\nscript.render = render\n\nexport default script","import { render } from \"./ContactRow.vue?vue&type=template&id=24c7ad2a\"\nimport script from \"./ContactRow.vue?vue&type=script&lang=js\"\nexport * from \"./ContactRow.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./ApplicationContacts.vue?vue&type=template&id=5e414cc2\"\nimport script from \"./ApplicationContacts.vue?vue&type=script&lang=js\"\nexport * from \"./ApplicationContacts.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./EpAttributesForm.vue?vue&type=template&id=62617be0\"\nimport script from \"./EpAttributesForm.vue?vue&type=script&lang=js\"\nexport * from \"./EpAttributesForm.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n    <div class=\"text-sm\">\n        <!-- <pre>{{filteredNextActions}}</pre> -->\n        <div class=\"flex justify-between\">\n            <h3>Next Actions</h3>\n            <label>\n                <input type=\"checkbox\" v-model=\"showCompleted\">\n                Show completed\n            </label>\n        </div>\n        <data-table \n            :fields=\"fields\" \n            :data=\"filteredNextActions\" v-model:sort=\"tableSort\"  \n            v-if=\"filteredNextActions.length > 0\"\n        >\n            <template v-slot:cell-entry=\"{item}\">\n                <div  v-html=\"item.entry\"></div>\n            </template>\n            <template v-slot:cell-assigned_to=\"{item}\">\n                <div class=\"flex\">\n                    {{item.assignee ? item.assignee.name : '??'}}&nbsp;\n                    <span v-if=\"item.assigned_to_name\"> - {{item.assigned_to_name}}</span> \n                </div>\n            </template>\n            <template v-slot:cell-action=\"{item}\">\n                <div class=\"flex space-x-1\">\n                    <edit-button @click=\"$router.push({name: 'EditNextAction', params: {uuid: application.uuid, id: item.id}})\"></edit-button>\n                    <trash-icon-button @click=\"initiateDelete(item)\"></trash-icon-button>\n                    <checkmark-icon \n                        width=\"20\" \n                        height=\"20\"\n                        :class=\"{'text-green-500': Boolean(item.date_completed), 'text-gray-300': !Boolean(item.date_completed)}\"\n                        v-if=\"Boolean(item.date_completed)\"\n                    ></checkmark-icon>\n                    <checkmark-button\n                        v-else\n                        @click.prevent=\"startCompleting(item)\"\n                        title=\"Mark complete\"\n                    ></checkmark-button>\n                </div>\n            </template>\n        </data-table>\n        <div v-else class=\"well bg-gray-200 rounded border px-4 py-2 border-gray-300\">\n            There are no pending <span v-if=\"showCompleted\">or completed</span> next actions.\n        </div>\n\n        <modal-dialog v-model=\"showCreateModal\" title=\"Complete next action\">\n            <complete-next-action-form \n                :next-action=\"selectedNextAction\"\n                @canceled=\"showCreateModal = false\"\n                @completed=\"handleCompleted\"\n            ></complete-next-action-form>\n        </modal-dialog>\n\n    </div>\n</template>\n<script>\nimport CompleteNextActionForm from '@/components/next_actions/CompleteNextActionForm'\nimport {mapGetters} from 'vuex'\nimport EditButton from '@/components/buttons/EditIconButton'\nimport CheckmarkButton from '@/components/buttons/CheckmarkIconButton'\nimport CheckmarkIcon from '@/components/icons/IconCheckmark'\nimport TrashIconButton from '../buttons/TrashIconButton.vue'\n\nexport default {\n    name: 'NextActions',\n    components: {\n        CompleteNextActionForm,\n        EditButton,\n        CheckmarkIcon,\n        CheckmarkButton,\n        TrashIconButton,\n    },\n    props: {\n        nextActions: {\n            type: Array,\n            required: true\n        }\n    },\n    data() {\n        return {\n            tableSort: {\n                field: 'target_date',\n                desc: false\n            },\n            showCompleted: false,\n            showDeleteConfirmation: false,\n            selectedNextAction: {},\n            errors: {},\n            showCreateModal: false,\n            fields: [\n                {\n                    name: 'entry',\n                    label: 'Next Action',\n                    type: String,\n                },\n                {\n                    name: 'assigned_to',\n                    label: 'Assigned to',\n                    sortable: true,\n                    resolveValue(item) {\n                        let str = item.assigned_to;\n                        if (item.assigned_to_name) {\n                            str +=  `- ${item.assigned_to_name}`;\n                        }\n                        return str\n                    }\n                },\n                {\n                    name: 'target_date',\n                    label: 'Due Date',\n                    type: Date,\n                    sortable: true\n                },\n                {\n                    name: 'action',\n                    label: '',\n                    sortable: false\n                }\n            ]\n        }\n    },\n    computed: {\n        ...mapGetters ({\n            application: 'applications/currentItem'\n        }),\n        filteredNextActions () {\n            if (!this.nextActions) {\n                return [];\n            }\n\n            if (this.showCompleted) {\n                return this.nextActions;\n            }\n\n            return this.nextActions.filter(na => !na.date_completed);\n        },\n    },\n    methods: {\n        startCompleting(nextAction) {\n            this.selectedNextAction = nextAction;\n            this.showCreateModal = true;\n        },\n        handleCompleted() {\n            this.$emit('completed');\n            this.showCreateModal = false;\n        },\n        initiateDelete(nextAction) {\n            this.$router.push({\n                name: 'ConfirmDeleteNextAction', \n                params: {\n                    applicationUuid: this.application.uuid, \n                    id: nextAction.id\n                }\n            });\n        }\n    }\n}\n</script>","<template>\n    <div>\n        <dict-row label=\"Action\">\n            <div v-html=\"nextAction.entry\"></div>\n        </dict-row>\n        <object-dict \n            :obj=\"nextAction\"\n            :show=\"['date_created', 'step', 'target_date']\"\n            :dates=\"['target_date', 'date_created']\"\n        ></object-dict>\n\n        <input-row  label=\"Date Completed\" v-model=\"dateCompleted\" type=\"date\" :errors=\"errors.date_completed\"></input-row>\n        \n        <button-row>\n            <button class=\"btn white\" @click=\"cancel\">Cancel</button\n            ><button class=\"btn blue\" @click=\"markComplete\">Mark Complete</button>\n        </button-row>\n    </div>\n</template>\n<script>\nimport is_validation_error from '@/http/is_validation_error'\nimport {mapGetters} from 'vuex'\n\nexport default {\n    name: 'ComponentName',\n    props: {\n        nextAction: {\n            type: Object,\n            required: true\n        }\n    },\n    data() {\n        return {\n            errors: [],\n            dateCompleted: null\n        }\n    },\n    computed: {\n        ...mapGetters({\n            application: 'applications/currentItem'\n        })\n    },\n    methods: {\n        async markComplete () {\n            try {\n                await this.$store.dispatch('applications/completeNextAction', \n                    {\n                        application: this.application, \n                        nextAction: this.nextAction, \n                        dateCompleted: this.dateCompleted\n                    })\n                this.clearForm();\n                this.$emit('completed');\n                this.showModal = false;\n            } catch (error) {\n                if (is_validation_error(error)) {\n                    this.errors = error.response.data.errors\n                }\n            }\n        },\n         clearForm() {\n            this.dateCompleted = null;\n        },\n        cancel () {\n            this.clearForm()\n            this.$emit('canceled');\n        }\n    }\n}\n</script>","import { render } from \"./CompleteNextActionForm.vue?vue&type=template&id=1fd39b0f\"\nimport script from \"./CompleteNextActionForm.vue?vue&type=script&lang=js\"\nexport * from \"./CompleteNextActionForm.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n    <button class=\"btn btn-xs\">\n        <icon-edit width=\"12\" height=\"16\"></icon-edit>\n    </button>\n</template>\n<script>\nimport IconEdit from '../icons/IconEdit'\n\nexport default {\n    components: {\n        IconEdit,\n    },\n    props: {\n    },\n    data() {\n        return {\n            \n        }\n    },\n    computed: {\n\n    },\n    methods: {\n\n    }\n}\n</script>","import { render } from \"./EditIconButton.vue?vue&type=template&id=4e145eac\"\nimport script from \"./EditIconButton.vue?vue&type=script&lang=js\"\nexport * from \"./EditIconButton.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n    <button class=\"btn btn-xs\">\n        <icon-checkmark width=\"12\" height=\"16\"></icon-checkmark>\n    </button>\n</template>\n<script>\nimport IconCheckmark from '@/components/icons/IconCheckmark'\n\nexport default {\n    components: {\n        IconCheckmark,\n    },\n    props: {\n    },\n    data() {\n        return {\n            \n        }\n    },\n    computed: {\n\n    },\n    methods: {\n\n    }\n}\n</script>","<template>\n    <icon-base :icon-name=\"title || 'checkmark icon'\">\n        <path d=\"M0 11l2-2 5 5L18 3l2 2L7 18z\"/>\n    </icon-base>\n</template>\n<script>\nexport default {\n    props: {\n        title: {\n            required: false,\n            type: String\n        }\n    }\n}\n</script>       ","import { render } from \"./IconCheckmark.vue?vue&type=template&id=3c8be08e\"\nimport script from \"./IconCheckmark.vue?vue&type=script&lang=js\"\nexport * from \"./IconCheckmark.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./CheckmarkIconButton.vue?vue&type=template&id=2c54d0c1\"\nimport script from \"./CheckmarkIconButton.vue?vue&type=script&lang=js\"\nexport * from \"./CheckmarkIconButton.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n    <button class=\"btn btn-xs\">\n        <icon-trash width=\"12\" height=\"16\"></icon-trash>\n    </button>\n</template>\n<script>\nimport IconTrash from '../icons/IconTrash'\n\nexport default {\n    components: {\n        IconTrash,\n    },\n    props: {\n    },\n    data() {\n        return {\n            \n        }\n    },\n    computed: {\n\n    },\n    methods: {\n\n    }\n}\n</script>","import { render } from \"./TrashIconButton.vue?vue&type=template&id=08854146\"\nimport script from \"./TrashIconButton.vue?vue&type=script&lang=js\"\nexport * from \"./TrashIconButton.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./NextActions.vue?vue&type=template&id=72e933ea\"\nimport script from \"./NextActions.vue?vue&type=script&lang=js\"\nexport * from \"./NextActions.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<style lang=\"postcss\" scoped>\n    .progress-date {\n        @apply text-xs;\n        width: 10em;\n    }\n</style>\n<template>\n    <div>\n        <h3 class=\"pb-2\">EP Progress</h3>\n        <div class=\"flex flex-row space-x-1\">\n            <progress-step v-for=\"i in steps\" :key=\"i\" :step=\"i\" :application=\"application\"></progress-step>\n        </div>\n    </div>\n</template>\n<script>\nimport ProgressStep from './ProgressStep'\n\nexport default {\n    components: {\n        ProgressStep\n    },\n    props: {\n        application: {\n            required: true,\n            type: Object\n        }\n    },\n    computed: {\n        steps () {\n            if (this.application.ep_type_id == 2) {\n                return [1,2,3,4]\n            }\n\n            return [1]\n        },\n    }\n}\n</script>","<style lang=\"postcss\">\n    .progress-step {\n        @apply h-4 bg-green-100 border border-green-200 flex-1\n    }\n    .progress-step.approved {\n        @apply bg-green-500 border-green-600\n    }\n    .progress-step.active {\n        @apply ring-green-400 ring-2 border-green-400 border-2\n    }\n</style>\n<template>\n    <div class=\"flex-1\">\n        <div class=\"progress-step\" :class=\"displayClass\"></div>\n        <div class=\"flex flex-row-reverse justify-between bg-transparent mt-1\">\n            <div :class=\"{'-mr-10': !isLastStep}\">{{approvalDate}}</div>\n            <div v-if=\"isFirstStep\">{{dateInitiated}}</div>\n        </div>\n    </div>\n</template>\n<script>\nimport { formatDate } from '../../date_utils'\n\nexport default {\n    props: {\n        step: {\n            type: Number,\n            required: true,\n        },\n        application: {\n            type: Object,\n            required: true\n        }\n    },\n    data() {\n        return {\n            \n        }\n    },\n    computed: {\n        dateInitiated () {\n            return formatDate(this.application.date_initiated)\n        },\n        approvalDate() {\n            if (!this.application.approval_dates || !this.application.approval_dates['step '+this.step]) {\n                return ' '\n            }\n            return formatDate(this.application.approval_dates['step '+this.step])\n        },\n        displayClass () {\n            const classes = [];\n            if (this.isApproved) {\n                classes.push('approved');\n            } else if (this.isCurrentStep) {\n                classes.push('active');\n            }\n            if (this.isFirstStep) {\n                classes.push('rounded-l')\n            }\n            if (this.isLastStep) {\n                classes.push('rounded-r')\n            }\n            return classes.join(' ');\n        },\n        isCurrentStep () {\n            return this.application.current_step == this.step\n        },\n        isApproved () {\n            return this.application.approval_dates \n                && typeof this.application.approval_dates[`step ${this.step}`] != 'undefined'\n        },\n        isFirstStep () {\n            return this.step == 1;\n        },\n        isLastStep () {\n            const lastStep = this.application.ep_type_id == 1 ? 1 : 4;\n            return this.step == lastStep;\n        }\n    },\n    methods: {\n    }\n}\n</script>","import { render } from \"./ProgressStep.vue?vue&type=template&id=cd03caf0\"\nimport script from \"./ProgressStep.vue?vue&type=script&lang=js\"\nexport * from \"./ProgressStep.vue?vue&type=script&lang=js\"\n\nimport \"./ProgressStep.vue?vue&type=style&index=0&id=cd03caf0&lang=postcss\"\nscript.render = render\n\nexport default script","import { render } from \"./ProgressChart.vue?vue&type=template&id=ac09317a&scoped=true\"\nimport script from \"./ProgressChart.vue?vue&type=script&lang=js\"\nexport * from \"./ProgressChart.vue?vue&type=script&lang=js\"\n\nimport \"./ProgressChart.vue?vue&type=style&index=0&id=ac09317a&lang=postcss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-ac09317a\"\n\nexport default script","<template>\n    <div>\n        <div v-if=\"this.application.ep_type_id == 1\">\n            <step-one></step-one>\n        </div>\n        <tabs-container tab-location=\"right\" v-model=\"activeIndex\" v-if=\"this.application.ep_type_id == 2\">\n            <tab-item label=\"Step 1 - Define\">\n                <step-one></step-one>\n            </tab-item>\n            <tab-item label=\"Step 2 - Draft Rules\">\n                <step-two></step-two>\n            </tab-item>\n            <tab-item label=\"Step 3 - Pilot Rules\">\n                <step-three></step-three>\n            </tab-item>\n            <tab-item label=\"Step 4 - Final Approval\">\n                <step-four></step-four>\n            </tab-item>\n        </tabs-container>\n\n    </div>\n</template>\n<script>\nimport { mapGetters } from 'vuex'\nimport StepOne from './StepOne'\nimport StepTwo from './StepTwo'\nimport StepThree from './StepThree'\nimport StepFour from './StepFour'\n\nexport default {\n    components: {\n        StepOne,\n        StepTwo,\n        StepThree,\n        StepFour,\n    },\n    data() {\n        return {\n            activeStep: 1\n        }\n    },\n    computed: {\n        ...mapGetters({\n            application: 'applications/currentItem'\n        }),\n        activeIndex: {\n            deep: true,\n            get() {\n                return (this.application && this.application.current_step) ? this.application.current_step - 1 : 0\n            },\n            set(value) {\n                this.activeStep = value+1\n            }\n\n        } \n    },\n    // watch: {\n    //     application: {\n    //         deep: true,\n    //         handler: function () {\n    //             this.activeStep = this.application.current_step\n    //         }\n    //     }\n    // }\n}\n</script>","<template>\n    <base-step \n        :step=\"1\" \n        document-name=\"Scope and Membership Application\" \n        title=\"Scope and Membership\" \n        :document-type=\"1\" \n        :document-gets-reviewed=\"true\"\n        approve-button-label=\"Approve Scope and Membership\"\n    >\n        <coi-log class=\"mb-6\" :application=\"application\">\n        </coi-log>\n    </base-step>\n</template>\n<script>\nimport {mapGetters} from 'vuex'\nimport BaseStep from './BaseStep'\nimport CoiLog from './COILog'\n\nexport default {\n    name: 'StepOne',\n    components: {\n        BaseStep,\n        CoiLog,\n    },\n    data() {\n        return {\n        }\n    },\n    computed: {\n        ...mapGetters({\n            application: 'applications/currentItem'\n        })\n    },\n    methods: {\n    }\n}\n</script>","<template>\n    <div class=\"overflow-x-auto\">\n        <div class=\"mb-6\">\n\n            <div class=\"flex justify-between text-lg font-bold pb-2 mb-2 border-b\">\n                <h2>\n                    {{title}}\n                </h2>\n                <div v-if=\"dateApproved\">\n                    <div class=\"flex space-x-1\" v-if=\"!editApprovalDate\">\n                        <div class=\"text-white bg-green-600 rounded-xl px-2\">\n                            Appproved: {{dateApproved}}\n                        </div>\n                        <edit-button class=\"text-black\" @click=\"initEditApprovalDate\"></edit-button>\n                    </div>\n                    <div class=\"flex space-x-1\" v-else>\n                        <date-input v-model=\"newApprovalDate\"></date-input>\n                        <button class=\"btn blue\" @click=\"updateApprovalDate\">Save</button>\n                        <remove-button @click=\"editApprovalDate = false\"></remove-button>\n                    </div>\n                </div>\n            </div>\n            <slot name=\"document\">\n                <h3>{{documentName}}</h3>\n                <document-manager\n                    class=\"border-b\"\n                    :application=\"application\"\n                    :document-type-id=\"documentType\"\n                    :getsReviewd=\"documentGetsReviewed\"\n                    :step=\"step\"\n                ></document-manager>\n            </slot>\n        </div>\n\n        <!-- Approve step -->\n        <div  \n            class=\"border border-l-0 border-r-0 py-4 mb-6\" \n            v-if=\"!application.stepIsApproved(step)\"\n        >\n            <button \n                class=\"btn btn-lg w-full\" \n                @click=\"startApproveStep\"\n                :disabled=\"!isCurrentStep\"\n                :title=\"isCurrentStep ? 'Approve this step' : 'You can only approve the application\\'s current step'\"\n            >\n                {{approveButtonLabel}}\n            </button>\n            <modal-dialog v-model=\"showApproveForm\" size=\"xl\">\n                <approve-step-form @saved=\"hideApproveForm\" @canceled=\"hideApproveForm\"></approve-step-form>\n            </modal-dialog>\n        </div>\n\n        <slot></slot>\n\n        <slot name=\"log\">\n            <div class=\"mb-6\">\n                <h3 class=\"mb-2\">Step {{step}} Progress Log</h3>\n                <application-log :step=\"step\"></application-log>\n            </div>\n        </slot>\n    </div>\n</template>\n<script>\nimport { mapGetters } from 'vuex'\nimport { formatDate } from '../../date_utils'\nimport ApplicationLog from './ApplicationLog'\nimport DocumentManager from './documents/DocumentManager'\nimport ApproveStepForm from './ApproveStepForm'\nimport EditButton from '../buttons/EditIconButton'\nimport RemoveButton from '../buttons/RemoveButton'\nimport is_validation_error from '../../http/is_validation_error'\n\nexport default {\n    components: {\n        ApplicationLog,\n        DocumentManager,\n        ApproveStepForm,\n        EditButton,\n        RemoveButton\n    },\n    props: {\n        title: {\n            type: String, \n            required: false,\n            default: 'YOU SHOULD SET A TITLE'\n        },\n        step: {\n            type: Number,\n            required: true\n        },\n        documentName: {\n            type: String,\n            required: false,\n            default: 'Set a document-type attribute if you don\\'t use the \"document\" slot'\n        },\n        documentType: {\n            type: Number,\n            required: false,\n            default: 1\n        },\n        documentGetsReviewed: {\n            type: Boolean,\n            required: false,\n            default: true\n        },\n        approveButtonLabel: {\n            type: String,\n            required: false,\n            default: 'Set \"approve-button-label\" if not overriding slot \"approve-button\"'\n        }\n    },\n    emits: ['documentUploaded', 'stepApproved'],\n    data() {\n        return {\n            showApproveForm: false,\n            editApprovalDate: false,\n            newApprovalDate: null\n        }\n    },\n    computed: {\n        ...mapGetters({\n            application: 'applications/currentItem'\n        }),\n        isCurrentStep () {\n            return this.step == this.application.current_step\n        },\n        dateApproved () {\n            if (this.application.approvalDateForStep(this.step)) {\n                return formatDate(this.application.approvalDateForStep(this.step))\n            }\n\n            return null;\n        }\n    },\n    methods: {\n        startApproveStep () {\n            this.showApproveForm = true;\n        },\n        approveStep () {\n            this.$store.dispatch('applications/approveCurrentStep', {application: this.application, step: this.step})\n        },\n        hideApproveForm () {\n            this.showApproveForm = false;\n        },\n        initEditApprovalDate () {\n            this.editApprovalDate = true;\n            this.newApprovalDate = this.dateApproved;\n        },\n        async updateApprovalDate() {\n            try {\n                await this.$store.dispatch(\n                    'applications/updateApprovalDate', \n                    {\n                        application: this.application, \n                        dateApproved: this.newApprovalDate, \n                        step: this.step\n                    }\n                );\n                this.editApprovalDate = false;\n            } catch (error) {\n                if (is_validation_error(error)) {\n                    this.errors = error.response.data.errors;\n                }\n            }\n        }\n    }\n}\n</script>","<template>\n    <div>\n        <final-document-view\n            :application=\"application\"\n            :document-type-id=\"documentTypeId\"\n            :step=\"step\"\n            v-if=\"application.stepIsApproved(step)\"\n        >\n        </final-document-view>\n\n        <div v-else>\n            <button class=\"btn mb-2\" @click=\"showUploadForm = true\">\n                Upload a new version\n            </button>\n            \n            <document-list \n                :application=\"application\"\n                :document-type-id=\"documentTypeId\" \n            ></document-list>\n            \n            <modal-dialog v-model=\"showUploadForm\" @closed=\"$refs.uploadform.clearForm()\">\n                <document-upload-form \n                    :application=\"application\" \n                    :document-type-id=\"documentTypeId\" \n                    :step=\"step\"\n                    @canceled=\"showUploadForm = false\" \n                    @saved=\"showUploadForm = false\" \n                    ref=\"uploadform\"\n                >\n                </document-upload-form>\n            </modal-dialog>\n        </div>\n    </div>\n</template>\n<script>\nimport DocumentList from './DocumentList'\nimport DocumentUploadForm from './DocumentUploadForm'\nimport FinalDocumentView from './FinalDocumentView'\n\nexport default {\n    name: 'DocumentManager',\n    components: {\n        DocumentUploadForm,\n        FinalDocumentView,\n        DocumentList\n    },\n    props: {\n        application: {\n            type: Object,\n            required: true\n        },\n        documentTypeId: {\n            type: Number,\n            required: true\n        },\n        getsReviewed: {\n            type: Boolean,\n            required: false,\n            default: true\n        },\n        step: {\n            type: Number,\n            required: false,\n            default: null\n        }\n    },\n    data() {\n        return {\n            showUploadForm: false,\n        }\n    }\n}\n</script>","<template>\n    <div>\n        <data-table \n            :fields=\"filteredFields\" \n            :data=\"filteredDocuments\" \n            :sort=\"{field: fields[0].name, desc: true}\"\n            v-if=\"filteredDocuments.length > 0\"\n        >\n            <!-- <template v-slot:cell-date_reviewed=\"{item, value}\">\n                <div class=\"text-center\">\n                    <span v-if=\"value\">{{value}}</span>\n                    <button v-else class=\"btn btn-xs\" @click=\"showMarkReviewed(item)\">Mark reviewed</button>\n                </div>\n            </template> -->\n\n            <template v-slot:cell-is_final=\"{item}\">\n                <icon-checkmark \n                    v-if=\"!item.is_final\" \n                    @click=\"markFinal(item)\" \n                    title=\"Mark this the final version.\"\n                    class=\"text-gray-300 cursor-pointer inline\"\n                ></icon-checkmark>\n                <icon-checkmark \n                    class=\"text-green-600 inline\" \n                    v-if=\"item.is_final\"\n                    title=\"This is the final document\"\n                ></icon-checkmark>\n            </template>\n\n            <template v-slot:cell-id=\"{item}\">\n                <div class=\"flex space-x-1\">\n\n                <button class=\"btn btn-xs\" @click=\"downloadDocument(item)\">\n                    <icon-download width=\"12\" height=\"16\"></icon-download>\n                </button>\n                <button class=\"btn btn-xs\" @click=\"openEditForm(item)\">\n                    <icon-edit width=\"12\" height=\"16\"></icon-edit>\n                    <!-- edit -->\n                </button>\n                </div>\n            </template>\n        </data-table>\n\n        <modal-dialog v-model=\"showEditForm\">\n            <document-edit-form\n                :document=\"activeDocument\"\n                :application=\"application\"\n                @canceled=\"showEditForm = false\"\n                @saved=\"showEditForm = false\"\n                @triggermarkreviewed=\"showMarkReviewed\"\n            ></document-edit-form>\n        </modal-dialog>\n\n        <modal-dialog v-model=\"showReviewedForm\">\n            <document-reviewed-form \n                :document=\"activeDocument\" \n                :application=\"application\" \n                @canceled=\"hideReviewedForm\" \n                @saved=\"hideReviewedForm\"\n            ></document-reviewed-form>\n        </modal-dialog>\n\n    </div>\n</template>\n<script>\nimport IconDownload from '../../icons/IconDownload'\nimport IconCheckmark from '../../icons/IconCheckmark'\nimport IconEdit from '../../icons/IconEdit'\nimport DocumentReviewedForm from './DocumentReviewedForm'\nimport DocumentEditForm from './DocumentEditForm'\n\nexport default {\n    components: {\n        IconDownload,\n        IconCheckmark,\n        DocumentReviewedForm,\n        DocumentEditForm,\n        IconEdit\n    },\n    props: {\n        application: {\n            type: Object,\n            required: true\n        },\n        documentTypeId: {\n            type: Number,\n            required: true\n        },\n        getsReviewed: {\n            type: Boolean,\n            required: false,\n            default: true\n        },\n    },\n    data() {\n        return {\n            showReviewedForm: false,\n            showEditForm: false,\n            activeDocument: {},\n            fields: [\n                {\n                    name: 'version',\n                    label: 'Version',\n                    type: Number\n                },\n                {\n                    name: 'filename',\n                    label: 'File',\n                    type: String\n                },\n                {\n                    name: 'date_received',\n                    label: 'Date Received',\n                    type: Date,\n                },\n                // {\n                //     name: 'date_reviewed',\n                //     label: 'Date Reviewed',\n                //     type: Date,\n                // },\n                {\n                    name: 'is_final',\n                    label: 'Final',\n                    type: Boolean,\n                    sortable: false,\n                    class: ['text-center'],\n                    headerClass: ['text-center']\n                },\n                {\n                    name: 'id',\n                    label: '',\n                    sortable: false\n                }\n            ],            \n        }\n    },\n    computed: {\n        filteredFields () {\n            let clonedFields = [...this.fields]\n            if (!this.getsReviewed) {\n                const idx = clonedFields.findIndex(f => f && f.name == 'date_reviewed')\n                clonedFields = clonedFields.slice(0,idx)\n            }\n            return clonedFields\n        },\n        filteredDocuments() {\n            if (this.application && this.application.documents) {\n                // return this.application.documents\n                return this.application.documents.filter(d =>  d.document_type_id == this.documentTypeId)\n            }\n            return [];\n        },\n        hasFinalVersion() {\n            return (this.filteredDocuments.findIndex(d => d.is_final) > -1);\n        },\n        finalVersion() {\n            return this.filteredDocuments.find(d => d.is_final) || {};\n        }\n    },\n    methods: {\n        showMarkReviewed (item) {\n            this.activeDocument = item;\n            this.showReviewedForm = true;\n        },\n        hideReviewedForm () {\n            this.showReviewedForm = false;\n        },\n        downloadDocument(item) {\n            window.location = item.download_url;\n        },\n        confirmNewFinal(item) {\n                const confirmMessage = `There is already a version of this document marked as final.  Only one version can be marked as final.  Do you want to mark this version (version ${item.version}) as final instead of ${this.finalVersion.version}`\n                return confirm(confirmMessage);\n        },\n        markFinal(item) {\n            if (!this.hasFinalVersion || this.confirmNewFinal(item)) {\n                this.$store.dispatch(\n                    'applications/markDocumentVersionFinal',\n                    {\n                        application: this.application, \n                        document: item\n                    }\n                );\n            }\n        },\n        openEditForm(item) {\n            this.showEditForm = true; \n            this.activeDocument = item;\n        }\n    }\n}\n</script>","<template>\n    <icon-base>\n        <g>\n            <path d=\"M13 8V2H7v6H2l8 8 8-8h-5zM0 18h20v2H0v-2z\"/>\n        </g>\n    </icon-base>\n</template>\n<script>\nexport default {\n}\n</script>","import { render } from \"./IconDownload.vue?vue&type=template&id=43adcdec\"\nimport script from \"./IconDownload.vue?vue&type=script&lang=js\"\nexport * from \"./IconDownload.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n    <div>\n        <h2 class=\"border-b pb-1 mb-3\">Mark Document Reviewed</h2>\n\n        <input-row v-model=\"dateReviewed\" label=\"Date Reviewed\" :errors=\"errors.date_reviewed\" type=\"date\"></input-row>\n        <button-row>\n            <button class=\"btn\" @click=\"cancel\">Cancel</button>\n            <button class=\"btn blue\" @click=\"saveDateReviewed\">Mark Reviewed</button>\n        </button-row>\n    </div>\n</template>\n<script>\nimport isValidationError from '../../../http/is_validation_error'\n\nexport default {\n    name: 'DocumentReviewForm',\n    props: {\n        application: {\n            type: Object,\n            required: true\n        },\n        document: {\n            type: Object,\n            required: true\n        }\n    },\n    data() {\n        return {\n            dateReviewed: null,\n            isFinal: false,\n            errors: {}\n        }\n    },\n    computed: {\n        isReviewed () {\n            return Boolean(this.dateReviewed)\n        }\n    },\n    methods: {\n        async saveDateReviewed() {\n            try {\n                await this.$store.dispatch(\n                        'applications/markDocumentReviewed',\n                        {\n                            application: this.application, \n                            document: this.document, \n                            dateReviewed: this.dateReviewed,\n                            isFinal: this.isFinal\n                        });\n    \n                this.clearForm();\n                this.$emit('saved');\n            } catch (e) {\n                if (isValidationError(e)) {\n                    this.errors = e.response.data.errors\n                    return;\n                }\n            }\n        },\n        cancel () {\n            this.clearForm();\n            this.$emit('canceled');\n        },\n        clearForm() {\n            this.dateReviewed = null;\n        }\n    }\n}\n</script>","import { render } from \"./DocumentReviewedForm.vue?vue&type=template&id=6499c96e\"\nimport script from \"./DocumentReviewedForm.vue?vue&type=script&lang=js\"\nexport * from \"./DocumentReviewedForm.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n    <form-container @keyup.enter=\"save\">\n        <h2 class=\"text-lg border-b pb-1 mb-3\">Edit {{type}} version {{document.version}} Info</h2>\n        \n        <dictionary-row label=\"File\">\n            {{document.filename}}\n        </dictionary-row>\n        <input-row v-model=\"docProxy.date_received\" label=\"Date Received\" type=\"date\" :errors=\"errors.date_received\"></input-row>\n        <!-- <input-row \n            v-model=\"docProxy.date_reviewed\" \n            label=\"Date Reviewed\" \n            type=\"date\" \n            :errors=\"errors.date_reviewed\"\n            :disabled=\"!docProxy.date_reviewed\"\n        >\n            <template v-slot:after-input>\n                <note class=\"mt-1\" v-if=\"!docProxy.date_reviewed\">Mark this document reviewed to edit this field.</note>\n            </template>\n        </input-row> -->\n        <button-row>\n            <button class=\"btn\" @click=\"cancel\">Cancel</button>\n            <button class=\"btn blue\" @click=\"save\">Save</button>\n        </button-row>\n    </form-container>\n</template>\n<script>\nimport is_validation_error from '../../../http/is_validation_error';\nexport default {\n    name: 'DocumentEditForm',\n    props: {\n        document: {\n            required: true,\n            type: Object\n        },\n        application: {\n            required: true,\n            type: Object\n        }\n    },\n    emits: [\n        'triggermarkreviewed'\n    ],\n    data() {\n        return {\n            docProxy: {},\n            errors: {}\n        }\n    },\n    computed: {\n        type() {\n            return this.document.type ? this.document.type.long_name : ''\n        }\n    },\n    watch: {\n        document: {\n            immediate: true,\n            handler () {\n                this.docProxy = JSON.parse(JSON.stringify(this.document))\n            }\n        }\n    },\n    methods: {\n        cancel() {\n            this.docProxy = {};\n            this.$emit('canceled');\n        },\n        async save() {\n            try {\n                await this.$store.dispatch('applications/updateDocumentInfo', {application: this.application, document: this.docProxy});\n                this.docProxy = {};\n                this.$emit('saved');\n            } catch (error) {\n                if (is_validation_error(error)) {\n                    this.errors = error.response.data.errors\n                }\n                throw error\n            }\n        }\n    }\n}\n</script>","import { render } from \"./DocumentEditForm.vue?vue&type=template&id=418b57e6\"\nimport script from \"./DocumentEditForm.vue?vue&type=script&lang=js\"\nexport * from \"./DocumentEditForm.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./DocumentList.vue?vue&type=template&id=d3b299f4\"\nimport script from \"./DocumentList.vue?vue&type=script&lang=js\"\nexport * from \"./DocumentList.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n    <form-container @keyup.enter=\"save\">\n        <!-- <pre>{{documentTypes}}</pre> -->\n        <h2 class=\"pb-2 border-b mb-4\">Upload {{documentType.long_name}} document(s)</h2>\n\n        <input-row label=\"Document\" :errors=\"errors.file\">\n            <input type=\"file\" ref=\"fileInput\">\n        </input-row>\n        \n        <input-row \n            label=\"Date Received\" \n            type=\"date\" \n            v-model=\"newDocument.date_received\" \n            :errors=\"errors.date_receoved\"\n        ></input-row>\n        \n        <!-- <input-row label=\"Date Reviewed\" type=\"date\" v-model=\"newDocument.date_reviewed\" :errors=\"errors.date_reviewed\"></input-row> -->\n\n        <button-row>\n            <button class=\"btn white\" @click=\"cancel\">Cancel</button>\n            <button class=\"btn blue\" @click=\"save\">Save</button>\n        </button-row>\n    </form-container>\n</template>\n<script>\nimport { mapState } from 'vuex';\nimport {formatDate} from '../../../date_utils'\nimport is_validation_error from '../../../http/is_validation_error';\n\nexport default {\n    props: {\n        application: {\n            type: Object,\n            required: true\n        },\n        documentTypeId: {\n            type: Number,\n            required: true\n        },\n        step: {\n            type: Number,\n            required: false,\n            default: null\n        },\n    },\n    data() {\n        return {\n            newDocument: {\n                file: null,\n                date_received: new Date(),\n                date_reviewed: null,\n                step: this.step,\n                document_type_id: this.documentTypeId,\n            },\n            errors: {},\n        }\n    },\n    computed: {\n        ...mapState({\n            documentTypes: state => state.doctypes.items\n        }),\n        isReviewed () {\n            return Boolean(this.newDocument.date_reviewed)\n        },\n        documentType () {\n            if (this.documentTypes.length == 0) {\n                return {};\n            }\n            // return this.documentTypes. \n            return this.$store.getters['doctypes/getItemById'](this.documentTypeId)\n        }\n    },\n    methods: {\n        async save() {\n            try {\n                let data = new FormData();\n                Object.keys(this.newDocument)\n                    .forEach(key => {\n                        const val = this.newDocument[key]\n                        if (val == null) return;\n                        data.append(key, val);\n                    })\n                data.append('file', this.$refs.fileInput.files[0]);\n\n                await this.$store.dispatch('applications/addDocument', \n                        {application: this.application, documentData: data}\n                    )\n\n                this.clearForm();\n                this.$emit('saved');\n            } catch (error) {\n                if (is_validation_error(error)) {\n                    this.errors = error.response.data.errors\n                    return;\n                }\n            }\n\n        },\n        cancel() {\n            this.clearForm();\n            this.$emit('canceled');\n        },\n        clearForm() {\n            this.initNewDocument();\n            this.clearErrors();\n        },\n        initNewDocument() {\n            this.$refs.fileInput.value = null;\n            this.newDocument = {\n                file: null,\n                date_received: formatDate(new Date()),\n                date_reviewed: null,\n                step: this.step,\n                document_type_id: this.documentTypeId,\n            }\n        },\n        clearErrors () {\n            this.errors = {}\n        }\n    },\n    mounted() {\n        this.$store.dispatch('doctypes/getItems');\n    }\n}\n</script>","import { render } from \"./DocumentUploadForm.vue?vue&type=template&id=390cecc8\"\nimport script from \"./DocumentUploadForm.vue?vue&type=script&lang=js\"\nexport * from \"./DocumentUploadForm.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n    <div>\n        <dictionary-row label=\"Final Document\">\n            <div>\n                <a :href=\"finalDocument.download_url\" class=\"text-blue-500 underline\" v-if=\"finalDocument.filename\">\n                    {{finalDocument.filename}}\n                </a>\n                <span v-else>none on file</span>\n            </div>\n        </dictionary-row>\n        \n        <dictionary-row label=\"Date Received\">\n            <div v-show=\"!editDateReceived\">\n                {{firstDateReceived}}\n                <edit-button @click=\"initEditReceived\"></edit-button>\n            </div>\n            <div v-show=\"editDateReceived\">\n                <date-input v-model=\"newDateReceived\" class=\"inline-block\"></date-input>\n                <button class=\"btn btn-sm blue\" @click=\"saveDateReceived\">Save</button>\n                <remove-button class=\"ml-1\" @click=\"editDateReceived = false\"></remove-button>\n            </div>\n        </dictionary-row>\n\n        <!-- <dictionary-row label=\"Date Reviewed\">\n            <div v-show=\"!editDateReviewed\">\n                {{finalDateReviewed}}\n                <edit-button @click=\"initEditReviewed\"></edit-button>\n            </div>\n            <div v-show=\"editDateReviewed\">\n                <date-input v-model=\"newDateReviewed\" class=\"inline-block\"></date-input>\n                <button class=\"btn btn-sm blue\" @click=\"saveDateReviewed\">Save</button>\n                <remove-button class=\"ml-1\" @click=\"editDateReviewed = false\"></remove-button>\n            </div>\n        </dictionary-row> -->\n\n        <modal-dialog v-model=\"showEditForm\">\n            <document-edit-form\n                :document=\"finalDocument\"\n                :application=\"application\"\n                @canceled=\"showEditForm = false\"\n                @saved=\"showEditForm = false\"\n            ></document-edit-form>\n        </modal-dialog>\n\n    </div>\n</template>\n<script>\nimport { formatDate } from '../../../date_utils'\nimport DocumentEditForm from './DocumentEditForm'\nimport EditButton from '../../buttons/EditIconButton'\nimport RemoveButton from '../../buttons/RemoveButton'\nimport is_validation_error from '../../../http/is_validation_error'\n\nexport default {\n    components: {\n        DocumentEditForm,\n        EditButton,\n        RemoveButton\n    },\n    props: {\n        application: {\n            type: Object,\n            required: true\n        },\n        documentTypeId: {\n            type: Number,\n            required: true\n        },\n        step: {\n            type: Number,\n            required: false,\n            default: null\n        }        \n    },\n    data() {\n        return {\n            showEditForm: false,\n            editDateReceived: false,\n            newDateReceived: null,\n            editDateReviewed: false,\n            newDateReviewed: null\n        }\n    },\n    computed: {\n        finalDocument() {\n            return this.application.finalDocumentOfType(this.documentTypeId);\n        },\n        firstDocument() {\n            return this.application.firstDocumentOfType(this.documentTypeId);\n        },\n        finalDateReviewed () {\n            if (!this.finalDocument.date_reviewed) {\n                return '--'\n            }\n            return formatDate(this.finalDocument.date_reviewed)\n        },\n        firstDateReceived () {\n            if (!this.firstDocument.date_received) {\n                return '--'\n            }\n            return formatDate(this.firstDocument.date_received)\n        },\n    },\n    methods: {\n        initEditReceived(){\n            this.editDateReceived = true;\n            this.newDateReceived = this.firstDateReceived\n        },\n        async saveDateReceived() {\n            try {\n                await this.$store.dispatch('applications/updateDocumentInfo', {\n                        application: this.application, \n                        document: {\n                            uuid: this.firstDocument.uuid,\n                            date_received: this.newDateReceived, \n                            date_reviewed: this.firstDocument.date_reviewed\n                        }\n                    });\n                    this.editDateReceived = false;\n            } catch (error) {\n                if (is_validation_error(error)) {\n                    console.info('saveDateReceived errors: ', error.response.data.errors)\n                }\n            }\n        },\n        initEditReviewed(){\n            this.editDateReviewed = true;\n            this.newDateReviewed = this.finalDateReviewed\n        },\n        async saveDateReviewed() {\n            try {\n                await this.$store.dispatch('applications/updateDocumentInfo', {\n                        application: this.application, \n                        document: {\n                            uuid: this.finalDocument.uuid,\n                            date_reviewed: this.newDateReviewed, \n                            date_received: this.finalDocument.date_received\n                        }\n                    });\n                    this.editDateReviewed = false;\n            } catch (error) {\n                if (is_validation_error(error)) {\n                    console.info('saveDateReviewd errors: ', error.response.data.errors)\n                }\n            }\n        },\n    }\n}\n</script>","import { render } from \"./FinalDocumentView.vue?vue&type=template&id=78a07050\"\nimport script from \"./FinalDocumentView.vue?vue&type=script&lang=js\"\nexport * from \"./FinalDocumentView.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./DocumentManager.vue?vue&type=template&id=aaa487be\"\nimport script from \"./DocumentManager.vue?vue&type=script&lang=js\"\nexport * from \"./DocumentManager.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n    <form-container>\n        <h2>Approve Step {{application.current_step}}</h2>\n        \n        <input-row v-model=\"dateApproved\" type=\"date\" :errors=\"errors.date_approved\" label=\"Date Approved\"></input-row>\n\n        <dictionary-row label=\"\">\n            <div>\n                <label class=\"text-sm block\">\n                    <input type=\"checkbox\" v-model=\"notifyContacts\" :value=\"true\"> Send notification email to contacts\n                </label>\n            </div>\n        </dictionary-row>\n        \n        <transition name=\"slide-fade-down\">\n            <div v-show=\"notifyContacts\">\n                <h4 class=\"font-bold border-b\">Email</h4>\n                <input-row label=\"Subject\">\n                    <input type=\"text\" v-model=\"email.subject\" class=\"w-full\">\n                </input-row>\n                <input-row label=\"Body\">\n                    <rich-text-editor  v-model=\"email.body\"></rich-text-editor>\n                </input-row>\n                <input-row label=\"Attachments\">\n                    <input type=\"file\" multiple ref=\"attachmentsField\">\n                </input-row>\n                <note v-if=\"application.current_step == 1\">ClinGen Services will be carbon copied on this email.</note>\n            </div>\n        </transition>\n\n        <button-row>\n            <button class=\"btn\" @click=\"cancel\">Cancel</button>\n            <button class=\"btn blue\" @click=\"save\">\n                Approve step {{application.current_step}}\n                <span v-if=\"notifyContacts\">\n                    and notify\n                </span>\n            </button>\n        </button-row>\n    </form-container>\n</template>\n<script>\nimport {mapGetters} from 'vuex'\nimport api from '@/http/api';\nimport isValidationError from '@/http/is_validation_error';\nimport RichTextEditor from '@/components/forms/RichTextEditor.vue';\n\nexport default {\n    components: {\n        RichTextEditor\n    },\n    emits: [\n        'canceled',\n        'saved'\n    ],\n    data() {\n        return {\n            dateApproved: null,\n            notifyContacts: false,\n            email: {\n                subject: '',\n                body: '',\n            },\n            errors: {}\n        }\n    },\n    computed: {\n        ...mapGetters({\n            application: 'applications/currentItem'\n        })\n    },\n    watch: {\n        notifyContacts: function (to) {\n            console.info('url:', `/api/email-drafts/${this.application.uuid}/${this.application.current_step}`)\n            console.info('to', to)\n            if (to) {\n                api.get(`/api/email-drafts/${this.application.uuid}/${this.application.current_step}`)\n                    .then(response => {\n                        this.email = response.data;\n                    })\n            }\n        }\n    },\n    methods: {\n        clearForm() {\n            this.dateApproved = null;\n        },\n        cancel () {\n            this.clearForm();\n            this.$emit('canceled');\n        },\n        async save () {\n            const data = {\n                application: this.application, \n                dateApproved: this.dateApproved,\n                notifyContacts: this.notifyContacts,\n                subject: this.email.subject,\n                body: this.email.body,\n                attachments: this.$refs.attachmentsField.files\n            };\n\n            try {\n                await this.$store.dispatch('applications/approveCurrentStep', data)\n                this.clearForm();\n                this.$emit('saved');\n            } catch (e) {\n                if (isValidationError(e)) {\n                    this.errors = e.response.data.errors\n                    return;\n                }\n            }\n        }\n    },\n    mounted() {\n        // console.log(this.$el.querySelectorAll('input'));\n        // this.$el.querySelectorAll('input')[0].focus();\n    }\n\n}\n</script>","import { render } from \"./ApproveStepForm.vue?vue&type=template&id=274cf72e\"\nimport script from \"./ApproveStepForm.vue?vue&type=script&lang=js\"\nexport * from \"./ApproveStepForm.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./BaseStep.vue?vue&type=template&id=bd2f1bee\"\nimport script from \"./BaseStep.vue?vue&type=script&lang=js\"\nexport * from \"./BaseStep.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n    <div>\n        <div class=\"flex justify-between\">\n            <h2>Conflict of Interest</h2>\n            <coi-legacy-upload :application=\"application\"\n                v-if=\"$store.state.features.legacyCoi\"\n            ></coi-legacy-upload>\n        </div>\n        <div class=\"my-2 flex justify-between\">\n            <div>\n                COI URL: \n                <router-link :to=\"application.coi_url\" class=\"text-blue-500\">\n                    {{$store.state.hostname}}{{application.coi_url}}\n                </router-link>\n                &nbsp;\n                <a :href=\"mailtoLink\" \n                    class=\"btn btn-xs\"\n                    v-show=\"application.hasContacts\"\n                    ref=\"mailtobutton\"\n                >Send url to contacts.</a>\n                <add-contact-control class=\"inline-block\" v-show=\"!application.hasContacts\"></add-contact-control>\n                &nbsp;\n                <button class=\"btn btn-xs\" @click=\"downloadReport\">get coi report</button>\n            </div>\n            <icon-refresh \n                :height=\"14\" :width=\"14\" \n                :class=\"{'animate-spin': refreshing}\"\n                @click=\"refresh\"\n            ></icon-refresh>\n            <!-- add copy link button -->\n        </div>\n        <div v-if=\"!hasCois\" class=\"px-3 py-2 rounded border border-gray-300 text-gray-500 bg-gray-200\">\n            No Conflict of interest surveys completed\n        </div>\n        <div v-if=\"hasCois\">\n            <data-table\n                :fields=\"fields\"\n                :data=\"application.cois\"\n            >\n                <template v-slot:cell-id=\"{item}\">\n                    <button class=\"btn btn-xs\" @click=\"showResponse(item)\">view</button> \n                </template>\n            </data-table>\n            <modal-dialog v-model=\"showResponseDialog\" size=\"xl\">\n                <coi-detail :response=\"currentResponse\"></coi-detail>\n            </modal-dialog>\n        </div>\n    </div>\n\n</template>\n<script>\nimport IconRefresh from '../icons/IconRefresh';\nimport CoiDetail from './CoiDetail';\nimport CoiLegacyUpload from './CoiLegacyUpload';\nimport AddContactControl from '../contacts/AddContactControl.vue'\n\nexport default {\n    components: {\n        IconRefresh,\n        CoiDetail,\n        CoiLegacyUpload,\n        AddContactControl,\n    },\n    props: {\n        application: {\n            required: true,\n            type: Object\n        }\n    },\n    data() {\n        return {\n            showResponseDialog: false,\n            currentResponse: null,\n            fields: [\n                {\n                    name: 'data.first_name',\n                    label: 'Name',\n                    type: String,\n                    sortable: true,\n                    resolveValue: function (item) {\n                        return `${item.data.first_name} ${item.data.last_name}`\n                    }\n                },\n                {\n                    name: 'data.email',\n                    label: 'Email',\n                    type: String,\n                    sortable: true,\n                },\n                {\n                    name: 'created_at',\n                    label: 'Date Completed',\n                    type: Date,\n                    sortable: true\n                },\n                {\n                    name: 'id',\n                    label: '',\n                    sortale: false\n                }\n            ],\n            refreshing: false\n        }\n    },\n    computed: {\n        hasCois() {\n            return this.application.cois && this.application.cois.length > 0;\n        },\n        mailtoLink() {\n            return `mailto:${this.application.contacts.map(p => p.email).join(';')}?subject=Your COI Link for your Expert Panel Application&body=Your expert panel's COI form: ${this.$store.state.hostname}${this.application.coi_url}.`\n        }\n    },\n    methods: {\n        showResponse(response) {\n            this.currentResponse = response.response_document;\n            this.showResponseDialog = true;\n        },\n        async refresh() {\n            this.refreshing = true;\n            await this.$store.dispatch('applications/getApplication', this.application.uuid);\n            this.refreshing = false;\n        },\n        mailToContacts() {\n            this.$refs.mailtobutton.click()\n        },\n        downloadReport() {\n            const reportUrl = `/report/${this.application.coi_code}`\n            window.location = reportUrl;\n        },\n\n    }\n}\n</script>","<template>\n    <icon-base>\n        <g>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\"><path d=\"M10 3v2a5 5 0 0 0-3.54 8.54l-1.41 1.41A7 7 0 0 1 10 3zm4.95 2.05A7 7 0 0 1 10 17v-2a5 5 0 0 0 3.54-8.54l1.41-1.41zM10 20l-4-4 4-4v8zm0-12V0l4 4-4 4z\"/></svg>\n        </g>\n    </icon-base>\n</template>\n<script>\nexport default {\n    props: {\n        \n    },\n    data() {\n        return {\n            \n        }\n    },\n    computed: {\n\n    },\n    methods: {\n\n    }\n}\n</script>","import { render } from \"./IconRefresh.vue?vue&type=template&id=a1f5ce16\"\nimport script from \"./IconRefresh.vue?vue&type=script&lang=js\"\nexport * from \"./IconRefresh.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<style lang=\"postcss\">\n    .response-data > .dictionary-row {\n        @apply pb-2 mb-1 border-b border-gray-100\n    }\n</style>\n<template>\n    <div v-if=\"response\">\n        <h2 class=\"block-title\">\n            COI response for \n            {{response.first_name.response}} {{response.last_name.response}}\n        </h2>\n        <div class=\"text-sm response-data\">            \n            <dictionary-row label=\"Name\" label-class=\"font-bold\">\n                {{response.first_name.response}} {{response.last_name.response}}\n            </dictionary-row>\n\n            <dictionary-row label=\"Email\" label-class=\"font-bold\">\n                {{response.email.response}}\n            </dictionary-row>\n\n            <dictionary-row label=\"COI File\" v-if=\"response.document_uuid\"  label-class=\"font-bold\">\n                <div class=\"flex-0\">\n                    <p class=\"mb-2\">This is a legacy response.</p>\n                    <button class=\"btn btn-xs\" @click=\"downloadDocument(response.download_url.response)\">\n                        Download the COI.\n                    </button>\n                </div>\n            </dictionary-row>\n            <div v-if=\"!response.document_uuid\" class=\"response-data\">\n\n                <dictionary-row :label=\"response.work_fee_lab.question\" :vertical=\"true\"\n                   \n                    label-class=\"font-bold\"\n                >\n                    {{getQuestionValue(response.work_fee_lab.response)}}\n                </dictionary-row>\n\n                <dictionary-row :label=\"response.contributions_to_gd_in_ep.question\" :vertical=\"true\"\n                   \n                    label-class=\"font-bold\"\n                >\n                    {{getQuestionValue(response.contributions_to_gd_in_ep.response)}}\n                    <dictionary-row :label=\"response.contributions_to_genes.question\" :vertical=\"true\"\n                        v-if=\"response.contributions_to_gd_in_ep.response == 1\"\n                        class=\"pb-1 mb-1 ml-4\"\n                        label-class=\"font-bold\"\n                    >\n                        {{getQuestionValue(response.contributions_to_genes.response)}}\n                    </dictionary-row>\n                </dictionary-row>\n\n                <dictionary-row \n                    :label=\"response.independent_efforts.question\" \n                    :vertical=\"true\"\n                    label-class=\"font-bold\"\n                >\n                    {{getQuestionValue(response.independent_efforts.response)}}\n\n                    <dictionary-row :label=\"response.independent_efforts_details.question\" :vertical=\"true\"\n                        v-if=\"[1,2].indexOf(response.independent_efforts.response) > -1\"\n                        class=\"pb-1 mb-1 ml-4 border-none\"\n                        label-class=\"font-bold\"\n                    >\n                        {{getQuestionValue(response.independent_efforts_details.response)}}\n                    </dictionary-row>\n                \n                </dictionary-row>\n\n                <dictionary-row :label=\"response.coi.question\" :vertical=\"true\"\n                    class=\"pb-1 mb-1\"\n                    label-class=\"font-bold\"\n                >\n                    {{getQuestionValue(response.coi.response)}}\n\n                    <dictionary-row :label=\"response.coi_details.question\" :vertical=\"true\"\n                        v-if=\"[1,2].indexOf(response.coi.response) > -1\"\n                        class=\"pb-1 mb-1 ml-4\"\n                        label-class=\"font-bold\"\n                    >\n                        {{getQuestionValue(response.coi_details.response)}}\n                    </dictionary-row>\n                </dictionary-row>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\n// import coiDef from '../../../surveys/coi.json'\n\nexport default {\n    props: {\n        response: {\n            type: Object || null,\n            required: true\n        }\n    },\n    data() {\n        return {\n            \n        }\n    },\n    computed: {\n        isLegacy() {\n            return false;\n        }\n    },\n    methods: {\n        getQuestionValue(response) {\n\n            if (response === 1) {\n                return 'Yes';\n            }\n            if (response === 0) {\n                return 'No';\n            }\n            if (response === 2) {\n                return 'Unsure';\n            }\n\n            return response;\n        },\n        downloadDocument(downloadUrl) {\n            window.location = downloadUrl;\n        },\n    }\n}\n</script>","import { render } from \"./CoiDetail.vue?vue&type=template&id=f38fe662\"\nimport script from \"./CoiDetail.vue?vue&type=script&lang=js\"\nexport * from \"./CoiDetail.vue?vue&type=script&lang=js\"\n\nimport \"./CoiDetail.vue?vue&type=style&index=0&id=f38fe662&lang=postcss\"\nscript.render = render\n\nexport default script","<template>\n    <div>\n        <button class=\"btn btn-xs\" @click=\"showModal = true\">Upload COI file</button>\n        <modal-dialog v-model=\"showModal\">\n            <h2>Upload a legacy COI file</h2>\n            <input-row label=\"Name\" type=\"text\" :errors=\"nameErrors\">\n                 <input type=\"text\" v-model=\"newCoi.first_name\" placeholder=\"First\">\n                 &nbsp;\n                 <input type=\"text\" v-model=\"newCoi.last_name\" placeholder=\"Last\">\n            </input-row>\n            <input-row label=\"Email\" type=\"email\" v-model=\"newCoi.email\" placeholder=\"email@example.com\" :errors=\"errors.email\"></input-row>\n            <input-row label=\"COI File\" :errors=\"errors.file\">\n                <input type=\"file\" ref=\"fileInput\">\n            </input-row>\n            <button-row @submitClicked=\"save\" @cancelClicked=\"cancel\" submit-text=\"Save\"></button-row>\n        </modal-dialog>\n    </div>\n</template>\n<script>\nimport Application from '../../domain/application'\nimport is_validation_error from '../../http/is_validation_error'\n// import api from '../../http/api'\n\nexport default {\n    props: {\n        application: {\n            type: Application,\n            required: true\n        }\n    },\n    emits: [\n        'saved',\n        'canceled',\n        'done'\n    ],\n    data() {\n        return {\n            showModal: false,\n            newCoi: {\n                email: null,\n                first_name: null,\n                last_name: null\n            },\n            errors: {}\n        }\n    },\n    computed: {\n        nameErrors() {\n            const errors = []\n            if (this.errors.first_name) {\n                errors.push(this.errors.first_name)\n            } \n            if (this.errors.last_name) {\n                errors.push(this.errors.last_name)\n            } \n            return errors;\n        }\n    },\n    methods: {\n        async save() {\n            try {\n                const data = this.assembleFormData(this.$refs['fileInput'], this.newCoi);\n\n                await this.$store.dispatch('storeLegacyCoi', {application: this.application, coiData: data})\n                this.clearForm();\n                this.showModal = false;\n                this.$emit('saved');\n                this.$emit('done');\n            } catch (error) {\n                if (is_validation_error(error)) {\n                    this.errors = error.response.data.errors;\n                }\n            }\n        },\n        cancel() {\n            this.clearForm();\n            this.showModal = false;\n            this.$emit('canceled');\n        },\n        clearForm() {\n            this.newCoi = {\n                email: null,\n                first_name: null,\n                last_name: null\n            };\n            this.errors = {}\n        }\n    },\n    setup() {\n        const assembleFormData = (fileInput, otherData) => {\n            let data = new FormData();\n            Object.keys(otherData)\n                .forEach(key => {\n                    const val = otherData[key]\n                    if (val == null) return;\n                    data.append(key, val);\n                })\n            data.append('file', fileInput.files[0]);\n            data.append('document_type_id', 6);\n            return data;\n        }\n\n        return {assembleFormData}\n\n    }\n}\n</script>","import { render } from \"./CoiLegacyUpload.vue?vue&type=template&id=53f0bf76\"\nimport script from \"./CoiLegacyUpload.vue?vue&type=script&lang=js\"\nexport * from \"./CoiLegacyUpload.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./COILog.vue?vue&type=template&id=1a2895de\"\nimport script from \"./COILog.vue?vue&type=script&lang=js\"\nexport * from \"./COILog.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./StepOne.vue?vue&type=template&id=17d90879\"\nimport script from \"./StepOne.vue?vue&type=script&lang=js\"\nexport * from \"./StepOne.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n    <base-step \n        :step=\"2\"\n        :document-type=\"2\"\n        document-name=\"Draft Specifications\"\n        :document-gets-reviewed=\"false\"\n        approve-button-label=\"Approve Draft Specifications\"\n        title=\"Draft ACMG Guideline Specifications\"\n    >\n    </base-step>\n</template>\n<script>\nimport {mapGetters} from 'vuex'\nimport BaseStep from './BaseStep'\n\nexport default {\n    name: 'StepTwo',\n    components: {\n        BaseStep\n    },\n    props: {\n        \n    },\n    data() {\n        return {\n            \n        }\n    },\n    computed: {\n        ...mapGetters({\n            application: 'applications/currentItem'\n        })\n    },\n    methods: {\n\n    }\n}\n</script>","import { render } from \"./StepTwo.vue?vue&type=template&id=3058fe48\"\nimport script from \"./StepTwo.vue?vue&type=script&lang=js\"\nexport * from \"./StepTwo.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n    <base-step \n        :step=\"3\"\n        approve-button-label=\"Approve Pilot and Specifications\"\n        title=\"Pilot ACMG Guideline Specificiations\"\n    >\n        <template v-slot:document>\n            <h2>Final Specifications</h2>\n            <document-manager \n                :application=\"application\"\n                :document-type-id=\"3\"\n                :getsReviewd=\"false\"\n                :step=\"3\"\n                    class=\"mb-4\"\n            ></document-manager>\n\n            <h2>Pilot Classifications</h2>\n            <document-manager \n                :application=\"application\"\n                :document-type-id=\"4\"\n                :getsReviewd=\"false\"\n                :step=\"3\"\n                class=\"mb-6\"\n            ></document-manager>\n\n        </template>        \n    </base-step>\n</template>\n<script>\nimport {mapGetters} from 'vuex'\nimport {formatDate} from '../../date_utils'\nimport BaseStep from './BaseStep'\nimport DocumentManager from './documents/DocumentManager'\n\nexport default {\n    name: 'StepThree',\n    components: {\n        BaseStep,\n        DocumentManager\n    },\n    props: {\n        \n    },\n    data() {\n        return {\n            \n        }\n    },\n    computed: {\n        ...mapGetters({\n            application: 'applications/currentItem'\n            })\n    },\n    methods: {\n        formatDate(dateString) {\n            return formatDate(dateString)\n        }\n    }\n}\n</script>","import { render } from \"./StepThree.vue?vue&type=template&id=4fd815cc\"\nimport script from \"./StepThree.vue?vue&type=script&lang=js\"\nexport * from \"./StepThree.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n    <base-step \n        :step=\"4\"\n        :document-type=\"5\"\n        document-name=\"Final Approved Application\"\n        :document-gets-reviewed=\"true\"\n        approve-button-label=\"Approve Final Application\"\n        title=\"Final Approval\"\n    >\n    </base-step>\n</template>\n<script>\nimport {mapGetters} from 'vuex'\nimport BaseStep from './BaseStep'\n\nexport default {\n    name: 'StepFour',\n    components: {\n        BaseStep,\n    },\n    props: {\n        \n    },\n    data() {\n        return {\n            \n        }\n    },\n    computed: {\n        ...mapGetters({\n            application: 'applications/currentItem'\n        })\n    },\n    methods: {\n\n    }\n}\n</script>","import { render } from \"./StepFour.vue?vue&type=template&id=4ef804f6\"\nimport script from \"./StepFour.vue?vue&type=script&lang=js\"\nexport * from \"./StepFour.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./StepTabs.vue?vue&type=template&id=86777916\"\nimport script from \"./StepTabs.vue?vue&type=script&lang=js\"\nexport * from \"./StepTabs.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./ApplicationDetail.vue?vue&type=template&id=67e6fa54\"\nimport script from \"./ApplicationDetail.vue?vue&type=script&lang=js\"\nexport * from \"./ApplicationDetail.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ProgressChart.vue?vue&type=style&index=0&id=ac09317a&lang=postcss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./RemoveButton.vue?vue&type=style&index=0&id=4e46b62e&lang=postcss\"","<template>\n    <form-container class=\"log-entry-form\" ref=\"form-container\">\n        <h2 class=\"block-title\">{{this.$route.meta.title}}</h2>\n        <input-row label=\"Log Date\" v-model=\"newEntry.log_date\" :errors=\"errors.log_date\" type=\"date\" ref=\"logdate\"></input-row>\n        <step-input v-model=\"newEntry.step\" :errors=\"errors.step\" v-if=\"application.ep_type_id == 2\"></step-input>\n        <input-row label=\"Entry\" :errors=\"errors.entry\">\n            <rich-text-editor v-model=\"newEntry.entry\"></rich-text-editor>\n        </input-row>\n        <button-row>\n            <button class=\"btn\" @click=\"cancel\">Cancel</button>\n            <button class=\"btn blue\" @click=\"save\">Save</button>\n        </button-row>\n    </form-container>\n</template>\n<script>\nimport {mapGetters} from 'vuex'\nimport { formatDate } from '../../date_utils'\nimport StepInput from '../forms/StepInput'\nimport RichTextEditor from '../forms/RichTextEditor'\n\n\nexport default {\n    name: 'LogEntryForm',\n    components: {\n        StepInput,\n        RichTextEditor\n    },\n    props: {\n        id: {\n            required: false,\n            default: null\n        }\n    },\n    data() {\n        return {\n            newEntry: {\n                log_date: new Date(),\n                step: null,\n                entry: ''\n            },\n            errors: {},\n        }\n    },\n    computed: {\n        ...mapGetters({\n            application: 'applications/currentItem'\n        })\n    },\n    watch: {\n        id: {\n            immediate: true,\n            handler: function() {\n                const entry = this.findEntry();\n                if (entry) {\n                    this.syncEntry(entry)\n                }\n            }\n        },\n        application: {\n            immediate: true,\n            handler: function () {\n                const entry = this.findEntry();\n                if (entry) {\n                    this.syncEntry(entry);\n                }\n            }\n        }\n    },\n    methods: {\n        findEntry () {\n            if (this.id === null) {\n                return null;\n            }\n            if (this.application.log_entries) {\n                return this.application.log_entries.find(i => i.id == this.id);\n            }\n        },\n        initNewEntry () {\n            this.newEntry = {\n                log_date: formatDate(new Date),\n                step: null,\n                entry: ''\n            }\n        },\n        syncEntry (entry) {\n            if (!entry) {\n                return;\n            }\n            this.newEntry = {\n                id: entry.id,\n                log_date: formatDate(new Date(Date.parse((entry.created_at)))),\n                step: entry.properties.step,\n                entry: entry.description\n            }\n        },\n        cancel() {\n            this.initNewEntry();\n            this.$emit('canceled');\n        },\n        async save() {\n            try {\n                if (this.newEntry.id) {\n                    await this.$store.dispatch(\n                        'applications/updateLogEntry', \n                        {\n                            application: this.application, \n                            updatedEntry: this.newEntry,\n                        }\n                    );\n                } else {\n                    await this.$store.dispatch('applications/addLogEntry', {application: this.application, logEntryData: this.newEntry})\n                }\n                this.initNewEntry();\n                this.$emit('saved');\n            } catch (error) {\n                if (error.response && error.response.status == 422 && error.response.data.errors) {\n                    this.errors = error.response.data.errors\n                    return;\n                }\n            }\n        },\n    },\n    mounted() {\n        this.$el.querySelectorAll('input')[0].focus();\n    }\n}\n</script>","import { render } from \"./LogEntryForm.vue?vue&type=template&id=fbe81366\"\nimport script from \"./LogEntryForm.vue?vue&type=script&lang=js\"\nexport * from \"./LogEntryForm.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./CoiDetail.vue?vue&type=style&index=0&id=f38fe662&lang=postcss\"","<template>\n    <form-container @keyup.enter=\"save\">\n        <h2 class=\"block-title\">Add a contact</h2>\n        <div class=\"flex space-x-4\">\n            <div class=\"flex-1\">\n                <input-row \n                    type=\"text\" \n                    v-model=\"newContact.email\" \n                    :errors=\"errors.email\"\n                    placeholder=\"elenor@medplace.com\" \n                    label=\"Email\"\n                ></input-row>\n                <input-row \n                    type=\"text\" \n                    v-model=\"newContact.first_name\" \n                    :errors=\"errors.first_name\"\n                    placeholder=\"Elenor\" \n                    label=\"First name\"\n                ></input-row>\n                <input-row \n                    type=\"text\" \n                    v-model=\"newContact.last_name\" \n                    :errors=\"errors.last_name\"\n                    placeholder=\"Shelstrop\" \n                    label=\"Last name\"\n                ></input-row>\n                <input-row \n                    type=\"text\" \n                    v-model=\"newContact.phone\" \n                    :errors=\"errors.phone\"\n                    placeholder=\"1-555-867-5309\" \n                    label=\"Phone\"\n                ></input-row>\n                <button-row>\n                    <button class=\"btn\" @click=\"cancel\">Cancel</button>\n                    <button class=\"btn blue\" @click=\"save\">Save</button>\n                </button-row>\n            </div>\n            <transition name=\"slide-fade\">            \n                <div class=\"pt-2 border-l pl-2 flex-1\" v-if=\"suggestedPeople.length > 0\">\n                    <h5 class=\"font-bold border-b mb-1 pb-1\">Matching people</h5>\n                    <ul>\n                        <li \n                            v-for=\"person in suggestedPeople\" \n                            :key=\"person.uuid\" class=\"flex justify-between my-2\"\n                            :class=\"{'text-gray-400': isAlreadyContact(person)}\"\n                            :title=\"isAlreadyContact(person) ? `This person is already a contact for this application` : ``\"\n                        >\n                            {{person.name}} \n                            <button \n                                class=\"btn btn-xs\" \n                                @click=\"addExistingPersonAsContact(person)\"\n                                v-if=\"!isAlreadyContact(person)\"\n                            >\n                                Add as contact\n                            </button>\n                            <span v-else class=\"text-xs\">Already a contact</span>\n                        </li>\n                    </ul>\n                </div>\n            </transition>\n        </div>\n    </form-container>\n</template>\n<script>\nimport {mapGetters} from 'vuex'\nimport is_validation_error from '../../http/is_validation_error'\nimport { v4 as uuid4 } from 'uuid';\n\nexport default {\n    props: {\n        \n    },\n    data() {\n        return {\n            createNew: false,\n            newContact: {\n                first_name: null,\n                last_name: null,\n                email: null,\n                phone: null,\n                role: null,\n                uuid: null\n            },\n            errors: {}\n        }\n    },\n    emits: [\n        'canceled',\n        'saved',\n        'done'\n    ],\n    computed: {\n        ...mapGetters({\n            application: 'applications/currentItem',\n            people: 'people/all',\n        }),\n        suggestedPeople() {\n            if (this.newContact.email) {\n                return this.people\n                        .filter(p => p.email.includes(this.newContact.email));\n            }\n            return [];\n        }\n        \n    },\n    methods: {\n        clearForm () {\n            this.newContact = {\n                first_name: null,\n                last_name: null,\n                email: null,\n                phone: null,\n                role: null,\n                uuid: null\n            }\n        },\n        clearErrors () {\n            this.errors = {};\n        },\n        cancel () {\n            this.clearForm();\n            this.$emit('canceled');\n            this.$emit('done');\n        },\n        async save () {\n            this.clearErrors();\n            try {\n                const data = {...this.newContact};\n                data.uuid = uuid4();\n                await this.$store.dispatch('people/createPerson', data);\n\n                const getter = this.$store.getters['people/personWithUuid'];\n                // const addedPerson = getter(data.uuid);\n\n\n                await this.$store.dispatch('applications/addContact', {\n                    application: this.application, \n                    contact: getter(data.uuid)\n                });\n\n                this.clearForm();\n                this.$emit('saved');\n                this.$emit('done');\n            } catch (error) {\n                if (is_validation_error(error)) {\n                    this.errors = error.response.data.errors\n                    return;\n                }\n                throw error\n            }\n        },\n        async addExistingPersonAsContact(person) {\n            try {\n                await this.$store.dispatch('applications/addContact', {application: this.application, contact: person});\n                this.clearForm();\n                this.$emit('saved');\n                this.$emit('done');\n            } catch (error) {\n                if (is_validation_error(error)) {\n                    this.errors = error.response.data.errors\n                    return;\n                }\n                throw error\n            }\n        },\n        isAlreadyContact(person) {\n            return this.application.contacts.map(c => c.id).includes(person.id)\n        }\n    },\n    mounted () {\n        this.$store.dispatch('people/getAll', {});\n    }\n}\n</script>","import { render } from \"./NewContactForm.vue?vue&type=template&id=761ba42f\"\nimport script from \"./NewContactForm.vue?vue&type=script&lang=js\"\nexport * from \"./NewContactForm.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ApplicationLog.vue?vue&type=style&index=0&id=fa55cc0e&lang=postcss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ProgressStep.vue?vue&type=style&index=0&id=cd03caf0&lang=postcss\""],"sourceRoot":""}