{"version":3,"sources":["webpack:///./src/http/is_validation_error.js","webpack:///./node_modules/core-js/modules/es.array.flat.js","webpack:///./node_modules/core-js/modules/es.object.values.js","webpack:///./src/components/log_entries/ConfirmDeleteLogEntry.vue","webpack:///./src/components/log_entries/ConfirmDeleteLogEntry.vue?7e46","webpack:///./node_modules/core-js/modules/es.array.unscopables.flat.js","webpack:///./node_modules/core-js/internals/object-to-array.js","webpack:///./src/components/log_entries/ConfirmDeleteLogEntry.vue?369b","webpack:///./node_modules/core-js/internals/flatten-into-array.js"],"names":["error","response","status","data","errors","$","flattenIntoArray","toObject","toLength","toInteger","arraySpeciesCreate","target","proto","flat","depthArg","arguments","length","undefined","O","this","sourceLen","A","$values","values","stat","class","logEntry","description","causer","name","logDate","flattenedErrors","err","idx","key","$router","go","deleteEntry","submitText","props","id","required","type","String","computed","application","log_entries","find","entry","properties","log_date","Object","watch","immediate","handler","console","info","methods","$store","dispatch","is_validation_error","a","message","render","addToUnscopables","DESCRIPTORS","objectKeys","toIndexedObject","propertyIsEnumerable","f","createMethod","TO_ENTRIES","it","keys","i","result","call","push","module","exports","entries","isArray","bind","original","source","start","depth","mapper","thisArg","element","targetIndex","sourceIndex","mapFn","TypeError"],"mappings":"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","file":"js/confirm-delete-log-entry.c5df8313.js","sourcesContent":["export default function (error) {\n    return error.response && error.response.status == 422 && error.response.data.errors\n}","'use strict';\nvar $ = require('../internals/export');\nvar flattenIntoArray = require('../internals/flatten-into-array');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar toInteger = require('../internals/to-integer');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\n// `Array.prototype.flat` method\n// https://tc39.es/ecma262/#sec-array.prototype.flat\n$({ target: 'Array', proto: true }, {\n  flat: function flat(/* depthArg = 1 */) {\n    var depthArg = arguments.length ? arguments[0] : undefined;\n    var O = toObject(this);\n    var sourceLen = toLength(O.length);\n    var A = arraySpeciesCreate(O, 0);\n    A.length = flattenIntoArray(A, O, O, sourceLen, 0, depthArg === undefined ? 1 : toInteger(depthArg));\n    return A;\n  }\n});\n","var $ = require('../internals/export');\nvar $values = require('../internals/object-to-array').values;\n\n// `Object.values` method\n// https://tc39.es/ecma262/#sec-object.values\n$({ target: 'Object', stat: true }, {\n  values: function values(O) {\n    return $values(O);\n  }\n});\n","<style lang=\"postcss\" scope>\n    blockquote {\n        @apply mt-4 ml-4 border-l-4 pl-2 text-gray-700;\n        font-size: 1.1rem;\n    }\n</style>\n<template>\n    <div>\n        <h2>You are about to delete the following log entry:</h2>\n\n        <div class=\"border-y py-2\">\n        <blockquote>\n            <div v-html=\"logEntry.description\"></div>\n        </blockquote>\n        <div class=\"ml-4 mt-2 mb-4 text-gray-700 text-sm\" v-if=\"logEntry.causer\">Logged by {{logEntry.causer.name}}, {{logDate}}</div>\n        </div>\n\n        <div>This can not be undone. Are you sure you want to continue?</div>\n\n        <div v-if=\"flattenedErrors.length > 0\" class=\"bg-red-200 text-red-900 rounded p-2 my-2\">\n            <ul>\n                <li v-for=\"(err,idx) in flattenedErrors\" :key=\"idx\">\n                    {{err}}\n                </li>\n            </ul> \n        </div>\n        \n        <button-row @canceled=\"$router.go(-1)\" @submitted=\"deleteEntry\" submitText=\"Delete Log Entry\"></button-row>\n    </div>\n</template>\n<script>\nimport {mapGetters} from 'vuex'\nimport { formatDate } from '../../date_utils'\nimport is_validation_error from '../../http/is_validation_error'\n\n\nexport default {\n    name: 'ConfirmDeleteLogEntry',\n    props: {\n        id: {\n            required: true,\n            type: String,\n        }\n    },\n    data() {\n        return {\n            errors: {}\n        }\n    },\n    computed: {\n        ...mapGetters({\n            application: 'applications/currentItem'\n        }),\n        logEntry () {\n            const logEntry = this.application.log_entries.find(entry => entry.id == this.id);\n            return logEntry || {};\n        },\n        logDate () {\n            return formatDate(this.logEntry.properties.log_date)\n        },\n        flattenedErrors () {\n            return Object.values(this.errors).flat();\n        }\n    },\n    watch: {\n        logEntry: {\n            immediate: true,\n            handler: function () {\n                console.info('logEntry watch handler', this.logEntry.id)\n                if (!this.logEntry.id) {\n                    this.$router.go(-1);\n                }\n            }\n        }\n    },\n    methods: {\n        async deleteEntry()\n        {\n            try {\n                await this.$store.dispatch('applications/deleteLogEntry', {application: this.application, logEntry: this.logEntry});\n                this.$router.go(-1);\n            } catch ( error ) {\n                if (is_validation_error(error)) {\n                    this.errors = error.response.data.errors;\n                }\n                this.errors = {a: error.message};\n                \n            }\n        }\n    }\n}\n</script>","import { render } from \"./ConfirmDeleteLogEntry.vue?vue&type=template&id=07fe3a0a\"\nimport script from \"./ConfirmDeleteLogEntry.vue?vue&type=script&lang=js\"\nexport * from \"./ConfirmDeleteLogEntry.vue?vue&type=script&lang=js\"\n\nimport \"./ConfirmDeleteLogEntry.vue?vue&type=style&index=0&id=07fe3a0a&lang=postcss&scope=true\"\nscript.render = render\n\nexport default script","// this method was added to unscopables after implementation\n// in popular engines, so it's moved to a separate module\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('flat');\n","var DESCRIPTORS = require('../internals/descriptors');\nvar objectKeys = require('../internals/object-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar propertyIsEnumerable = require('../internals/object-property-is-enumerable').f;\n\n// `Object.{ entries, values }` methods implementation\nvar createMethod = function (TO_ENTRIES) {\n  return function (it) {\n    var O = toIndexedObject(it);\n    var keys = objectKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(O, key)) {\n        result.push(TO_ENTRIES ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n\nmodule.exports = {\n  // `Object.entries` method\n  // https://tc39.es/ecma262/#sec-object.entries\n  entries: createMethod(true),\n  // `Object.values` method\n  // https://tc39.es/ecma262/#sec-object.values\n  values: createMethod(false)\n};\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ConfirmDeleteLogEntry.vue?vue&type=style&index=0&id=07fe3a0a&lang=postcss&scope=true\"","'use strict';\nvar isArray = require('../internals/is-array');\nvar toLength = require('../internals/to-length');\nvar bind = require('../internals/function-bind-context');\n\n// `FlattenIntoArray` abstract operation\n// https://tc39.github.io/proposal-flatMap/#sec-FlattenIntoArray\nvar flattenIntoArray = function (target, original, source, sourceLen, start, depth, mapper, thisArg) {\n  var targetIndex = start;\n  var sourceIndex = 0;\n  var mapFn = mapper ? bind(mapper, thisArg, 3) : false;\n  var element;\n\n  while (sourceIndex < sourceLen) {\n    if (sourceIndex in source) {\n      element = mapFn ? mapFn(source[sourceIndex], sourceIndex, original) : source[sourceIndex];\n\n      if (depth > 0 && isArray(element)) {\n        targetIndex = flattenIntoArray(target, original, element, toLength(element.length), targetIndex, depth - 1) - 1;\n      } else {\n        if (targetIndex >= 0x1FFFFFFFFFFFFF) throw TypeError('Exceed the acceptable array length');\n        target[targetIndex] = element;\n      }\n\n      targetIndex++;\n    }\n    sourceIndex++;\n  }\n  return targetIndex;\n};\n\nmodule.exports = flattenIntoArray;\n"],"sourceRoot":""}