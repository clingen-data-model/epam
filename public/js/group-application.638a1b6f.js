(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["group-application"],{"15e0":function(e,t,n){"use strict";n("6d59")},"268c":function(e,t,n){"use strict";n("b0c0");var r=n("7a23"),o={key:0},a={key:0},i=Object(r["createTextVNode"])(" Affiliation ID "),c=Object(r["createTextVNode"])("admin-only"),s={key:0},u={key:1,class:"text-gray-400"},l={key:1},p={key:2},d=Object(r["createTextVNode"])(" Status: "),m=Object(r["createTextVNode"])("admin-only"),b=Object(r["createTextVNode"])(" Parent group: "),h=Object(r["createTextVNode"])("admin-only");function f(e,t,n,f,O,g){var j=Object(r["resolveComponent"])("input-row"),v=Object(r["resolveComponent"])("dictionary-row"),y=Object(r["resolveComponent"])("note");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[g.canSetType?(Object(r["openBlock"])(),Object(r["createBlock"])(j,{key:0,modelValue:g.group.group_type_id,"onUpdate:modelValue":t[0]||(t[0]=function(e){return g.group.group_type_id=e}),errors:f.errors.group_type_id,type:"select",options:g.typeOptions,label:"Type"},null,8,["modelValue","errors","options"])):(Object(r["openBlock"])(),Object(r["createBlock"])(v,{key:1,label:"Type"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(g.typeDisplayName),1)]})),_:1})),Object(r["createVNode"])(r["Transition"],{name:"slide-fade-down",mode:"out-in"},{default:Object(r["withCtx"])((function(){return[g.group.group_type_id>2&&g.group.expert_panel?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",o,[Object(r["createVNode"])(j,{label:"Long Base Name",modelValue:g.group.expert_panel.long_base_name,"onUpdate:modelValue":[t[1]||(t[1]=function(e){return g.group.expert_panel.long_base_name=e}),g.emitUpdate],placeholder:"Long base name",errors:f.errors.long_base_name,"input-class":"w-full"},null,8,["modelValue","onUpdate:modelValue","errors"]),Object(r["createVNode"])(j,{label:"Short Base Name",modelValue:g.group.expert_panel.short_base_name,"onUpdate:modelValue":[t[2]||(t[2]=function(e){return g.group.expert_panel.short_base_name=e}),g.emitUpdate],placeholder:"Short base name",errors:f.errors.short_base_name,"input-class":"w-full"},null,8,["modelValue","onUpdate:modelValue","errors"]),e.hasAnyPermission(["groups-manage"])?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",a,[Object(r["createVNode"])(j,{label:"Affiliation ID",modelValue:g.group.expert_panel.affiliation_id,"onUpdate:modelValue":[t[3]||(t[3]=function(e){return g.group.expert_panel.affiliation_id=e}),g.emitUpdate],placeholder:g.affiliationIdPlaceholder,errors:f.errors.affiliation_id,"input-class":"w-full"},{label:Object(r["withCtx"])((function(){return[i,Object(r["createVNode"])(y,null,{default:Object(r["withCtx"])((function(){return[c]})),_:1})]})),_:1},8,["modelValue","placeholder","errors","onUpdate:modelValue"])])):(Object(r["openBlock"])(),Object(r["createBlock"])(v,{key:1,label:"Affiliation ID"},{default:Object(r["withCtx"])((function(){return[g.group.expert_panel.affiliation_id?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",s,Object(r["toDisplayString"])(g.group.expert_panel.affiliation_id),1)):(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",u,Object(r["toDisplayString"])("Not yet assigend")))]})),_:1}))])):(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",l,[Object(r["createVNode"])(j,{modelValue:g.group.name,"onUpdate:modelValue":[t[4]||(t[4]=function(e){return g.group.name=e}),g.emitUpdate],placeholder:"Name",label:"Name","input-class":"w-full",errors:f.errors.name},null,8,["modelValue","errors","onUpdate:modelValue"])]))]})),_:1}),e.hasPermission("groups-manage")?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",p,[Object(r["createVNode"])(j,{modelValue:g.group.group_status_id,"onUpdate:modelValue":[t[5]||(t[5]=function(e){return g.group.group_status_id=e}),g.emitUpdate],type:"select",options:g.statusOptions,errors:f.errors.group_status_id},{label:Object(r["withCtx"])((function(){return[d,Object(r["createVNode"])(y,null,{default:Object(r["withCtx"])((function(){return[m]})),_:1})]})),_:1},8,["modelValue","options","errors","onUpdate:modelValue"]),Object(r["createVNode"])(j,{modelValue:g.group.parent_id,"onUpdate:modelValue":[t[6]||(t[6]=function(e){return g.group.parent_id=e}),g.emitUpdate],type:"select",options:g.parentOptions,errors:f.errors.parent_id},{label:Object(r["withCtx"])((function(){return[b,Object(r["createVNode"])(y,null,{default:Object(r["withCtx"])((function(){return[h]})),_:1})]})),_:1},8,["modelValue","options","errors","onUpdate:modelValue"])])):Object(r["createCommentVNode"])("",!0)])}var O=n("1da1"),g=(n("96cf"),n("d81d"),n("07ac"),n("d3b7"),n("159b"),n("4de4"),n("3ca3"),n("ddb0"),n("2ef0")),j=n("db04"),v=n("ae23"),y=n("4a91"),w=n("a75a"),C={name:"GroupForm",emits:["canceled","saved","update"],data:function(){return{groupTypes:[{id:1,fullname:"Working Group"},{id:2,fullname:"Clinical Domain Working Group"},{id:3,fullname:"GCEP"},{id:4,fullname:"VCEP"}],groupStatuses:y.groups.statuses,newGroup:new v["a"],parents:[]}},computed:{group:{get:function(){var e=this.$store.getters["groups/currentItem"];return e||this.newGroup},set:function(e){try{this.$store.commit("groups/addItem",e)}catch(t){this.newGroup=e}}},statusOptions:function(){var e=this;return Object.values(this.groupStatuses).map((function(t){return{value:t.id,label:e.titleCase(t.name)}}))},typeOptions:function(){return this.groupTypes.map((function(e){return{value:e.id,label:e.fullname}}))},canSetType:function(){return this.hasPermission("groups-manage")&&!this.group.id},typeDisplayName:function(){return this.group.type?this.group.type.name?this.group.type.id<3?this.group.type.name.toUpperCase():this.group.expert_panel.type.name.toUpperCase():null:"🐇🥚"},affiliationIdPlaceholder:function(){return 5e4},cdwgs:function(){return this.$store.getters["cdwgs/all"]},namesDirty:function(){return this.group.expert_panel.isDirty("long_base_name")||this.group.expert_panel.isDirty("short_base_name")},affiliationIdDirty:function(){return console.log({new:this.group.expert_panel.attributes.affiliation_id,original:this.group.expert_panel.original.affiliation_id}),this.group.expert_panel.isDirty("affiliation_id")},parentOptions:function(){var e=[{value:0,label:"None"}];return this.parents.filter((function(e){return e.type.can_be_parent})).forEach((function(t){e.push({value:t.id,label:t.displayName})})),Object(g["sortBy"])(e,"label")}},methods:{save:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.resetErrors(),t.prev=1,!e.group.id){t.next=7;break}return t.next=5,e.updateGroup();case 5:return e.$emit("saved"),t.abrupt("return");case 7:return t.next=9,e.createGroup().then((function(e){return e.data.data}));case 9:n=t.sent,e.$emit("saved"),e.$store.commit("pushSuccess","Group created."),e.$router.push({name:"AddMember",params:{uuid:n.uuid}}),t.next=19;break;case 15:throw t.prev=15,t.t0=t["catch"](1),Object(j["b"])(t.t0)&&(e.errors=t.t0.response.data.errors),t.t0;case 19:case"end":return t.stop()}}),t,null,[[1,15]])})))()},createGroup:function(){var e=this.group.attributes,t=e.name,n=e.parent_id,r=e.group_type_id,o=e.group_status_id,a=this.group.expert_panel.short_base_name;return null===t&&this.group.expert_panel&&(t=this.group.expert_panel.long_base_name),this.$store.dispatch("groups/create",{name:t,parent_id:n,group_type_id:r,group_status_id:o,short_base_name:a})},updateGroup:function(){var e=[];return e.push(this.saveGroupData()),this.group.expert_panel&&e.push(this.saveEpData()),Promise.all(e)},saveGroupData:function(){var e=[];return this.group.isDirty("parent_id")&&e.push(this.saveParent()),this.group.isDirty("name")&&e.push(this.saveName()),this.group.isDirty("group_status_id")&&e.push(this.saveStatus()),Promise.all(e)},saveEpData:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var n,r,o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=[],e.namesDirty&&(r=e.group.expert_panel,o=r.long_base_name,a=r.short_base_name,n.push(e.submitFormData({method:"put",url:"/api/groups/".concat(e.group.uuid,"/expert-panel/name"),data:{long_base_name:o,short_base_name:a}}))),e.affiliationIdDirty&&n.push(e.submitFormData({method:"put",url:"/api/groups/".concat(e.group.uuid,"/expert-panel/affiliation-id"),data:{affiliation_id:e.group.expert_panel.affiliation_id}})),t.next=5,Promise.all(n);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))()},isDirty:function(e){return this.group[e]!=this.group[e]},saveParent:function(){return this.submitFormData({method:"put",url:"/api/groups/".concat(this.group.uuid,"/parent"),data:{parent_id:this.group.parent_id}})},saveName:function(){return this.submitFormData({method:"put",url:"/api/groups/".concat(this.group.uuid,"/name"),data:{name:this.group.name}})},saveStatus:function(){return this.submitFormData({method:"put",url:"/api/groups/".concat(this.group.uuid,"/status"),data:{status_id:this.group.group_status_id}})},resetData:function(){this.group.uuid&&this.$store.dispatch("groups/find",this.group.uuid)},cancel:function(){this.group.uuid&&this.resetData(),this.$emit("canceled")},getParentOptions:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,j["a"].get("/api/groups").then((function(t){return t.data.filter((function(t){return t.id!=e.group.id})).map((function(e){return new v["a"](e)}))}));case 2:e.parents=t.sent;case 3:case"end":return t.stop()}}),t)})))()},emitUpdate:function(){this.$emit("update")}},beforeMount:function(){this.getParentOptions(),this.$store.dispatch("cdwgs/getAll")},setup:function(e,t){var n=Object(w["a"])(e,t),r=n.errors,o=n.submitFormData,a=n.resetErrors;return{errors:r,submitFormData:o,resetErrors:a}}},V=n("6b0d"),k=n.n(V);const N=k()(C,[["render",f]]);t["a"]=N},"324b":function(e,t,n){"use strict";var r=n("7a23"),o={key:0},a={class:"text-lg pr-4"},i={key:1,class:"well text-center"},c={class:"text-lg pr-4"};function s(e,t,n,s,u,l){var p=Object(r["resolveComponent"])("evidence-summary"),d=Object(r["resolveComponent"])("evidence-summary-form");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[u.summaries.length>0?(Object(r["openBlock"])(),Object(r["createElementBlock"])("ul",o,[Object(r["createVNode"])(r["TransitionGroup"],{name:"slide-fade-down"},{default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(l.group.expert_panel.evidence_summaries,(function(e,t){return Object(r["openBlock"])(),Object(r["createElementBlock"])("li",{class:"my-4 flex",key:t},[Object(r["createElementVNode"])("div",a,Object(r["toDisplayString"])(t+1),1),Object(r["createVNode"])(p,{summary:e,group:l.group,onSaved:l.handleSavedSummary,onDeleted:l.handleDeleted,class:"flex-1",readonly:n.readonly},null,8,["summary","group","onSaved","onDeleted","readonly"])])})),128))]})),_:1})])):u.loading?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",i,"Loading...")):(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{key:2,class:Object(r["normalizeClass"])(["well text-center",{"cursor-pointer":!n.readonly}]),onClick:t[0]||(t[0]=function(){return l.startNewSummary&&l.startNewSummary.apply(l,arguments)})},"No example evidence summaries have been added.",2)),Object(r["withDirectives"])(Object(r["createElementVNode"])("ul",null,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(u.newSummaries,(function(e,t){return Object(r["openBlock"])(),Object(r["createElementBlock"])("li",{class:"my-4 flex",key:t},[Object(r["createElementVNode"])("div",c,Object(r["toDisplayString"])(t+1+u.summaries.length),1),Object(r["createVNode"])(d,{class:"flex-1",group:l.group,summary:e,onSaved:l.handleSavedSummary,onCanceled:l.cancelAdd},null,8,["group","summary","onSaved","onCanceled"])])})),128))],512),[[r["vShow"],l.adding]]),Object(r["withDirectives"])(Object(r["createElementVNode"])("div",null,[Object(r["withDirectives"])(Object(r["createElementVNode"])("button",{class:"btn btn-xs",onClick:t[1]||(t[1]=function(){return l.startNewSummary&&l.startNewSummary.apply(l,arguments)})},"Add Summary",512),[[r["vShow"],!l.adding]])],512),[[r["vShow"],!l.adding&&l.canEdit]])])}var u=n("1da1"),l=(n("c740"),n("a434"),n("96cf"),{key:0,class:"p-2 border rounded"}),p={class:"flex justify-between"},d=Object(r["createElementVNode"])("button",{class:"btn btn-xs"},"…",-1),m=Object(r["createTextVNode"])("Edit"),b=Object(r["createTextVNode"])("Delete"),h=["href"];function f(e,t,n,o,a,i){var c=Object(r["resolveComponent"])("dropdown-item"),s=Object(r["resolveComponent"])("dropdown-menu"),u=Object(r["resolveComponent"])("evidence-summary-form"),f=Object(r["resolveComponent"])("button-row"),O=Object(r["resolveComponent"])("modal-dialog");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[Object(r["createVNode"])(r["Transition"],{mode:"out-in",name:"fade"},{default:Object(r["withCtx"])((function(){return[a.editing?(Object(r["openBlock"])(),Object(r["createBlock"])(u,{key:1,summary:n.summary,group:n.group,onSaved:i.handleSaved,onCanceled:i.cancelEdit},null,8,["summary","group","onSaved","onCanceled"])):(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",l,[Object(r["createElementVNode"])("header",p,[Object(r["createElementVNode"])("h4",null,Object(r["toDisplayString"])(n.summary.gene.gene_symbol)+" - "+Object(r["toDisplayString"])(n.summary.variant),1),i.canEdit?(Object(r["openBlock"])(),Object(r["createBlock"])(s,{key:0,"hide-cheveron":!0,class:"relative"},{label:Object(r["withCtx"])((function(){return[d]})),default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(c,{onClick:t[0]||(t[0]=function(e){return i.edit()})},{default:Object(r["withCtx"])((function(){return[m]})),_:1}),Object(r["createVNode"])(c,{onClick:t[1]||(t[1]=function(e){return i.confirmDelete()})},{default:Object(r["withCtx"])((function(){return[b]})),_:1})]})),_:1})):Object(r["createCommentVNode"])("",!0)]),Object(r["createElementVNode"])("p",null,Object(r["toDisplayString"])(n.summary.summary),1),n.summary.vci_url?(Object(r["openBlock"])(),Object(r["createElementBlock"])("a",{key:0,class:"link",href:n.summary.vci_url,target:"_blank"}," View in the VCI ",8,h)):Object(r["createCommentVNode"])("",!0)]))]})),_:1}),(Object(r["openBlock"])(),Object(r["createBlock"])(r["Teleport"],{to:"body"},[Object(r["createVNode"])(O,{modelValue:a.showDeleteConfirm,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.showDeleteConfirm=e}),title:"You are about to delete an example evidence summary."},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(" You are about to delete an evidence summary for "+Object(r["toDisplayString"])(n.summary.gene.gene_symbol)+" - "+Object(r["toDisplayString"])(n.summary.variant)+". Are you sure you want to continue? ",1),Object(r["createVNode"])(f,{onSubmit:i.deleteSummary,onCancel:i.cancelDelete,"submit-text":"Delete Summary"},null,8,["onSubmit","onCancel"])]})),_:1},8,["modelValue"])]))])}n("99af");var O=n("f96b"),g={class:"flex space-x-2"},j=Object(r["createElementVNode"])("option",{value:null},"Select...",-1),v=["value"];function y(e,t,n,o,a,i){var c=Object(r["resolveComponent"])("input-row"),s=Object(r["resolveComponent"])("button-row");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[Object(r["createElementVNode"])("div",g,[Object(r["createVNode"])(c,{class:"mt-0 mb-0",vertical:!0,label:"Gene",errors:a.errors.gene_id},{default:Object(r["withCtx"])((function(){return[Object(r["withDirectives"])(Object(r["createElementVNode"])("select",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.summaryClone.gene_id=e})},[j,(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(a.groupGenes,(function(e){return Object(r["openBlock"])(),Object(r["createElementBlock"])("option",{value:e.id,key:e.id},Object(r["toDisplayString"])(e.gene.gene_symbol),9,v)})),128))],512),[[r["vModelSelect"],a.summaryClone.gene_id]])]})),_:1},8,["errors"]),Object(r["createVNode"])(c,{class:"mt-0 mb-0",modelValue:a.summaryClone.variant,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.summaryClone.variant=e}),vertical:!0,label:"Variant",errors:a.errors.variant},null,8,["modelValue","errors"])]),Object(r["createVNode"])(c,{class:"mt-0 mb-0",label:"Summary",vertical:!0,errors:a.errors.summary},{default:Object(r["withCtx"])((function(){return[Object(r["withDirectives"])(Object(r["createElementVNode"])("textarea",{rows:"5",class:"w-full","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.summaryClone.summary=e})},null,512),[[r["vModelText"],a.summaryClone.summary]])]})),_:1},8,["errors"]),Object(r["createVNode"])(c,{class:"mt-0",modelValue:a.summaryClone.vci_url,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.summaryClone.vci_url=e}),label:"VCI URL",vertical:!0,"input-class":"w-full",errors:a.errors.vci_url},null,8,["modelValue","errors"]),Object(r["createVNode"])(s,{"submit-text":"save",onSubmit:i.save,onCancel:i.cancel},null,8,["onSubmit","onCancel"])])}var w=n("5530"),C=n("033d"),V={name:"EvidenceSummaryForm",props:{group:{required:!0,type:Object},summary:{required:!0,type:Object}},emits:["saved","canceled"],data:function(){return{groupGenes:[],summaryClone:{gene:{}},errors:{}}},computed:{},watch:{group:{immediate:!0,handler:function(){this.group&&this.group.id&&this.getGroupGenes()}},summary:{immediate:!0,handler:function(){this.summaryClone=Object(w["a"])({},this.summary)}}},methods:{save:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n="/api/groups/".concat(e.group.uuid,"/expert-panel/evidence-summaries"),r="post",e.summaryClone.id&&(n+="/".concat(e.summaryClone.id),r="put"),t.next=6,Object(O["a"])({method:r,url:n,data:e.summaryClone}).then((function(e){return e.data.data}));case 6:o=t.sent,e.$emit("saved",o),e.$store.commit("pushSuccess","Saved example evidence summary"),e.editing=!1,t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),Object(C["a"])(t.t0)&&(e.errors=t.t0.response.data.errors);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()},cancel:function(){this.initSummaryClone(),this.$emit("canceled")},edit:function(e){e.editing=!0},getGroupGenes:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,O["a"].get("/api/groups/".concat(e.group.uuid,"/expert-panel/genes")).then((function(e){return e.data}));case 2:e.groupGenes=t.sent;case 3:case"end":return t.stop()}}),t)})))()},initSummaryClone:function(){this.summaryClone={gene:{}}}}},k=n("6b0d"),N=n.n(k);const x=N()(V,[["render",y]]);var _=x,S={components:{EvidenceSummaryForm:_},name:"EvidenceSummary",props:{summary:{required:!0,type:Object},group:{required:!0,type:Object},readonly:{type:Boolean,required:!1,default:!1}},emits:["edit","saved","deleted"],data:function(){return{editing:!1,showDeleteConfirm:!1}},computed:{canEdit:function(){return this.hasAnyPermission(["ep-applications-manage",["application-edit",this.group]])&&!this.readonly}},methods:{handleSaved:function(e){this.$emit("saved",e),this.editing=!1},edit:function(){this.editing=!0},cancelEdit:function(){this.editing=!1},confirmDelete:function(){this.showDeleteConfirm=!0},deleteSummary:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O["a"].delete("/api/groups/".concat(e.group.uuid,"/application/evidence-summaries/").concat(e.summary.id));case 3:e.$emit("deleted",e.summary),t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),console.error(t.t0);case 9:e.showDeleteConfirm=!1;case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))()},cancelDelete:function(){this.showDeleteConfirm=!1}}};const E=N()(S,[["render",f]]);var B=E,D={name:"EvidenceSummaryList",components:{EvidenceSummary:B,EvidenceSummaryForm:_},emits:["summaries-added"],props:{readonly:{type:Boolean,required:!1,default:!1}},data:function(){return{newSummaries:[],errors:{},summaries:[],showDeleteConfirm:!1,selectedSummary:{gene:{}},loading:!1}},computed:{group:{get:function(){return this.$store.getters["groups/currentItemOrNew"]},set:function(e){this.$store.commit("groups/addItem",e)}},meetsRequirements:function(){return this.summaries.length>4},adding:function(){return this.newSummaries.length>0},canEdit:function(){return this.hasAnyPermission(["ep-applications-manage",["application-edit",this.group]])&&!this.readonly}},watch:{group:{immediate:!0,handler:function(){this.group&&this.group.id&&this.getEvidenceSummaries()}}},methods:{getEvidenceSummaries:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.$store.dispatch("groups/getEvidenceSummaries",e.group);case 4:e.summaries=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),console.log(t.t0);case 10:e.loading=!1;case 11:case"end":return t.stop()}}),t,null,[[1,7]])})))()},startNewSummary:function(){this.readonly||this.newSummaries.push({gene:null,variant:null,summary:null})},clearNewSummaries:function(){this.newSummaries=[]},handleSavedSummary:function(){this.getEvidenceSummaries(),this.clearNewSummaries(),this.$emit("summaries-added")},handleDeleted:function(e){var t=this.summaries.findIndex((function(t){return t.id==e.id}));t>-1&&this.summaries.splice(t,1),this.getEvidenceSummaries()},cancelAdd:function(){this.clearNewSummaries()},mergeSummary:function(e){var t=this.summaries.findIndex((function(t){return t.id==e.id}));t>-1?this.summaries.splice(t,1,e):this.summaries.push(e)}}};const U=N()(D,[["render",s]]);t["a"]=U},"6d59":function(e,t,n){},7332:function(e,t,n){"use strict";n.r(t);var r=n("7a23"),o=function(e){return Object(r["pushScopeId"])("data-v-90773ede"),e=e(),Object(r["popScopeId"])(),e},a={class:"flex items-center pb-2 border-b z-20"},i={class:"flex-1"},c={class:"border-b-0 flex justify-between items-start mb-0"},s={key:0},u=o((function(){return Object(r["createElementVNode"])("span",{class:"note"}," | ",-1)})),l={class:"md:flex"},p={class:"p-2 border-t text-sm text-center bottom-0"},d={key:0},m={key:1},b={class:"flex-1"},h={id:"body",class:"px-4"},f={class:"text-lg"},O=o((function(){return Object(r["createElementVNode"])("p",null,"You cannot update your application while waiting approval.",-1)})),g=o((function(){return Object(r["createElementVNode"])("p",null,"The approval committee will respond soon.",-1)})),j=o((function(){return Object(r["createElementVNode"])("p",null,[Object(r["createTextVNode"])(" Please contact "),Object(r["createElementVNode"])("a",{href:"mailto:cdwg_oversightcommittee@clinicalgenome.org"}," the ClinGen CDWG Oversight Committee "),Object(r["createTextVNode"])(" if you have any questions. ")],-1)}));function v(e,t,n,o,v,y){var w=Object(r["resolveComponent"])("group-breadcrumbs"),C=Object(r["resolveComponent"])("note"),V=Object(r["resolveComponent"])("application-menu"),k=Object(r["resolveComponent"])("static-alert"),N=Object(r["resolveComponent"])("router-view"),x=Object(r["resolveComponent"])("modal-dialog"),_=Object(r["resolveDirective"])("remaining-height");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[Object(r["createElementVNode"])("header",a,[Object(r["createElementVNode"])("div",i,[Object(r["createVNode"])(w,{group:y.group},null,8,["group"]),Object(r["createElementVNode"])("h1",c,[Object(r["createElementVNode"])("div",null,[Object(r["createTextVNode"])(Object(r["toDisplayString"])(y.group.displayName)+" - Application ",1),e.hasPermission("groups-manage")?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",s,[Object(r["createVNode"])(C,{class:"inline"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])("group: "+Object(r["toDisplayString"])(y.group.id),1)]})),_:1}),u,Object(r["createVNode"])(C,{class:"inline"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])("expert_panel: "+Object(r["toDisplayString"])(y.group.expert_panel.id),1)]})),_:1})])):Object(r["createCommentVNode"])("",!0)]),y.group.expert_panel.hasPendingSubmission?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createElementBlock"])("button",{key:0,onClick:t[0]||(t[0]=function(){var t;return e.$refs.application.save&&(t=e.$refs.application).save.apply(t,arguments)}),class:"btn btn-sm"},"Save"))])])]),Object(r["createElementVNode"])("div",l,[Object(r["createVNode"])(V,{class:"mt-4",application:y.application,"is-collapsed":!v.showApplicationToc},{footer:Object(r["withCtx"])((function(){return[Object(r["createElementVNode"])("div",p,[v.saving?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",d,"Saving...")):(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",m,"Last saved at "+Object(r["toDisplayString"])(e.formatTime(v.lastSavedAt)),1))])]})),_:1},8,["application","is-collapsed"]),Object(r["createElementVNode"])("div",b,[Object(r["withDirectives"])((Object(r["openBlock"])(),Object(r["createElementBlock"])("section",h,[y.group.expert_panel.hasPendingSubmission?(Object(r["openBlock"])(),Object(r["createBlock"])(k,{key:0,class:"relative mt-4 px-4 z-50",variant:"success"},{default:Object(r["withCtx"])((function(){return[Object(r["createElementVNode"])("p",f,"Your application was submitted on "+Object(r["toDisplayString"])(e.formatDate(y.group.expert_panel.pendingSubmission.created_at))+".",1),O,g,j]})),_:1})):Object(r["createCommentVNode"])("",!0),(Object(r["openBlock"])(),Object(r["createBlock"])(Object(r["resolveDynamicComponent"])(y.applicationComponent),{ref:"application",onSaved:y.updateLastSavedAt,onSaving:t[1]||(t[1]=function(e){return v.saving=!0})},null,8,["onSaved"]))])),[[_]])])]),(Object(r["openBlock"])(),Object(r["createBlock"])(r["Teleport"],{to:"body"},[Object(r["createVNode"])(x,{modelValue:v.showModal,"onUpdate:modelValue":t[2]||(t[2]=function(e){return v.showModal=e}),onClosed:y.handleModalClosed,title:this.$route.meta.title},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(N,{ref:"modalView",onSaved:y.hideModal,onCanceled:y.hideModal},null,8,["onSaved","onCanceled"])]})),_:1},8,["modelValue","onClosed","title"])]))])}var y=n("1da1"),w=(n("ac1f"),n("5319"),n("96cf"),{class:"relative"}),C=Object(r["createElementVNode"])("p",null," Expert Panels are expected to represent the diversity of expertise in the field, including all major areas of expertise (clinical, diagnostic laboratory, and basic research). Membership should include representation from three or more institutions and will encompass disease/gene expert members as well as biocurators. Biocurators do not have to be gene/disease experts and will be primarily responsible for assembling the available evidence for subsequent expert member review. For role, suggested examples include: primary biocurator, expert reviewer, etc. ",-1),V=Object(r["createTextVNode"])(" It is expected that the expert panel will utilize "),k=Object(r["createTextVNode"])(" during pre-curation and should use the "),N=Object(r["createTextVNode"])(" to enter their precuration information. Focus should be on the canonical disease, and splitting into multiple phenotypes should be avoided. The precurations will be published to "),x=Object(r["createTextVNode"])(". "),_=Object(r["createElementVNode"])("hr",null,null,-1);function S(e,t,n,o,a,i){var c=Object(r["resolveComponent"])("group-form"),s=Object(r["resolveComponent"])("app-section"),u=Object(r["resolveComponent"])("member-list"),l=Object(r["resolveComponent"])("lumping-and-splitting-link"),p=Object(r["resolveComponent"])("gene-tracker-link"),d=Object(r["resolveComponent"])("website-link"),m=Object(r["resolveComponent"])("gcep-gene-list"),b=Object(r["resolveComponent"])("scope-description-form"),h=Object(r["resolveComponent"])("attestation-gcep"),f=Object(r["resolveComponent"])("gcep-ongoing-plans-form"),O=Object(r["resolveComponent"])("attestation-nhgri"),g=Object(r["resolveComponent"])("application-step");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",w,[Object(r["createVNode"])(g,{id:"definition",disabled:i.group.expert_panel.hasPendingSubmission},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(s,{title:"Basic Information",id:"basicInfo"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(c,{group:i.group,ref:"groupForm",onUpdate:i.handleUpdate},null,8,["group","onUpdate"])]})),_:1}),i.group?(Object(r["openBlock"])(),Object(r["createBlock"])(s,{key:0,title:"Membership",id:"membership"},{default:Object(r["withCtx"])((function(){return[C,Object(r["createVNode"])(u,{group:i.group},null,8,["group"])]})),_:1})):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(s,{title:"Scope of Work",id:"scope"},{default:Object(r["withCtx"])((function(){return[Object(r["createElementVNode"])("p",null,[V,Object(r["createVNode"])(l),k,Object(r["createVNode"])(p),N,Object(r["createVNode"])(d),x]),Object(r["createVNode"])(m,{group:i.group,ref:"geneList",onGeneschanged:t[0]||(t[0]=function(e){return a.genesChanged=!0}),onUpdate:i.handleUpdate},null,8,["group","onUpdate"]),_,Object(r["createVNode"])(b,{onUpdate:i.handleUpdate},null,8,["onUpdate"])]})),_:1}),Object(r["createVNode"])(s,{title:"Attestations",id:"attestations"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(h,{onUpdate:i.handleUpdate},null,8,["onUpdate"])]})),_:1}),Object(r["createVNode"])(s,{id:"curationReviewProcess",title:"Plans for Ongoing Gene Review and Reanalysis and Discrepancy Resolution"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(f,{onUpdate:i.handleUpdate},null,8,["onUpdate"])]})),_:1}),Object(r["createVNode"])(s,{title:"NHGRI Data Availability",id:"nhgri"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(O,{onUpdate:i.handleUpdate},null,8,["onUpdate"])]})),_:1})]})),_:1},8,["disabled"])])}n("d81d"),n("b64b"),n("d3b7"),n("3ca3"),n("ddb0");var E=n("2ef0"),B=n("a75a"),D=n("db04"),U=n("8ed1"),R=function(e){return Object(r["pushScopeId"])("data-v-af79107a"),e=e(),Object(r["popScopeId"])(),e},$=["id"],I={key:0,class:"header flex justify-between items-center"},T={key:0,class:"inline"},A=["innerHTML"],M={key:0,class:"inline"},P=Object(r["createTextVNode"])(" Make changes from the the "),G=Object(r["createTextVNode"])("group's detail screen"),q=R((function(){return Object(r["createElementVNode"])("br",null,null,-1)})),F=R((function(){return Object(r["createElementVNode"])("small",null,"Changes may require re-approval.",-1)})),L=Object(r["createTextVNode"])("Approved"),z=Object(r["createTextVNode"])("Under Review"),W={class:"relative"},Y={class:"step-contents"},H={key:1,class:"z-20 absolute top-0 bottom-0 left-0 right-0 bg-white bg-opacity-50"};function J(e,t,n,o,a,i){var c=Object(r["resolveComponent"])("icon-lock"),s=Object(r["resolveComponent"])("popover"),u=Object(r["resolveComponent"])("router-link"),l=Object(r["resolveComponent"])("badge"),p=Object(r["resolveComponent"])("application-submit-button");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{class:"application-step",id:n.id},[n.title?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",I,[Object(r["createElementVNode"])("h2",{class:Object(r["normalizeClass"])({"text-gray-400":n.disabled})},[Object(r["createTextVNode"])(Object(r["toDisplayString"])(n.title)+" ",1),n.disabled?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",T,[Object(r["createVNode"])(s,{arrow:"",hover:""},{content:Object(r["withCtx"])((function(){return[Object(r["createElementVNode"])("small",{class:"text-sm",innerHTML:i.lockedContent},null,8,A)]})),default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(c,{class:"inline"})]})),_:1})])):Object(r["createCommentVNode"])("",!0)],2),i.approved?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",M,[Object(r["createVNode"])(s,{hover:"",arrow:""},{content:Object(r["withCtx"])((function(){return[P,Object(r["createVNode"])(u,{to:{name:"GroupDetail",parmas:{uuid:i.group.uuid}}},{default:Object(r["withCtx"])((function(){return[G]})),_:1},8,["to"]),q,F]})),default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{color:"green"},{default:Object(r["withCtx"])((function(){return[L]})),_:1})]})),_:1})])):Object(r["createCommentVNode"])("",!0),i.underReview?(Object(r["openBlock"])(),Object(r["createBlock"])(l,{key:1,color:"yellow"},{default:Object(r["withCtx"])((function(){return[z]})),_:1})):Object(r["createCommentVNode"])("",!0)])):Object(r["createCommentVNode"])("",!0),Object(r["createElementVNode"])("div",W,[Object(r["createElementVNode"])("div",Y,[Object(r["renderSlot"])(e.$slots,"default",{},void 0,!0)]),i.showSubmitButton?(Object(r["openBlock"])(),Object(r["createBlock"])(p,{key:0,class:"border-t",step:i.step},null,8,["step"])):Object(r["createCommentVNode"])("",!0),n.disabled||i.approved?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",H)):Object(r["createCommentVNode"])("",!0)])],8,$)}var Q={key:0,class:"p-4"},K={class:"relative"},X={key:0,class:"bg-white opacity-50 absolute top-0 bottom-0 left-0 right-0"},Z={class:"text-lg"},ee=Object(r["createTextVNode"])(" Before submitting, please note: "),te=Object(r["createElementVNode"])("ol",{class:"list-decimal pl-6"},[Object(r["createElementVNode"])("li",null," Typical response times are between one and two weeks. "),Object(r["createElementVNode"])("li",null," Questions, revisions, and other comments will be conveyed via email. "),Object(r["createElementVNode"])("li",null," Once submitted you will not be able to update your application until the submission has been processed. ")],-1),ne=Object(r["createElementVNode"])("div",{class:"mt-4 text-lg"},"Optional notes for reviewers:",-1);function re(e,t,n,o,a,i){var c=Object(r["resolveComponent"])("requirements-item"),s=Object(r["resolveComponent"])("dev-component"),u=Object(r["resolveComponent"])("popover"),l=Object(r["resolveComponent"])("static-alert"),p=Object(r["resolveComponent"])("input-row"),d=Object(r["resolveComponent"])("button-row"),m=Object(r["resolveComponent"])("modal-dialog");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[i.group.expert_panel.hasPendingSubmission?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",Q,[Object(r["createVNode"])(u,{hover:"",arrow:""},{content:Object(r["withCtx"])((function(){return[Object(r["createElementVNode"])("div",null,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(i.evaledRequirements,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])(c,{key:t,requirement:e},null,8,["requirement"])})),128))])]})),default:Object(r["withCtx"])((function(){return[Object(r["createElementVNode"])("div",null,[Object(r["createElementVNode"])("div",K,[Object(r["createElementVNode"])("button",{class:"btn btn-xl",onClick:t[0]||(t[0]=function(){return i.initSubmission&&i.initSubmission.apply(i,arguments)})}," Submit for Approval "),i.meetsRequirements?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",X))]),e.hasRole("super-user")?(Object(r["openBlock"])(),Object(r["createBlock"])(s,{key:0},{default:Object(r["withCtx"])((function(){return[Object(r["createElementVNode"])("button",{onClick:t[1]||(t[1]=function(){return i.bypassRequirements&&i.bypassRequirements.apply(i,arguments)})},"Bypass Requirements")]})),_:1})):Object(r["createCommentVNode"])("",!0)])]})),_:1})])),(Object(r["openBlock"])(),Object(r["createBlock"])(r["Teleport"],{to:"body"},[Object(r["createVNode"])(r["Transition"],{name:"fade"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(m,{modelValue:a.showSubmissionConfirmation,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.showSubmissionConfirmation=e}),title:"Submit your application"},{default:Object(r["withCtx"])((function(){return[Object(r["createElementVNode"])("p",Z," You are about to submit your "+Object(r["toDisplayString"])(i.submissionName)+" application. ",1),Object(r["createVNode"])(l,{class:"text-md",variant:"info"},{default:Object(r["withCtx"])((function(){return[ee,te]})),_:1}),ne,Object(r["createVNode"])(p,{label:"",errors:a.errors.notes,vertical:""},{default:Object(r["withCtx"])((function(){return[Object(r["withDirectives"])(Object(r["createElementVNode"])("textarea",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.notes=e}),rows:"5",class:"w-full"},null,512),[[r["vModelText"],a.notes]])]})),_:1},8,["errors"]),Object(r["createVNode"])(d,{onSubmitted:i.confirmSubmission,onCancelled:i.cancelSubmission},null,8,["onSubmitted","onCancelled"])]})),_:1},8,["modelValue"])]})),_:1})]))])}n("b0c0"),n("a15b");var oe=n("284a"),ae=n("4a91"),ie=ae.submissions,ce={name:"ApplicationSubmitButton",components:{RequirementsItem:oe["a"]},props:{disabled:{type:Boolean,required:!1,default:!1},sections:{type:Array,required:!1,default:function(){return[]}},step:{type:Object,required:!0}},emits:["submitted","canceled"],data:function(){return{showSubmissionConfirmation:!1,notes:null,errors:{},bypassReqs:!1}},computed:{group:function(){return this.$store.getters["groups/currentItemOrNew"]},meetsRequirements:function(){return!!this.bypassReqs||this.step.meetsRequirements(this.group)},requirementsUnmet:function(){return!this.step.meetsRequirements(this.group)},evaledRequirements:function(){return this.step.evaluateRequirements(this.group)},submissionName:function(){if("gcep"==this.group.expert_panel.type.name)return"GCEP";switch(this.group.expert_panel.current_step){case 1:return"VCEP Group Definition";case 4:return"VCEP Sustained Curation Plans";default:break}return ie.types.applications}},methods:{bypassRequirements:function(){this.bypassReqs=!0},initSubmission:function(){this.showSubmissionConfirmation=!0,this.notes=null},confirmSubmission:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("groups/submitApplicationStep",{group:e.group,notes:e.notes});case 3:e.$store.commit("pushSuccess","Your application has been submitted for approval."),e.showSubmissionConfirmation=!1,e.$emit("submitted"),t.next=15;break;case 8:if(t.prev=8,t.t0=t["catch"](0),!Object(D["b"])(t.t0)){t.next=14;break}return n=t.t0.response.data.errors,e.$store.commit("pushError",n.group.join(",")),t.abrupt("return");case 14:throw t.t0;case 15:case"end":return t.stop()}}),t,null,[[0,8]])})))()},cancelSubmission:function(){this.showSubmissionConfirmation=!1,this.notes=null,this.$emit("cancelled")}}},se=n("6b0d"),ue=n.n(se);const le=ue()(ce,[["render",re]]);var pe=le,de=n("5313"),me={name:"ApplicationStep",components:{ApplicationSubmitButton:pe},props:{title:{type:String,required:!1,default:null},disabled:{type:Boolean,required:!1,default:!1},id:{type:String,required:!0},noSubmit:{type:Boolean,required:!1,default:!1}},computed:{group:function(){return this.$store.getters["groups/currentItemOrNew"]},application:function(){return this.group.isVcep()?de["c"]:de["a"]},step:function(){return this.application.getStep(this.id)},showSubmitButton:function(){return!this.noSubmit},lockedContent:function(){return this.underReview?"Applications pending review cannot be upated.":this.step.isComplete(this.group)?'This step is approved.<br> Make changes from the the <a href="/groups/'.concat(this.group.uuid,"\">group's detail screen</a><br><small>Changes may require re-approval.</small>"):"This step is not yet available."},approved:function(){return this.step.isComplete(this.group)},underReview:function(){return this.group.expert_panel.hasPendingSubmissionForStep(this.titleCase(this.id))}}};n("d94d");const be=ue()(me,[["render",J],["__scopeId","data-v-af79107a"]]);var he=be,fe=n("8fec"),Oe=n("3926"),ge=n("206f"),je=n("268c"),ve=n("0945"),ye=n("a8af"),we=n("6ca3"),Ce={name:"ApplicationGcep",components:{"app-section":U["a"],ApplicationStep:he,AttestationGcep:fe["a"],AttestationNhgri:Oe["a"],GcepGeneList:ge["a"],GroupForm:je["a"],GcepOngoingPlansForm:we["a"],MemberList:ve["a"],ScopeDescriptionForm:ye["a"]},emits:["autosaved","saved","saving"],data:function(){return{genesChanged:!1,saving:!1}},computed:{group:{get:function(){return this.$store.getters["groups/currentItemOrNew"]},set:function(e){this.$store.commit("groups/addItem",e)}}},methods:{save:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$emit("saving"),n=Object.keys(e.$refs).map((function(t){if(e.$refs[t]&&e.$refs[t].save)return e.$refs[t].save()})),n.push(e.saveUpdates()),t.prev=3,t.next=6,Promise.all(n);case 6:e.$emit("saved"),e.genesChanged=!1,t.next=16;break;case 10:if(t.prev=10,t.t0=t["catch"](3),!Object(D["b"])(t.t0)){t.next=15;break}return e.errors=t.t0.response.data.errors,t.abrupt("return");case 15:throw t.t0;case 16:case"end":return t.stop()}}),t,null,[[3,10]])})))()},saveUpdates:function(){var e=this;if(this.applicationIsDirty())return this.$store.dispatch("groups/saveApplicationData",this.group).then((function(){e.$emit("saved")}))},autosave:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log("autosave..."),!e.applicationIsDirty()){t.next=6;break}return t.next=4,e.save();case 4:return e.$emit("autosaved"),t.abrupt("return");case 6:case"end":return t.stop()}}),t)})))()},applicationIsDirty:function(){return this.group.expert_panel.isDirty()||this.group.isDirty()||this.genesChanged},handleUpdate:function(){this.debounceAutoSave()}},setup:function(){return{errors:B["b"]}},created:function(){this.debounceAutoSave=Object(E["debounce"])(this.autosave,2e3)}};const Ve=ue()(Ce,[["render",S]]);var ke=Ve,Ne=Object(r["createTextVNode"])(" Expert Panels are expected to represent the diversity of expertise and backgrounds in the field and should refer to "),xe=Object(r["createTextVNode"])("Section 2.1 of the VCEP Protocol"),_e=Object(r["createTextVNode"])(" and the "),Se=Object(r["createTextVNode"])(" for guidance to complete the Member List below. Please list the VCEP Chair(s) and Coordinator(s) first. "),Ee=Object(r["createElementVNode"])("hr",null,null,-1),Be=Object(r["createElementVNode"])("hr",null,null,-1);function De(e,t,n,o,a,i){var c=Object(r["resolveComponent"])("group-form"),s=Object(r["resolveComponent"])("app-section"),u=Object(r["resolveComponent"])("vcep-protocol-link"),l=Object(r["resolveComponent"])("nih-diversity-toolkit-link"),p=Object(r["resolveComponent"])("member-list"),d=Object(r["resolveComponent"])("membership-description-form"),m=Object(r["resolveComponent"])("vcep-gene-list"),b=Object(r["resolveComponent"])("scope-description-form"),h=Object(r["resolveComponent"])("attestation-reanalysis"),f=Object(r["resolveComponent"])("attestation-nhgri"),O=Object(r["resolveComponent"])("application-step"),g=Object(r["resolveComponent"])("cspec-summary"),j=Object(r["resolveComponent"])("vcep-ongoing-plans-form"),v=Object(r["resolveComponent"])("evidence-summary-list"),y=Object(r["resolveComponent"])("member-designation-form");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[Object(r["createVNode"])(O,{id:"definition",title:"Group Definition",disabled:i.group.expert_panel.hasPendingSubmission},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(s,{title:"Basic Information",id:"basicInfo"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(c,{group:i.group,ref:"groupForm",onUpdate:i.handleUpdate},null,8,["group","onUpdate"])]})),_:1}),i.group?(Object(r["openBlock"])(),Object(r["createBlock"])(s,{key:0,title:"Membership",id:"membership"},{default:Object(r["withCtx"])((function(){return[Object(r["createElementVNode"])("p",null,[Ne,Object(r["createVNode"])(u,null,{default:Object(r["withCtx"])((function(){return[xe]})),_:1}),_e,Object(r["createVNode"])(l),Se]),Object(r["createVNode"])(p,{group:i.group},null,8,["group"]),Ee,Object(r["createVNode"])(d,{editing:!0,onUpdate:i.handleUpdate},null,8,["onUpdate"])]})),_:1})):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(s,{title:"Scope of Work",id:"scope"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(m,{group:i.group,ref:"geneList",onUpdate:i.handleUpdate},null,8,["group","onUpdate"]),Be,Object(r["createVNode"])(b,{onUpdate:i.handleUpdate},null,8,["onUpdate"])]})),_:1}),Object(r["createVNode"])(s,{title:"Reanalysis & Discrepancy Resolution",id:"reanalysis"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(h,{onUpdate:i.handleUpdate},null,8,["onUpdate"])]})),_:1}),Object(r["createVNode"])(s,{title:"NHGRI Data Availability",id:"nhgri"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(f,{onUpdate:i.handleUpdate},null,8,["onUpdate"])]})),_:1})]})),_:1},8,["disabled"]),Object(r["createVNode"])(O,{id:"draft-specifications",title:"Draft Specifications",disabled:i.group.expert_panel.current_step<2||i.group.expert_panel.hasPendingSubmission,"no-submit":!0},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(s,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(g)]})),_:1})]})),_:1},8,["disabled"]),Object(r["createVNode"])(O,{id:"pilot-specifications",title:"Pilot Specifications",disabled:i.group.expert_panel.current_step<3||i.group.expert_panel.hasPendingSubmission,"no-submit":!0},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(s,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(g)]})),_:1})]})),_:1},8,["disabled"]),Object(r["createVNode"])(O,{id:"sustained-curation",title:"Sustained Curation",disabled:i.group.expert_panel.current_step<4||i.group.expert_panel.hasPendingSubmission},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(s,{title:"Plans for Ongoing Review and Reanalysis and Discrepancy Resolution",id:"curationReviewProcess"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(j,{onUpdate:i.handleUpdate},null,8,["onUpdate"])]})),_:1}),Object(r["createVNode"])(s,{title:"Example Evidence Summaries",id:"evidenceSummaries"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(v)]})),_:1}),Object(r["createVNode"])(s,{title:"Member Designation",id:"designations"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(y,{ref:"designationForm"},null,512)]})),_:1})]})),_:1},8,["disabled"])])}var Ue=n("a266"),Re=n("abba"),$e=n("324b"),Ie=n("ec0d"),Te=n("4d1a"),Ae=n("62a2"),Me=n("1d7f"),Pe={name:"ApplicationVcep",components:{"app-section":U["a"],ApplicationStep:he,AttestationNhgri:Oe["a"],AttestationReanalysis:Ue["a"],CspecSummary:Re["a"],EvidenceSummaryList:$e["a"],GroupForm:je["a"],MemberDesignationForm:Ie["a"],MemberList:ve["a"],MembershipDescriptionForm:Te["a"],ScopeDescriptionForm:ye["a"],VcepGeneList:Ae["a"],VcepOngoingPlansForm:Me["a"]},emits:["autosaved","saved","saving"],data:function(){return{genesChanged:!1,saving:!1}},computed:{group:{get:function(){return this.$store.getters["groups/currentItemOrNew"]},set:function(e){this.$store.commit("groups/addItem",e)}}},methods:{save:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$emit("saving"),n=Object.keys(e.$refs).map((function(t){if(e.$refs[t]&&e.$refs[t].save)return e.$refs[t].save()})),n.push(e.saveUpdates()),t.prev=3,t.next=6,Promise.all(n);case 6:e.$emit("saved"),e.genesChanged=!1,t.next=16;break;case 10:if(t.prev=10,t.t0=t["catch"](3),!Object(D["b"])(t.t0)){t.next=15;break}return e.errors=t.t0.response.data.errors,t.abrupt("return");case 15:throw t.t0;case 16:case"end":return t.stop()}}),t,null,[[3,10]])})))()},saveUpdates:function(){var e=this;if(this.applicationIsDirty())return this.$store.dispatch("groups/saveApplicationData",this.group).then((function(){e.$emit("saved")}))},autosave:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log("autosave..."),!e.applicationIsDirty()){t.next=6;break}return t.next=4,e.save();case 4:return e.$emit("autosaved"),t.abrupt("return");case 6:case"end":return t.stop()}}),t)})))()},applicationIsDirty:function(){return this.group.expert_panel.isDirty()||this.group.isDirty()||this.genesChanged},handleUpdate:function(){this.debounceAutoSave()}},setup:function(){return{errors:B["b"]}},created:function(){this.debounceAutoSave=Object(E["debounce"])(this.autosave,2e3)}};const Ge=ue()(Pe,[["render",De]]);var qe=Ge,Fe={class:"menu-items"},Le={class:""};function ze(e,t,n,o,a,i){var c=Object(r["resolveComponent"])("menu-item");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{class:Object(r["normalizeClass"])([{collapsed:n.isCollapsed},"app-menu overflow-y-auto relative"])},[Object(r["createElementVNode"])("ul",Fe,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(n.application.steps,(function(e,t){return Object(r["openBlock"])(),Object(r["createElementBlock"])("li",{key:t},[Object(r["createVNode"])(c,{item:e,class:"block","is-current-step":i.isCurrentStep(e)},null,8,["item","is-current-step"])])})),128))]),Object(r["createElementVNode"])("div",Le,[Object(r["renderSlot"])(e.$slots,"footer",{},void 0,!0)])],2)}var We={class:"item"},Ye={key:0},He={key:0,class:"ml-4 text-smaller"};function Je(e,t,n,o,a,i){var c=this,s=Object(r["resolveComponent"])("icon-cheveron-right"),u=Object(r["resolveComponent"])("icon-checkmark"),l=Object(r["resolveComponent"])("badge"),p=Object(r["resolveComponent"])("menu-item",!0);return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",We,[i.isStep?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",Ye,[Object(r["createElementVNode"])("header",{class:Object(r["normalizeClass"])(["flex justify-between label",{open:!a.collapsed,"current-step":n.isCurrentStep}]),onClick:t[0]||(t[0]=function(){return i.toggleContents&&i.toggleContents.apply(i,arguments)})},[Object(r["createElementVNode"])("div",null,[Object(r["createTextVNode"])(Object(r["toDisplayString"])(n.item.title)+" ",1),i.hasManySections?(Object(r["openBlock"])(),Object(r["createBlock"])(s,{key:0,class:"cheveron inline -mt-1"})):Object(r["createCommentVNode"])("",!0)]),n.item.isComplete(i.group)?(Object(r["openBlock"])(),Object(r["createBlock"])(l,{key:0,color:"green"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(u,{width:"12",height:"12"})]})),_:1})):Object(r["createCommentVNode"])("",!0)],2),Object(r["createVNode"])(r["Transition"],{name:"slide-fade-down"},{default:Object(r["withCtx"])((function(){return[c.item.sections&&i.hasManySections?Object(r["withDirectives"])((Object(r["openBlock"])(),Object(r["createElementBlock"])("ul",He,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(n.item.sections,(function(e,t){return Object(r["openBlock"])(),Object(r["createElementBlock"])("li",{key:t},[Object(r["createVNode"])(p,{item:e},null,8,["item"])])})),128))],512)),[[r["vShow"],!a.collapsed]]):Object(r["createCommentVNode"])("",!0)]})),_:1})])):(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{key:1,class:"label",onClick:t[1]||(t[1]=function(e){return i.goToItem()})},Object(r["toDisplayString"])(n.item.title),1))])}var Qe={name:"MenuItem",props:{item:{required:!0,type:Object},collapsible:{type:Boolean,required:!1,default:!0},isCurrentStep:{type:Boolean,required:!1,default:!1}},data:function(){return{collapsed:!0}},computed:{label:function(){return this.item.label},contents:function(){return this.item.contents},route:function(){return this.item.route},group:function(){return this.$store.getters["groups/currentItemOrNew"]},isStep:function(){return this.item.sections},hasManySections:function(){return this.item.sections.length>0}},watch:{isCurrentStep:{immediate:!0,handler:function(e){this.collapsible&&(this.collapsed=!0),e&&(this.collapsed=!1)}}},methods:{collapse:function(){this.collapsed=!0},expand:function(){this.collapsed=!1},toggleContents:function(){this.collapsed=!this.collapsed,this.goToItem()},goToItem:function(){location.href="#",location.href="#".concat(this.item.name)}}};n("ed3e");const Ke=ue()(Qe,[["render",Je],["__scopeId","data-v-07b77618"]]);var Xe=Ke,Ze={components:{MenuItem:Xe},props:{application:{required:!0,type:Object},isCollapsed:{required:!1,type:Boolean,default:!1}},data:function(){return{}},computed:{group:function(){return this.$store.getters["groups/currentItemOrNew"]}},methods:{isCurrentStep:function(e){return e.name==this.application.getCurrentStep(this.group).name}}};n("c4fe");const et=ue()(Ze,[["render",ze],["__scopeId","data-v-7a8d890e"]]);var tt=et,nt=n("ae23"),rt={name:"GroupApplication",components:{ApplicationGcep:ke,ApplicationVcep:qe,ApplicationMenu:tt},props:{uuid:{type:String,required:!0}},data:function(){return{showDocumentation:!1,showModal:!1,showApplicationToc:!0,lastSavedAt:new Date,saving:!1}},watch:{$route:function(){this.showModal=!!this.$route.meta.showModal&&Boolean(this.$route.meta.showModal)},uuid:{immediate:!0,handler:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("groups/find",t).then((function(){n.$store.commit("groups/setCurrentItemIndexByUuid",n.uuid)}));case 2:return e.next=4,this.$store.dispatch("groups/getSubmissions",this.group);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}},computed:{applicationComponent:function(){return this.group&&this.group.isVcep()?qe:this.group&&this.group.isGcep()?ke:null},group:function(){var e=this.$store.getters["groups/currentItem"]||new nt["a"];return e||new nt["a"]},application:function(){return this.group.isVcep()?de["c"]:de["a"]}},methods:{hideModal:function(){this.$router.replace({name:"GroupApplication",params:{uuid:this.uuid}})},handleModalClosed:function(e){this.clearModalForm(e),this.$router.push({name:"GroupApplication",params:{uuid:this.uuid}})},clearModalForm:function(){"function"===typeof this.$refs.modalView.clearForm&&this.$refs.modalView.clearForm()},updateLastSavedAt:function(){this.saving=!1,this.lastSavedAt=new Date}},beforeUnmount:function(){this.$store.commit("groups/clearCurrentItem")},beforeRouteLeave:function(){if(this.$refs.application.applicationIsDirty()){var e=window.confirm("You have unsaved changes. If you continue your changes may be lost.");if(!e)return!1}}};n("15e0");const ot=ue()(rt,[["render",v],["__scopeId","data-v-90773ede"]]);t["default"]=ot},8972:function(e,t,n){},9235:function(e,t,n){},a75a:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var r=n("5530"),o=n("1da1"),a=(n("96cf"),n("7a23")),i=n("033d"),c=n("f96b"),s=Object(a["ref"])({}),u=Object(a["ref"])(!1),l=function(){u.value=!1,s.value={}},p=function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.method,o=t.url,a=t.data,e.prev=1,e.next=4,Object(c["a"])({method:n,url:o,data:a}).then((function(e){return e.data.data}));case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e["catch"](1),Object(i["a"])(e.t0)&&(s.value=Object(r["a"])(Object(r["a"])({},s),e.t0.response.data.errors));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){s.value={}};t["a"]=function(){return{errors:s,editing:u,hideForm:l,submitFormData:p,resetErrors:d}}},abba:function(e,t,n){"use strict";var r=n("7a23"),o=Object(r["createElementVNode"])("div",{class:"font-bold text-lg mb-4"}," COMING SOON: Summary of CSpec specfications display here. ",-1),a=["disabled"],i=Object(r["createTextVNode"])(" Go to the CSpec Registry ");function c(e,t,n,c,s,u){var l=Object(r["resolveComponent"])("icon-external-link");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[o,Object(r["createElementVNode"])("button",{onClick:t[0]||(t[0]=function(){return u.goToCspec&&u.goToCspec.apply(u,arguments)}),class:"btn btn-xl blue",target:"cspec",disabled:n.readonly},[i,Object(r["createVNode"])(l,{class:"inline"})],8,a)])}n("a9e3");var s={name:"Cspec Summary",props:{readonly:{type:Boolean,default:!1}},data:function(){return{sort:{field:"id",desc:!1},specFields:[{name:"gene_symbol",type:String,sortable:!0},{name:"disease_name",type:String,sortable:!0},{name:"status.name",label:"Status",type:String,sortable:!0},{name:"updated_at",label:"Last Updated",type:Date,sortable:!0},{name:"id",label:"",type:Number,sortable:!1}]}},computed:{group:function(){return this.$store.getters["groups/currentItemOrNew"]},hasSpecifications:function(){return!0},specifications:function(){return this.group.expert_panel.specifications}},watch:{group:function(e){this.$store.dispatch("groups/getSpecifications",e)}},methods:{goToCspec:function(){window.location="https://cspec.genome.network/"}},mounted:function(){this.$store.dispatch("groups/getSpecifications",this.group)}},u=n("6b0d"),l=n.n(u);const p=l()(s,[["render",c]]);t["a"]=p},b346:function(e,t,n){"use strict";n("9235")},c239:function(e,t,n){},c4fe:function(e,t,n){"use strict";n("c239")},cd1c:function(e,t,n){"use strict";n("eb21")},d94d:function(e,t,n){"use strict";n("e4ee")},e4ee:function(e,t,n){},eb21:function(e,t,n){},ec0d:function(e,t,n){"use strict";var r=n("7a23"),o=function(e){return Object(r["pushScopeId"])("data-v-16f93278"),e=e(),Object(r["popScopeId"])(),e},a={class:"text-sm"},i=o((function(){return Object(r["createElementVNode"])("tr",null,[Object(r["createElementVNode"])("th",{colspan:"2"}," "),Object(r["createElementVNode"])("th",{colspan:"1",colgroup:"biocurator"}," "),Object(r["createElementVNode"])("th",{colspan:"2",colgroup:"biocurator",class:"text-center"},"Training"),Object(r["createElementVNode"])("th",{colspan:"2"}," ")],-1)})),c=o((function(){return Object(r["createElementVNode"])("th",null,"First Name",-1)})),s=o((function(){return Object(r["createElementVNode"])("th",null,"Last Name",-1)})),u=o((function(){return Object(r["createElementVNode"])("th",{colgroup:"biocurator",class:"w-24"},"Biocurator",-1)})),l=o((function(){return Object(r["createElementVNode"])("th",{colgroup:"biocurator",class:"w-20"},"Level 1",-1)})),p=o((function(){return Object(r["createElementVNode"])("th",{colgroup:"biocurator",class:"w-20"},"Level 2",-1)})),d=o((function(){return Object(r["createElementVNode"])("th",null,"Biocurator Trainer",-1)})),m=Object(r["createTextVNode"])(" Core Approval Member ");function b(e,t,n,o,b,h){var f=Object(r["resolveComponent"])("icon-info"),O=Object(r["resolveComponent"])("popover"),g=Object(r["resolveComponent"])("member-designation-row");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[Object(r["createElementVNode"])("table",a,[Object(r["createElementVNode"])("thead",null,[i,Object(r["createElementVNode"])("tr",null,[c,s,u,l,p,d,Object(r["createElementVNode"])("th",null,[m,Object(r["createVNode"])(O,{arrow:"",content:"Core approval members are responsible for ongoing final approval of variant classifications.",hover:""},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(f,{class:"inline-block cursor-pointer",width:16,height:16})]})),_:1})])])]),Object(r["createElementVNode"])("tbody",null,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(h.group.members,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])(g,{member:e,key:e.id,ref_for:!0,ref:"memberRow".concat(e.id),readonly:n.readonly,onUpdated:h.handleMemberUpdate},null,8,["member","readonly","onUpdated"])})),128))])])])}var h=n("1da1"),f=(n("96cf"),{colgroup:"biocurator"}),O=["disabled"],g={colgroup:"biocurator"},j=["disabled"],v={colgroup:"biocurator"},y=["disabled"],w=["disabled"],C=["disabled"];function V(e,t,n,o,a,i){return Object(r["openBlock"])(),Object(r["createElementBlock"])("tr",null,[Object(r["createElementVNode"])("td",null,Object(r["toDisplayString"])(a.workingCopy.person.first_name),1),Object(r["createElementVNode"])("td",null,Object(r["toDisplayString"])(a.workingCopy.person.last_name),1),Object(r["createElementVNode"])("td",f,[Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=function(e){return i.biocurator=e}),disabled:!i.canEdit,onInput:t[1]||(t[1]=function(){return e.debounceSave&&e.debounceSave.apply(e,arguments)})},null,40,O),[[r["vModelCheckbox"],i.biocurator]])]),Object(r["createElementVNode"])("td",g,[Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.workingCopy.training_level_1=e}),disabled:!i.canEdit,onInput:t[3]||(t[3]=function(){return e.debounceSave&&e.debounceSave.apply(e,arguments)})},null,40,j),[[r["vModelCheckbox"],a.workingCopy.training_level_1]])]),Object(r["createElementVNode"])("td",v,[Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=function(e){return a.workingCopy.training_level_2=e}),disabled:!i.canEdit,onInput:t[5]||(t[5]=function(){return e.debounceSave&&e.debounceSave.apply(e,arguments)})},null,40,y),[[r["vModelCheckbox"],a.workingCopy.training_level_2]])]),Object(r["createElementVNode"])("td",null,[Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=function(e){return i.biocuratorTrainer=e}),disabled:!i.canEdit,onInput:t[7]||(t[7]=function(){return e.debounceSave&&e.debounceSave.apply(e,arguments)})},null,40,w),[[r["vModelCheckbox"],i.biocuratorTrainer]])]),Object(r["createElementVNode"])("td",null,[Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{type:"checkbox","onUpdate:modelValue":t[8]||(t[8]=function(e){return i.coreApprovalMember=e}),disabled:!i.canEdit,onInput:t[9]||(t[9]=function(){return e.debounceSave&&e.debounceSave.apply(e,arguments)})},null,40,C),[[r["vModelCheckbox"],i.coreApprovalMember]])])])}var k=n("86ed"),N=n("2ef0"),x={name:"ComponentName",props:{member:{type:k["a"],required:!0},readonly:{type:Boolean,required:!1,default:!1}},emits:["updated"],data:function(){return{workingCopy:new k["a"]}},computed:{group:function(){return this.$store.getters["groups/currentItemOrNew"]},biocurator:{get:function(){return this.workingCopy.hasRole("biocurator")},set:function(e){this.toggleRole(e,"biocurator")}},biocuratorTrainer:{get:function(){return this.workingCopy.hasRole("biocurator-trainer")},set:function(e){this.toggleRole(e,"biocurator-trainer")}},coreApprovalMember:{get:function(){return this.workingCopy.hasRole("core-approval-member")},set:function(e){this.toggleRole(e,"core-approval-member")}},canEdit:function(){return this.hasAnyPermission(["ep-applications-manage",["application-edit",this.group]])&&!this.readonly}},watch:{member:{immediate:!0,handler:function(e){this.syncWorkingCopy(e)}}},methods:{initWorkingCopy:function(){this.workingCopy=new k["a"]},syncWorkingCopy:function(e){e.id&&(this.workingCopy=e.clone())},toggleRole:function(e,t){e?this.workingCopy.addRole(t):this.workingCopy.removeRole(t)},save:function(){var e=[];return e.push(this.updateTrainingInfo()),e.push(this.syncRoles()),e},updateTrainingInfo:function(){if(this.workingCopy.isDirty("training_level_1")||this.workingCopy.isDirty("training_level_2"))return this.$store.dispatch("groups/memberUpdate",{groupUuid:this.group.uuid,memberId:this.workingCopy.id,data:{training_level_1:this.workingCopy.training_level_1,training_level_2:this.workingCopy.training_level_2}})},syncRoles:function(){if(this.workingCopy.isDirty("roles"))return this.$store.dispatch("groups/memberSyncRoles",{group:this.group,member:this.workingCopy})},emitUpdated:function(){this.$emit("updated",this.workingCopy)}},created:function(){var e=this;this.debounceSave=Object(N["debounce"])((function(){e.save()}),1e3)}},_=(n("cd1c"),n("6b0d")),S=n.n(_);const E=S()(x,[["render",V],["__scopeId","data-v-42410892"]]);var B=E,D={name:"MemberDesignationForm",components:{MemberDesignationRow:B},props:{readonly:{type:Boolean,required:!1,default:!1}},computed:{group:{get:function(){return this.$store.getters["groups/currentItemOrNew"]}},canEdit:function(){return this.hasAnyPermission(["ep-applications-manage",["application-edit",this.group]])&&!this.readonly}},watch:{group:{immediate:!0,handler:function(e,t){var n=this;return Object(h["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:!e.id||t&&e.id==t.id||n.$store.dispatch("groups/getMembers",n.group);case 1:case"end":return r.stop()}}),r)})))()}}},methods:{getMembers:function(){this.$store.dispatch("groups/getMembers",{group:this.group})},handleMemberUpdate:function(){this.$emit("updated")}}};n("b346");const U=S()(D,[["render",b],["__scopeId","data-v-16f93278"]]);t["a"]=U},ed3e:function(e,t,n){"use strict";n("8972")}}]);
//# sourceMappingURL=group-application.638a1b6f.js.map