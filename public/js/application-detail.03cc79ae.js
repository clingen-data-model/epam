(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["application-detail"],{"033d":function(e,t,n){"use strict";t["a"]=function(e){return e.response&&422==e.response.status&&e.response.data.errors}},"0bd6":function(e,t,n){},"0cb2":function(e,t,n){var a=n("7b0b"),r=Math.floor,c="".replace,o=/\$([$&'`]|\d\d?|<[^>]*>)/g,i=/\$([$&'`]|\d\d?)/g;e.exports=function(e,t,n,l,u,s){var p=n+e.length,d=l.length,b=i;return void 0!==u&&(u=a(u),b=o),c.call(s,b,(function(a,c){var o;switch(c.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(p);case"<":o=u[c.slice(1,-1)];break;default:var i=+c;if(0===i)return a;if(i>d){var s=r(i/10);return 0===s?a:s<=d?void 0===l[s-1]?c.charAt(1):l[s-1]+c.charAt(1):a}o=l[i-1]}return void 0===o?"":o}))}},"12ac":function(e,t,n){"use strict";n.r(t);n("99af"),n("b0c0");var a=n("7a23"),r={class:"flex space-x-2"},c=Object(a["g"])("Add Next Action"),o=Object(a["g"])("Add Log Entry");function i(e,t,n,i,l,u){var s=this,p=Object(a["z"])("router-link"),d=Object(a["z"])("next-action-banner"),b=Object(a["z"])("ep-attributes-form"),f=Object(a["z"])("progress-chart"),m=Object(a["z"])("step-tabs"),h=Object(a["z"])("tab-item"),O=Object(a["z"])("application-log"),j=Object(a["z"])("tabs-container"),v=Object(a["z"])("card"),w=Object(a["z"])("router-view"),g=Object(a["z"])("modal-dialog");return Object(a["r"])(),Object(a["e"])("div",null,[Object(a["h"])(v,{title:"".concat(e.application.name," - Current Step: ").concat(e.application.current_step)},{"header-right":Object(a["K"])((function(){return[Object(a["h"])("div",r,[Object(a["h"])(p,{to:{name:"NextAction"},class:"btn btn-sm"},{default:Object(a["K"])((function(){return[c]})),_:1}),Object(a["h"])(p,{to:{name:"LogEntry"},class:"btn btn-sm"},{default:Object(a["K"])((function(){return[o]})),_:1})])]})),default:Object(a["K"])((function(){return[u.hasPendingNextAction?(Object(a["r"])(),Object(a["e"])(d,{key:0,application:e.application,"next-action":e.application.latest_pending_next_action},null,8,["application","next-action"])):Object(a["f"])("",!0),Object(a["h"])(b,{application:e.application},null,8,["application"]),Object(a["h"])(f,{application:e.application,class:"py-4 border-t border-b border-gray-300 my-6"},null,8,["application"]),Object(a["h"])(j,null,{default:Object(a["K"])((function(){return[Object(a["h"])(h,{label:"Application"},{default:Object(a["K"])((function(){return[Object(a["h"])(m,{application:e.application},null,8,["application"])]})),_:1}),Object(a["h"])(h,{label:"Application Log"},{default:Object(a["K"])((function(){return[Object(a["h"])(O,{uuid:e.application.uuid},null,8,["uuid"])]})),_:1}),Object(a["h"])(h,{label:"Dev Tools"},{default:Object(a["K"])((function(){return[Object(a["h"])("pre",null,Object(a["C"])(s.application),1)]})),_:1})]})),_:1})]})),_:1},8,["title"]),Object(a["h"])(g,{modelValue:l.showModal,"onUpdate:modelValue":t[1]||(t[1]=function(e){return l.showModal=e}),onClosed:u.handleModalClosed},{default:Object(a["K"])((function(){return[Object(a["h"])(w,{ref:"modalView",onSaved:u.hideModal,onCanceled:u.hideModal},null,8,["onSaved","onCanceled"])]})),_:1},8,["modelValue","onClosed"])])}n("ac1f"),n("5319");var l=n("5530"),u=n("5502"),s={key:0,class:"px-3 py-2 rounded border border-gray-300 text-gray-500 bg-gray-200"};function p(e,t,n,r,c,o){var i=Object(a["z"])("data-table");return Object(a["r"])(),Object(a["e"])("div",null,[o.hasLogEntries?(Object(a["r"])(),Object(a["e"])(i,{key:1,fields:c.fields,data:o.filteredLogEntries,sort:c.sort,"onUpdate:sort":t[1]||(t[1]=function(e){return c.sort=e})},null,8,["fields","data","sort"])):(Object(a["r"])(),Object(a["e"])("div",s,Object(a["C"])(o.noResultsMessage),1))])}n("4de4"),n("a9e3"),n("96cf");var d=n("1da1"),b=[{name:"created_at",label:"Created",sortName:"created_at",sortable:!0,type:Date},{name:"description",label:"Entry",sortable:!0,type:String},{name:"causer.name",label:"User",sortable:!0}],f={props:{step:{required:!1,type:Number}},data:function(){return{fields:b,logEntries:[],sort:{field:"created_at",desc:!0}}},computed:Object(l["a"])(Object(l["a"])({},Object(u["b"])({application:"applications/currentItem"})),{},{hasLogEntries:function(){return this.filteredLogEntries.length>0},filteredLogEntries:function(){var e=this;return this.application&&this.application.log_entries&&this.step?this.application.log_entries.filter((function(t){return t.properties.step==e.step})):this.application&&this.application.log_entries?this.application.log_entries:[]},noResultsMessage:function(){return"number"==typeof this.step?"No progress log entries have been entered for step ".concat(this.step):"There are no log entries for this application"}}),methods:{getLogEntries:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("applications/getApplication",e.application.uuid);case 2:case"end":return t.stop()}}),t)})))()}},mounted:function(){}};f.render=p;var m=f,h={class:"py-1 flex space-x-2"};function O(e,t,n,r,c,o){var i=Object(a["z"])("input-row"),l=Object(a["z"])("application-contacts");return Object(a["r"])(),Object(a["e"])("div",null,[Object(a["h"])(i,{label:"Long Base Name",modelValue:c.appClone.long_base_name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.appClone.long_base_name=e}),placeholder:"Long base name",errors:c.errors.long_base_name},null,8,["modelValue","errors"]),Object(a["h"])(i,{label:"Short Base Name",modelValue:c.appClone.short_base_name,"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.appClone.short_base_name=e}),placeholder:"Short base name",errors:c.errors.short_base_name},null,8,["modelValue","errors"]),Object(a["h"])(i,{label:"Affiliation ID",modelValue:c.appClone.affiliation_id,"onUpdate:modelValue":t[3]||(t[3]=function(e){return c.appClone.affiliation_id=e}),placeholder:o.affiliationIdPlaceholder,errors:c.errors.affiliation_id},null,8,["modelValue","placeholder","errors"]),Object(a["h"])(i,{label:"CDWG",errors:c.errors.cdwg_id},{default:Object(a["K"])((function(){return[Object(a["L"])(Object(a["h"])("select",{name:"",id:"","onUpdate:modelValue":t[4]||(t[4]=function(e){return c.appClone.cdwg_id=e})},[(Object(a["r"])(!0),Object(a["e"])(a["a"],null,Object(a["x"])(o.cdwgs,(function(e){return Object(a["r"])(),Object(a["e"])("option",{value:e.id,key:e.id},Object(a["C"])(e.name),9,["value"])})),128))],512),[[a["G"],c.appClone.cdwg_id]])]})),_:1},8,["errors"]),Object(a["h"])(i,{label:"Contacts"},{default:Object(a["K"])((function(){return[Object(a["h"])(l)]})),_:1}),Object(a["h"])(i,{label:"Expert Panel URL"},{default:Object(a["K"])((function(){return[Object(a["h"])("div",{class:{"text-gray-400":!o.hasAffiliationId}},Object(a["C"])(o.affiliationUrl),3)]})),_:1}),Object(a["h"])("div",h,[Object(a["h"])("button",{class:"btn white btn-xs",onClick:t[5]||(t[5]=function(){return o.resetClone&&o.resetClone.apply(o,arguments)}),disabled:o.isClean},"Reset",8,["disabled"]),Object(a["h"])("button",{class:"btn blue btn-xs",onClick:t[6]||(t[6]=function(){return o.saveChanges&&o.saveChanges.apply(o,arguments)}),disabled:o.isClean},"Save Changes",8,["disabled"])])])}var j={class:"align-baseline"};function v(e,t,n,r,c,o){var i=Object(a["z"])("contact-row"),l=Object(a["z"])("new-contact-form"),u=Object(a["z"])("modal-dialog");return Object(a["r"])(),Object(a["e"])("div",null,[(Object(a["r"])(!0),Object(a["e"])(a["a"],null,Object(a["x"])(e.application.contacts,(function(e){return Object(a["r"])(),Object(a["e"])(i,{key:e.id,contact:e},null,8,["contact"])})),128)),Object(a["h"])("div",j,[Object(a["h"])("button",{class:"btn btn-xs",onClick:t[1]||(t[1]=function(e){return c.showForm=!0})}," Add Contact ")]),Object(a["h"])(u,{modelValue:c.showForm,"onUpdate:modelValue":t[3]||(t[3]=function(e){return c.showForm=e})},{default:Object(a["K"])((function(){return[Object(a["h"])(l,{onDone:t[2]||(t[2]=function(e){return c.showForm=!1})})]})),_:1},8,["modelValue"])])}n("a15b");var w=Object(a["h"])("h4",{class:"text-lg mb-3 border-b pb-1"},"Confirm Contact Removal",-1),g={class:"mb-2"},y=Object(a["g"])(" You are about to remove "),C=Object(a["g"])(" as a contact for this application. Do you want to continue? "),_=Object(a["h"])("small",{class:"text-gray-500"},"NOTE: This will not delete the person's record in this system.",-1),x={key:0,class:"bg-red-200 bg-text-900 border-red-900 p-2"};function D(e,t,n,r,c,o){var i=Object(a["z"])("icon-close"),l=Object(a["z"])("button-row"),u=Object(a["z"])("modal-dialog");return Object(a["r"])(),Object(a["e"])("div",null,[Object(a["g"])(Object(a["C"])(n.contact.name)+" - ",1),Object(a["h"])("a",{class:"text-blue-500 underline",href:"mailto:".concat(n.contact.email)},Object(a["C"])(n.contact.email),9,["href"]),Object(a["g"])(" - "+Object(a["C"])(n.contact.phone)+" ",1),Object(a["h"])("button",{class:"btn-delete",onClick:t[1]||(t[1]=function(){return o.confirmRemove&&o.confirmRemove.apply(o,arguments)})},[Object(a["h"])(i,{height:8,width:8})]),Object(a["h"])(u,{modelValue:c.showRemoveConfirmation,"onUpdate:modelValue":t[4]||(t[4]=function(e){return c.showRemoveConfirmation=e})},{default:Object(a["K"])((function(){return[w,Object(a["h"])("p",g,[y,Object(a["h"])("strong",null,Object(a["C"])(n.contact.name),1),C]),_,c.errors?(Object(a["r"])(),Object(a["e"])("ul",x,[(Object(a["r"])(!0),Object(a["e"])(a["a"],null,Object(a["x"])(c.errors,(function(e,t){return Object(a["r"])(),Object(a["e"])("li",{key:t},Object(a["C"])(t)+": "+Object(a["C"])(e.join(", ")),1)})),128))])):Object(a["f"])("",!0),Object(a["h"])(l,null,{default:Object(a["K"])((function(){return[Object(a["h"])("div",{class:"btn",onClick:t[2]||(t[2]=function(){return o.cancel&&o.cancel.apply(o,arguments)})},"Cancel"),Object(a["h"])("div",{class:"btn blue",onClick:t[3]||(t[3]=function(){return o.save&&o.save.apply(o,arguments)})},"Yes, remove contact")]})),_:1})]})),_:1},8,["modelValue"])])}var k=n("033d"),A=Object(a["h"])("g",null,[Object(a["h"])("path",{d:"M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z"})],-1);function R(e,t,n,r,c,o){var i=Object(a["z"])("icon-base");return Object(a["r"])(),Object(a["e"])(i,null,{default:Object(a["K"])((function(){return[A]})),_:1})}var S={};S.render=R;var F=S,V={components:{IconClose:F},props:{contact:{type:Object,required:!0}},emits:["saved","canceled","done","deleted"],data:function(){return{showRemoveConfirmation:!1,errors:null}},computed:Object(l["a"])({},Object(u["b"])({application:"applications/currentItem"})),methods:{confirmRemove:function(){this.showRemoveConfirmation=!0},cancel:function(){this.showRemoveConfirmation=!1,this.$emit("canceled"),this.$emit("done")},save:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("applications/removeContact",{application:e.application,contact:e.contact});case 3:e.showRemoveConfirmation=!1,e.$emit("saved"),e.$emit("deleted"),e.$emit("done"),t.next=15;break;case 9:if(t.prev=9,t.t0=t["catch"](0),!Object(k["a"])(t.t0)){t.next=14;break}return alert(t.t0.response.data.errors),t.abrupt("return");case 14:throw t.t0;case 15:case"end":return t.stop()}}),t,null,[[0,9]])})))()}}};n("2d1d");V.render=D;var z=V,$=Object(a["h"])("h4",{class:"text-lg"},"Add a contact",-1),K={class:"flex space-x-4"},I={class:"flex-1"},U={key:0,class:"pt-2 border-l pl-2 flex-1"},M=Object(a["h"])("h5",{class:"font-bold border-b mb-1 pb-1"},"Matching people",-1),E={key:1,class:"text-xs"};function T(e,t,n,r,c,o){var i=Object(a["z"])("input-row"),l=Object(a["z"])("button-row");return Object(a["r"])(),Object(a["e"])("div",null,[$,Object(a["h"])("div",K,[Object(a["h"])("div",I,[Object(a["h"])(i,{type:"text",modelValue:c.newContact.email,"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.newContact.email=e}),errors:c.errors.email,placeholder:"elenor@medplace.com",label:"Email"},null,8,["modelValue","errors"]),Object(a["h"])(i,{type:"text",modelValue:c.newContact.first_name,"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.newContact.first_name=e}),errors:c.errors.first_name,placeholder:"Elenor",label:"First name"},null,8,["modelValue","errors"]),Object(a["h"])(i,{type:"text",modelValue:c.newContact.last_name,"onUpdate:modelValue":t[3]||(t[3]=function(e){return c.newContact.last_name=e}),errors:c.errors.last_name,placeholder:"Shelstrop",label:"Last name"},null,8,["modelValue","errors"]),Object(a["h"])(i,{type:"text",modelValue:c.newContact.phone,"onUpdate:modelValue":t[4]||(t[4]=function(e){return c.newContact.phone=e}),errors:c.errors.phone,placeholder:"1-555-867-5309",label:"Phone"},null,8,["modelValue","errors"]),Object(a["h"])(l,null,{default:Object(a["K"])((function(){return[Object(a["h"])("button",{class:"btn",onClick:t[5]||(t[5]=function(){return o.cancel&&o.cancel.apply(o,arguments)})},"Cancel"),Object(a["h"])("button",{class:"btn blue",onClick:t[6]||(t[6]=function(){return o.save&&o.save.apply(o,arguments)})},"Save")]})),_:1})]),Object(a["h"])(a["b"],{name:"slide-fade"},{default:Object(a["K"])((function(){return[o.suggestedPeople.length>0?(Object(a["r"])(),Object(a["e"])("div",U,[M,Object(a["h"])("ul",null,[(Object(a["r"])(!0),Object(a["e"])(a["a"],null,Object(a["x"])(o.suggestedPeople,(function(e){return Object(a["r"])(),Object(a["e"])("li",{key:e.uuid,class:["flex justify-between my-2",{"text-gray-400":o.isAlreadyContact(e)}],title:o.isAlreadyContact(e)?"This person is already a contact for this application":""},[Object(a["g"])(Object(a["C"])(e.name)+" ",1),o.isAlreadyContact(e)?(Object(a["r"])(),Object(a["e"])("span",E,"Already a contact")):(Object(a["r"])(),Object(a["e"])("button",{key:0,class:"btn btn-xs",onClick:function(t){return o.addExistingPersonAsContact(e)}}," Add as contact ",8,["onClick"]))],10,["title"])})),128))])])):Object(a["f"])("",!0)]})),_:1})])])}n("caad"),n("d81d"),n("2532");var L=n("ec26"),N={props:{},data:function(){return{createNew:!1,newContact:{first_name:null,last_name:null,email:null,phone:null,role:null,uuid:null},errors:{}}},emits:["canceled","saved","done"],computed:Object(l["a"])(Object(l["a"])({},Object(u["b"])({application:"applications/currentItem",people:"people/all"})),{},{suggestedPeople:function(){var e=this;return this.newContact.email?this.people.filter((function(t){return t.email.includes(e.newContact.email)})):[]}}),methods:{clearForm:function(){this.newContact={first_name:null,last_name:null,email:null,phone:null,role:null,uuid:null}},clearErrors:function(){this.errors={}},cancel:function(){this.clearForm(),this.$emit("canceled"),this.$emit("done")},save:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.clearErrors(),t.prev=1,n=Object(l["a"])({},e.newContact),n.uuid=Object(L["a"])(),t.next=6,e.$store.dispatch("people/createPerson",n);case 6:return a=e.$store.getters["people/personWithUuid"],t.next=9,e.$store.dispatch("applications/addContact",{application:e.application,contact:a(n.uuid)});case 9:e.clearForm(),e.$emit("saved"),e.$emit("done"),t.next=20;break;case 14:if(t.prev=14,t.t0=t["catch"](1),!Object(k["a"])(t.t0)){t.next=19;break}return e.errors=t.t0.response.data.errors,t.abrupt("return");case 19:throw t.t0;case 20:case"end":return t.stop()}}),t,null,[[1,14]])})))()},addExistingPersonAsContact:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:n.prev=0,t.$store.dispatch("applications/addContact",{application:t.application,contact:e}),t.clearForm(),t.$emit("saved"),t.$emit("done"),n.next=13;break;case 7:if(n.prev=7,n.t0=n["catch"](0),!Object(k["a"])(n.t0)){n.next=12;break}return t.errors=n.t0.response.data.errors,n.abrupt("return");case 12:throw n.t0;case 13:case"end":return n.stop()}}),n,null,[[0,7]])})))()},isAlreadyContact:function(e){return this.application.contacts.map((function(e){return e.id})).includes(e.id)}},mounted:function(){this.$store.dispatch("people/getAll",{})}};N.render=T;var P=N,q={components:{ContactRow:z,NewContactForm:P},props:{},data:function(){return{showForm:!1,errors:{}}},computed:Object(l["a"])({},Object(u["b"])({application:"applications/currentItem"})),methods:{}};q.render=v;var B=q,G={components:{ApplicationContacts:B},props:{application:{required:!0,type:Object}},data:function(){return{appClone:this.application.clone(),errors:{}}},watch:{application:{immediate:!0,handler:function(){this.appClone=this.application.clone()}}},computed:{affiliationUrl:function(){return"https://clinicalgenome.org/affiliation/".concat(this.appClone.affiliation_id||this.affiliationIdPlaceholder)},affiliationIdPlaceholder:function(){return this.application&&1==this.application.ep_type_id?"4000XX":"5000XX"},cdwgs:function(){return this.$store.state.cdwgs.items},hasAffiliationId:function(){return Boolean(this.appClone.affiliation_id)},hasChanges:function(){var e=["long_base_name","short_base_name","cdwg_id","affiliation_id"];for(var t in e){var n=e[t];if((null!=this.application[n]||""!=this.appClone[n])&&this.application[n]!=this.appClone[n])return!0}return!1},isClean:function(){return!this.hasChanges}},methods:{saveChanges:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.clearErrors(),t.next=4,e.$store.dispatch("applications/updateEpAttributes",e.appClone);case 4:t.next=12;break;case 6:if(t.prev=6,t.t0=t["catch"](0),!t.t0.response||422!=t.t0.response.status||!t.t0.response.data.errors){t.next=11;break}return e.errors=t.t0.response.data.errors,t.abrupt("return");case 11:throw t.t0;case 12:case"end":return t.stop()}}),t,null,[[0,6]])})))()},resetClone:function(){this.appClone=this.application.clone()},clearErrors:function(){this.errors={}}},mounted:function(){this.$store.dispatch("cdwgs/getAll")}};G.render=O;var X=G,Y={class:"px-2 py-2 pl-3 bg-blue-200 rounded flex justify-between text-blue-800"},J={class:"leading-6"},W=Object(a["h"])("strong",null,"Next Action:",-1),H=Object(a["h"])("h4",{class:"text-lg"},"Complete next action",-1);function Q(e,t,n,r,c,o){var i=Object(a["z"])("object-dict"),l=Object(a["z"])("input-row"),u=Object(a["z"])("button-row"),s=Object(a["z"])("modal-dialog");return Object(a["r"])(),Object(a["e"])("div",null,[Object(a["h"])("div",Y,[Object(a["h"])("div",J,[W,Object(a["g"])(" "+Object(a["C"])(n.nextAction.entry),1)]),Object(a["h"])("button",{class:"btn blue btn-xs",onClick:t[1]||(t[1]=function(e){return c.showModal=!0})},"Mark completed")]),Object(a["h"])(s,{modelValue:c.showModal,"onUpdate:modelValue":t[5]||(t[5]=function(e){return c.showModal=e})},{default:Object(a["K"])((function(){return[H,Object(a["h"])(i,{obj:n.nextAction,show:["date_created","entry","step","target_date"],dates:["target_date","date_created"]},null,8,["obj"]),Object(a["h"])(l,{label:"Date Completed",modelValue:c.dateCompleted,"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.dateCompleted=e}),type:"date",errors:c.errors.date_completed},null,8,["modelValue","errors"]),Object(a["h"])(u,null,{default:Object(a["K"])((function(){return[Object(a["h"])("button",{class:"btn white",onClick:t[3]||(t[3]=function(){return o.cancel&&o.cancel.apply(o,arguments)})},"Cancel"),Object(a["h"])("button",{class:"btn blue",onClick:t[4]||(t[4]=function(){return o.markComplete&&o.markComplete.apply(o,arguments)})},"Mark Complete")]})),_:1})]})),_:1},8,["modelValue"])])}var Z={props:{application:{type:Object,required:!0},nextAction:{type:Object,required:!0}},data:function(){return{showModal:!1,dateCompleted:null,errors:{}}},methods:{clearForm:function(){this.dateCompleted=null},markComplete:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("applications/completeNextAction",{application:e.application,nextAction:e.nextAction,dateCompleted:e.dateCompleted});case 2:e.clearForm(),e.$emit("completed"),e.showModal=!1;case 5:case"end":return t.stop()}}),t)})))()},cancel:function(){this.clearForm(),this.showModal=!1,this.$emit("canceled")}}};Z.render=Q;var ee=Z,te=Object(a["O"])("data-v-6fa46a3a");Object(a["u"])("data-v-6fa46a3a");var ne=Object(a["h"])("h4",{class:"pb-2"},"EP Progress",-1),ae={class:"flex flex-row space-x-1"};Object(a["s"])();var re=te((function(e,t,n,r,c,o){var i=Object(a["z"])("progress-step");return Object(a["r"])(),Object(a["e"])("div",null,[ne,Object(a["h"])("div",ae,[(Object(a["r"])(!0),Object(a["e"])(a["a"],null,Object(a["x"])(o.steps,(function(e){return Object(a["r"])(),Object(a["e"])(i,{key:e,step:e,application:n.application},null,8,["step","application"])})),128))])])})),ce={class:"flex-1"},oe={class:"flex flex-row-reverse justify-between bg-transparent mt-1"},ie={key:0};function le(e,t,n,r,c,o){return Object(a["r"])(),Object(a["e"])("div",ce,[Object(a["h"])("div",{class:["progress-step",o.displayClass]},null,2),Object(a["h"])("div",oe,[Object(a["h"])("div",{class:{"-mr-10":!o.isLastStep}},Object(a["C"])(o.approvalDate),3),o.isFirstStep?(Object(a["r"])(),Object(a["e"])("div",ie,Object(a["C"])(o.dateInitiated),1)):Object(a["f"])("",!0)])])}var ue=n("e328"),se={props:{step:{type:Number,required:!0},application:{type:Object,required:!0}},data:function(){return{}},computed:{dateInitiated:function(){return Object(ue["a"])(this.application.date_initiated)},approvalDate:function(){return this.application.approval_dates&&this.application.approval_dates["step "+this.step]?Object(ue["a"])(this.application.approval_dates["step "+this.step]):" "},displayClass:function(){var e=[];return this.isApproved?e.push("approved"):this.isCurrentStep&&e.push("active"),this.isFirstStep&&e.push("rounded-l"),this.isLastStep&&e.push("rounded-r"),e.join(" ")},isCurrentStep:function(){return this.application.current_step==this.step},isApproved:function(){return this.application.approval_dates&&"undefined"!=typeof this.application.approval_dates["step ".concat(this.step)]},isFirstStep:function(){return 1==this.step},isLastStep:function(){var e=1==this.application.ep_type_id?1:4;return this.step==e}},methods:{}};n("fc85");se.render=le;var pe=se,de={components:{ProgressStep:pe},props:{application:{required:!0,type:Object}},computed:{steps:function(){return 2==this.application.ep_type_id?[1,2,3,4]:[1]}}};n("6dbc");de.render=re,de.__scopeId="data-v-6fa46a3a";var be=de,fe={key:0};function me(e,t,n,r,c,o){var i=Object(a["z"])("step-one"),l=Object(a["z"])("tab-item"),u=Object(a["z"])("step-two"),s=Object(a["z"])("step-three"),p=Object(a["z"])("step-four"),d=Object(a["z"])("tabs-container");return Object(a["r"])(),Object(a["e"])("div",null,[1==this.application.ep_type_id?(Object(a["r"])(),Object(a["e"])("div",fe,[Object(a["h"])(i)])):Object(a["f"])("",!0),2==this.application.ep_type_id?(Object(a["r"])(),Object(a["e"])(d,{key:1,"tab-location":"right",modelValue:o.activeIndex,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.activeIndex=e})},{default:Object(a["K"])((function(){return[Object(a["h"])(l,{label:"Step 1 - Define"},{default:Object(a["K"])((function(){return[Object(a["h"])(i)]})),_:1}),Object(a["h"])(l,{label:"Step 2 - Draft Rules"},{default:Object(a["K"])((function(){return[Object(a["h"])(u)]})),_:1}),Object(a["h"])(l,{label:"Step 3 - Pilot Rules"},{default:Object(a["K"])((function(){return[Object(a["h"])(s)]})),_:1}),Object(a["h"])(l,{label:"Step 4 - Final Approval"},{default:Object(a["K"])((function(){return[Object(a["h"])(p)]})),_:1})]})),_:1},8,["modelValue"])):Object(a["f"])("",!0)])}function he(e,t,n,r,c,o){var i=Object(a["z"])("coi-log"),l=Object(a["z"])("base-step");return Object(a["r"])(),Object(a["e"])(l,{step:1,"document-name":"Scope and Membership Application","document-type":1,"document-gets-reviewed":!0,"approve-button-label":"Approve Scope and Membership"},{default:Object(a["K"])((function(){return[Object(a["h"])(i,{class:"mb-6",application:e.application},null,8,["application"])]})),_:1})}var Oe={class:"mb-6"},je={class:"text-lg font-bold mb-1"},ve={key:1,class:"pb-3 border-b"},we={href:"",class:"text-blue-500 underline"},ge={key:0,class:"border border-l-0 border-r-0 py-4 mb-6"},ye={class:"mb-6"},Ce={class:"text-md font-bold mb-2"};function _e(e,t,n,r,c,o){var i=Object(a["z"])("document-manager"),l=Object(a["z"])("dictionary-row"),u=Object(a["z"])("approve-step-form"),s=Object(a["z"])("modal-dialog"),p=Object(a["z"])("application-log");return Object(a["r"])(),Object(a["e"])("div",null,[Object(a["y"])(e.$slots,"document",{},(function(){return[Object(a["h"])("div",Oe,[Object(a["h"])("h3",je,Object(a["C"])(n.documentName),1),e.application.stepIsApproved(n.step)?(Object(a["r"])(),Object(a["e"])("div",ve,[Object(a["h"])(l,{label:"Final Document"},{default:Object(a["K"])((function(){return[Object(a["h"])("a",we,Object(a["C"])(e.application.finalDocumentOfType(n.documentType).filename),1)]})),_:1}),Object(a["h"])(l,{label:"Date Received"},{default:Object(a["K"])((function(){return[Object(a["g"])(Object(a["C"])(o.firstDateReceived),1)]})),_:1}),Object(a["h"])(l,{label:"Date Reviewed"},{default:Object(a["K"])((function(){return[Object(a["g"])(Object(a["C"])(o.finalDateReviewed),1)]})),_:1}),Object(a["h"])(l,{label:"Date Approved"},{default:Object(a["K"])((function(){return[Object(a["g"])(Object(a["C"])(o.dateApproved),1)]})),_:1})])):(Object(a["r"])(),Object(a["e"])(i,{key:0,application:e.application,"document-type-id":n.documentType,getsReviewd:n.documentGetsReviewed,step:n.step},null,8,["application","document-type-id","getsReviewd","step"]))])]})),e.application.stepIsApproved(n.step)?Object(a["f"])("",!0):(Object(a["r"])(),Object(a["e"])("div",ge,[Object(a["h"])("button",{class:"btn btn-lg w-full",onClick:t[1]||(t[1]=function(){return o.startApproveStep&&o.startApproveStep.apply(o,arguments)}),disabled:!o.isCurrentStep,title:o.isCurrentStep?"Approve this step":"You can only approve the application's current step"},Object(a["C"])(n.approveButtonLabel),9,["disabled","title"]),Object(a["h"])(s,{modelValue:c.showApproveForm,"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.showApproveForm=e})},{default:Object(a["K"])((function(){return[Object(a["h"])(u,{onSaved:o.hideApproveForm,onCanceled:o.hideApproveForm},null,8,["onSaved","onCanceled"])]})),_:1},8,["modelValue"])])),Object(a["y"])(e.$slots,"default"),Object(a["y"])(e.$slots,"log",{},(function(){return[Object(a["h"])("div",ye,[Object(a["h"])("h4",Ce,"Step "+Object(a["C"])(n.step)+" Progress Log",1),Object(a["h"])(p,{step:n.step},null,8,["step"])])]}))])}var xe={class:"text-center"},De={key:0};function ke(e,t,n,r,c,o){var i=Object(a["z"])("data-table"),l=Object(a["z"])("document-upload-form"),u=Object(a["z"])("modal-dialog"),s=Object(a["z"])("document-reviewed-form");return Object(a["r"])(),Object(a["e"])("div",null,[Object(a["h"])("button",{class:"btn mb-2",onClick:t[1]||(t[1]=function(e){return c.showUploadForm=!0})}," Upload a new version "),o.filteredDocuments.length>0?(Object(a["r"])(),Object(a["e"])(i,{key:0,fields:o.filteredFields,data:o.filteredDocuments,sort:{field:c.fields[0].name,desc:!0}},{"cell-date_reviewed":Object(a["K"])((function(e){return[Object(a["h"])("div",xe,[e.value?(Object(a["r"])(),Object(a["e"])("span",De,Object(a["C"])(e.value),1)):(Object(a["r"])(),Object(a["e"])("button",{key:1,class:"btn btn-xs",onClick:function(t){return o.showMarkReviewed(e.item)}},"Mark reviewed",8,["onClick"]))])]})),_:1},8,["fields","data","sort"])):Object(a["f"])("",!0),Object(a["h"])(u,{modelValue:c.showUploadForm,"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.showUploadForm=e}),onClosed:t[3]||(t[3]=function(t){return e.$refs.uploadform.clearForm()})},{default:Object(a["K"])((function(){return[Object(a["h"])(l,{application:n.application,"document-type-id":n.documentTypeId,step:n.step,onCanceled:o.closeDialog,onSaved:o.closeDialog,ref:"uploadform"},null,8,["application","document-type-id","step","onCanceled","onSaved"])]})),_:1},8,["modelValue"]),Object(a["h"])(u,{modelValue:c.showReviewedForm,"onUpdate:modelValue":t[4]||(t[4]=function(e){return c.showReviewedForm=e})},{default:Object(a["K"])((function(){return[Object(a["h"])(s,{document:c.activeDocument,application:n.application,onCanceled:o.hideReviewedForm,onSaved:o.hideReviewedForm},null,8,["document","application","onCanceled","onSaved"])]})),_:1},8,["modelValue"])])}n("c740"),n("fb6a");var Ae=n("2909"),Re={class:"text-xl font-semibold pb-2 border-b mb-4"},Se={type:"file",ref:"fileInput"};function Fe(e,t,n,r,c,o){var i=Object(a["z"])("input-row"),l=Object(a["z"])("button-row");return Object(a["r"])(),Object(a["e"])("div",null,[Object(a["h"])("h4",Re,"Upload document type "+Object(a["C"])(n.documentTypeId),1),Object(a["h"])(i,{label:"Document",errors:c.errors.file},{default:Object(a["K"])((function(){return[Object(a["h"])("input",Se,null,512)]})),_:1},8,["errors"]),Object(a["h"])(i,{label:"Date Received",type:"date",modelValue:c.newDocument.date_received,"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.newDocument.date_received=e}),errors:c.errors.date_receoved},null,8,["modelValue","errors"]),Object(a["h"])(i,{label:"Date Reviewed",type:"date",modelValue:c.newDocument.date_reviewed,"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.newDocument.date_reviewed=e}),errors:c.errors.date_reviewed},null,8,["modelValue","errors"]),Object(a["h"])(l,null,{default:Object(a["K"])((function(){return[Object(a["h"])("button",{class:"btn white",onClick:t[3]||(t[3]=function(){return o.cancel&&o.cancel.apply(o,arguments)})},"Cancel"),Object(a["h"])("button",{class:"btn blue",onClick:t[4]||(t[4]=function(){return o.saveDocument&&o.saveDocument.apply(o,arguments)})},"Save")]})),_:1})])}n("4160"),n("b64b"),n("159b");var Ve={props:{application:{type:Object,required:!0},documentTypeId:{type:Number,required:!0},step:{type:Number,required:!1,default:null}},data:function(){return{newDocument:{file:null,date_received:Object(ue["a"])(new Date),date_reviewed:null,step:this.step,document_category_id:this.documentTypeId},errors:{}}},methods:{saveDocument:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n=new FormData,Object.keys(e.newDocument).forEach((function(t){var a=e.newDocument[t];null!=a&&n.append(t,a)})),n.append("file",e.$refs.fileInput.files[0]),t.next=6,e.$store.dispatch("applications/addDocument",{application:e.application,documentData:n});case 6:e.clearForm(),e.$emit("saved"),t.next=15;break;case 10:if(t.prev=10,t.t0=t["catch"](0),!Object(k["a"])(t.t0)){t.next=15;break}return e.errors=t.t0.response.data.errors,t.abrupt("return");case 15:case"end":return t.stop()}}),t,null,[[0,10]])})))()},cancel:function(){this.clearForm(),this.$emit("closed")},clearForm:function(){this.initNewDocument(),this.clearErrors()},initNewDocument:function(){this.newDocument={file:null,date_received:Object(ue["a"])(new Date),date_reviewed:null,step:this.step,document_category_id:this.documentTypeId}},clearErrors:function(){this.errors={}}}};Ve.render=Fe;var ze=Ve,$e=Object(a["h"])("h3",{class:"text-lg border-b pb-1 mb-3"},"Mark Document Reviewed",-1);function Ke(e,t,n,r,c,o){var i=Object(a["z"])("input-row"),l=Object(a["z"])("button-row");return Object(a["r"])(),Object(a["e"])("div",null,[$e,Object(a["h"])(i,{modelValue:c.dateReviewed,"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.dateReviewed=e}),label:"Date Reviewed",errors:c.errors.date_reviewed,type:"date"},null,8,["modelValue","errors"]),Object(a["h"])(l,null,{default:Object(a["K"])((function(){return[Object(a["h"])("button",{class:"btn",onClick:t[2]||(t[2]=function(){return o.cancel&&o.cancel.apply(o,arguments)})},"Cancel"),Object(a["h"])("button",{class:"btn blue",onClick:t[3]||(t[3]=function(){return o.saveDateReviewed&&o.saveDateReviewed.apply(o,arguments)})},"Mark Reviewed")]})),_:1})])}var Ie={name:"DocumentReviewForm",props:{application:{type:Object,required:!0},document:{type:Object,required:!0}},data:function(){return{dateReviewed:null,errors:{}}},computed:{},methods:{saveDateReviewed:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("applications/markDocumentReviewed",{application:e.application,document:e.document,dateReviewed:e.dateReviewed});case 3:e.clearForm(),e.$emit("saved"),t.next=12;break;case 7:if(t.prev=7,t.t0=t["catch"](0),!Object(k["a"])(t.t0)){t.next=12;break}return e.errors=t.t0.response.data.errors,t.abrupt("return");case 12:case"end":return t.stop()}}),t,null,[[0,7]])})))()},cancel:function(){this.clearForm(),this.$emit("canceled")},clearForm:function(){this.dateReviewed=null}}};Ie.render=Ke;var Ue=Ie,Me={name:"DocumentManager",components:{DocumentUploadForm:ze,DocumentReviewedForm:Ue},props:{application:{type:Object,required:!0},documentTypeId:{type:Number,required:!0},getsReviewed:{type:Boolean,required:!1,default:!0},step:{type:Number,required:!1,default:null}},data:function(){return{showUploadForm:!1,showReviewedForm:!1,activeDocument:{},fields:[{name:"version",type:Number},{name:"filename",type:String},{name:"date_received",type:Date},{name:"date_reviewed",type:Date}]}},computed:{filteredFields:function(){var e=Object(Ae["a"])(this.fields);if(!this.getsReviewed){var t=e.findIndex((function(e){return e&&"date_reviewed"==e.name}));e=e.slice(0,t)}return e},filteredDocuments:function(){var e=this;return this.application&&this.application.documents?this.application.documents.filter((function(t){return t.document_category_id==e.documentTypeId})):[]}},methods:{showMarkReviewed:function(e){this.activeDocument=e,this.showReviewedForm=!0},hideReviewedForm:function(){this.showReviewedForm=!1},closeDialog:function(){this.showUploadForm=!1}}};Me.render=ke;var Ee=Me,Te={class:"text-lg"},Le={class:"text-sm"},Ne=Object(a["g"])(" Send notification email to contacts ");function Pe(e,t,n,r,c,o){var i=Object(a["z"])("input-row"),l=Object(a["z"])("dictionary-row"),u=Object(a["z"])("button-row");return Object(a["r"])(),Object(a["e"])("div",null,[Object(a["h"])("h3",Te,"Approve Step "+Object(a["C"])(e.application.current_step),1),Object(a["h"])(i,{modelValue:c.dateApproved,"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.dateApproved=e}),type:"date",errors:c.errors.date_approved,label:"Date Approved"},null,8,["modelValue","errors"]),Object(a["h"])(l,{label:""},{default:Object(a["K"])((function(){return[Object(a["h"])("label",Le,[Object(a["L"])(Object(a["h"])("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=function(e){return c.notifyContacts=e}),value:!0},null,512),[[a["E"],c.notifyContacts]]),Ne])]})),_:1}),Object(a["h"])(u,null,{default:Object(a["K"])((function(){return[Object(a["h"])("button",{class:"btn",onClick:t[3]||(t[3]=function(){return o.cancel&&o.cancel.apply(o,arguments)})},"Cancel"),Object(a["h"])("button",{class:"btn blue",onClick:t[4]||(t[4]=function(){return o.save&&o.save.apply(o,arguments)})},"Approve step "+Object(a["C"])(e.application.current_step),1)]})),_:1})])}var qe={props:{},emits:["canceled","saved"],data:function(){return{dateApproved:null,notifyContacts:!1,notifyClinGen:!1,errors:{}}},computed:Object(l["a"])({},Object(u["b"])({application:"applications/currentItem"})),methods:{clearForm:function(){this.dateApproved=null},cancel:function(){this.clearForm(),this.$emit("canceled")},save:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={application:e.application,dateApproved:e.dateApproved,notifyContacts:e.notifyContacts,notifyClingen:e.notifyClinGen},t.prev=1,t.next=4,e.$store.dispatch("applications/approveCurrentStep",n);case 4:e.clearForm(),e.$emit("saved"),t.next=13;break;case 8:if(t.prev=8,t.t0=t["catch"](1),!Object(k["a"])(t.t0)){t.next=13;break}return e.errors=t.t0.response.data.errors,t.abrupt("return");case 13:case"end":return t.stop()}}),t,null,[[1,8]])})))()}}};qe.render=Pe;var Be=qe,Ge={components:{ApplicationLog:m,DocumentManager:Ee,ApproveStepForm:Be},props:{step:{type:Number,required:!0},documentName:{type:String,required:!1,default:'Set a document-type attribute if you don\'t use the "document" slot'},documentType:{type:Number,required:!1,default:1},documentGetsReviewed:{type:Boolean,required:!1,default:!0},approveButtonLabel:{type:String,required:!1,default:'Set "approve-button-label" if not overriding slot "approve-button"'}},emits:["documentUploaded","stepApproved"],data:function(){return{showApproveForm:!1}},computed:Object(l["a"])(Object(l["a"])({},Object(u["b"])({application:"applications/currentItem"})),{},{isCurrentStep:function(){return this.step==this.application.current_step},finalDateReviewed:function(){return Object(ue["a"])(this.application.finalDocumentOfType(this.documentType).date_reviewed)},firstDateReceived:function(){return Object(ue["a"])(this.application.firstDocumentOfType(this.documentType).date_received)},dateApproved:function(){return Object(ue["a"])(this.application.approvalDateForStep(this.step))}}),methods:{startApproveStep:function(){this.showApproveForm=!0},approveStep:function(){this.$store.dispatch("applications/approveCurrentStep",{application:this.application,step:this.step})},hideApproveForm:function(){this.showApproveForm=!1}}};Ge.render=_e;var Xe=Ge,Ye=Object(a["h"])("h4",{class:"text-md font-bold"},"Conflict of Interest",-1),Je=Object(a["h"])("div",{class:"px-3 py-2 rounded border border-gray-300 text-gray-500 bg-gray-200"}," No Conflict of interest surveys completed ",-1);function We(e,t,n,r,c,o){var i=Object(a["z"])("dictionary-row");return Object(a["r"])(),Object(a["e"])("div",null,[Ye,Object(a["h"])(i,{label:"COI URL"},{default:Object(a["K"])((function(){return[Object(a["g"])(Object(a["C"])(n.application.survey_monkey_url),1)]})),_:1}),Je])}var He={props:{application:{required:!0,type:Object}},data:function(){return{}},computed:{},methods:{}};He.render=We;var Qe=He,Ze={name:"StepOne",components:{BaseStep:Xe,CoiLog:Qe},data:function(){return{}},computed:Object(l["a"])({},Object(u["b"])({application:"applications/currentItem"})),methods:{}};Ze.render=he;var et=Ze;function tt(e,t,n,r,c,o){var i=Object(a["z"])("base-step");return Object(a["r"])(),Object(a["e"])(i,{step:2,"document-type":2,"document-name":"Draft Specifications","document-gets-reviewed":!1,"approve-button-label":"Approve Draft Specifications"})}var nt={name:"StepTwo",components:{BaseStep:Xe},props:{},data:function(){return{}},computed:Object(l["a"])({},Object(u["b"])({application:"applications/currentItem"})),methods:{}};nt.render=tt;var at=nt,rt=Object(a["h"])("h3",{class:"text-lg font-bold mb-1"},"Final Specifications",-1),ct={key:0},ot={class:"mb-4"},it=Object(a["h"])("h3",{class:"text-lg font-bold mb-1"},"Pilot Classifications",-1),lt={key:1,class:"pb-3 border-b mb-6"},ut={href:"",class:"text-blue-500 underline"},st=Object(a["h"])("br",null,null,-1),pt={href:"",class:"text-blue-500 underline"},dt=Object(a["h"])("br",null,null,-1);function bt(e,t,n,r,c,o){var i=Object(a["z"])("document-manager"),l=Object(a["z"])("dictionary-row"),u=Object(a["z"])("base-step");return Object(a["r"])(),Object(a["e"])(u,{step:3,"approve-button-label":"Approve Pilot and Specifications"},{document:Object(a["K"])((function(){return[rt,e.application.stepIsApproved(3)?(Object(a["r"])(),Object(a["e"])("div",lt,[Object(a["h"])(l,{label:"Final Specifications"},{default:Object(a["K"])((function(){return[Object(a["h"])("a",ut,Object(a["C"])(e.application.finalDocumentOfType(3).filename),1)]})),_:1}),Object(a["h"])(l,{label:"Date Received"},{default:Object(a["K"])((function(){return[Object(a["g"])(Object(a["C"])(o.formatDate(e.application.firstDocumentOfType(3).date_received)),1)]})),_:1}),Object(a["h"])(l,{label:"Date Reviewed"},{default:Object(a["K"])((function(){return[Object(a["g"])(Object(a["C"])(o.formatDate(e.application.finalDocumentOfType(3).date_reviewed)),1)]})),_:1}),st,Object(a["h"])(l,{label:"Final Pilot Classifications"},{default:Object(a["K"])((function(){return[Object(a["h"])("a",pt,Object(a["C"])(e.application.finalDocumentOfType(4).filename),1)]})),_:1}),Object(a["h"])(l,{label:"Date Received"},{default:Object(a["K"])((function(){return[Object(a["g"])(Object(a["C"])(o.formatDate(e.application.firstDocumentOfType(4).date_received)),1)]})),_:1}),Object(a["h"])(l,{label:"Date Reviewed"},{default:Object(a["K"])((function(){return[Object(a["g"])(Object(a["C"])(o.formatDate(e.application.finalDocumentOfType(4).date_reviewed)),1)]})),_:1}),dt,Object(a["h"])(l,{label:"Date Approved"},{default:Object(a["K"])((function(){return[Object(a["g"])(Object(a["C"])(o.formatDate(e.application.approvalDateForStep(3))),1)]})),_:1})])):(Object(a["r"])(),Object(a["e"])("div",ct,[Object(a["h"])("div",ot,[Object(a["h"])(i,{application:e.application,"document-type-id":4,getsReviewd:!1},null,8,["application"])]),Object(a["h"])("div",null,[it,Object(a["h"])(i,{application:e.application,"document-type-id":5,getsReviewd:!1},null,8,["application"])])]))]})),_:1})}var ft={name:"StepThree",components:{BaseStep:Xe,DocumentManager:Ee},props:{},data:function(){return{}},computed:Object(l["a"])({},Object(u["b"])({application:"applications/currentItem"})),methods:{formatDate:function(e){return Object(ue["a"])(e)}}};ft.render=bt;var mt=ft;function ht(e,t,n,r,c,o){var i=Object(a["z"])("base-step");return Object(a["r"])(),Object(a["e"])(i,{step:4,"document-type":5,"document-name":"Final Approval","document-gets-reviewed":!0,"approve-button-label":"Approve Final Application"})}var Ot={name:"StepFour",components:{BaseStep:Xe},props:{},data:function(){return{}},computed:Object(l["a"])({},Object(u["b"])({application:"applications/currentItem"})),methods:{}};Ot.render=ht;var jt=Ot,vt={components:{StepOne:et,StepTwo:at,StepThree:mt,StepFour:jt},data:function(){return{activeStep:1}},computed:Object(l["a"])(Object(l["a"])({},Object(u["b"])({application:"applications/currentItem"})),{},{activeIndex:{deep:!0,get:function(){return this.application&&this.application.current_step?this.application.current_step-1:0},set:function(e){this.activeStep=e+1}}})};vt.render=me;var wt=vt,gt={name:"ApplicationDetail",components:{ApplicationLog:m,EpAttributesForm:X,NextActionBanner:ee,ProgressChart:be,StepTabs:wt},props:{uuid:{type:String,required:!0}},data:function(){return{showModal:!1}},watch:{$route:function(){this.showModal=!!this.$route.meta.showModal&&Boolean(this.$route.meta.showModal)}},computed:Object(l["a"])(Object(l["a"])({},Object(u["b"])({application:"applications/currentItem"})),{},{hasPendingNextAction:function(){return"undefined"!=typeof this.application&&this.application.latest_pending_next_action}}),methods:{hideModal:function(){this.$router.replace({name:"ApplicationDetail",params:{uuid:this.uuid}})},handleModalClosed:function(e){this.clearModalForm(e),this.$router.push({name:"ApplicationDetail",params:{uuid:this.uuid}})},clearModalForm:function(){"function"===typeof this.$refs.modalView.clearForm&&this.$refs.modalView.clearForm()}},mounted:function(){this.$store.dispatch("applications/getApplication",this.uuid),this.showModal=Boolean(this.$route.meta.showModal)}};gt.render=i;t["default"]=gt},"2d1d":function(e,t,n){"use strict";n("e4df")},"43c2":function(e,t,n){},5319:function(e,t,n){"use strict";var a=n("d784"),r=n("825a"),c=n("50c4"),o=n("a691"),i=n("1d80"),l=n("8aa5"),u=n("0cb2"),s=n("14c3"),p=Math.max,d=Math.min,b=function(e){return void 0===e?e:String(e)};a("replace",2,(function(e,t,n,a){var f=a.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,m=a.REPLACE_KEEPS_$0,h=f?"$":"$0";return[function(n,a){var r=i(this),c=void 0==n?void 0:n[e];return void 0!==c?c.call(n,r,a):t.call(String(r),n,a)},function(e,a){if(!f&&m||"string"===typeof a&&-1===a.indexOf(h)){var i=n(t,e,this,a);if(i.done)return i.value}var O=r(e),j=String(this),v="function"===typeof a;v||(a=String(a));var w=O.global;if(w){var g=O.unicode;O.lastIndex=0}var y=[];while(1){var C=s(O,j);if(null===C)break;if(y.push(C),!w)break;var _=String(C[0]);""===_&&(O.lastIndex=l(j,c(O.lastIndex),g))}for(var x="",D=0,k=0;k<y.length;k++){C=y[k];for(var A=String(C[0]),R=p(d(o(C.index),j.length),0),S=[],F=1;F<C.length;F++)S.push(b(C[F]));var V=C.groups;if(v){var z=[A].concat(S,R,j);void 0!==V&&z.push(V);var $=String(a.apply(void 0,z))}else $=u(A,j,R,S,V,a);R>=D&&(x+=j.slice(D,R)+$,D=R+A.length)}return x+j.slice(D)}]}))},"6dbc":function(e,t,n){"use strict";n("43c2")},e4df:function(e,t,n){},fc85:function(e,t,n){"use strict";n("0bd6")}}]);
//# sourceMappingURL=application-detail.03cc79ae.js.map