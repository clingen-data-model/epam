{"version":3,"sources":["webpack:///./src/components/people/PersonForm.vue","webpack:///./src/components/people/PersonForm.vue?6fbf"],"names":["class","person","name","label","errors","first_name","workingPerson","last_name","email","phone","handleCancel","handleSaved","submitText","props","data","computed","watch","deep","immediate","handler","this","syncWorkingPerson","methods","attributes","backToDetail","$router","push","params","uuid","$store","dispatch","is_validation_error","response","mounted","render"],"mappings":"sJAEYA,MAAM,yB,iHADd,eAQM,YAPF,eAA6D,KAA7D,EAAkC,UAAO,eAAE,EAAAC,OAAOC,MAAI,GACtD,eAAyG,GAA9FC,MAAM,aAAcC,OAAQ,EAAAA,OAAOC,W,WAAqB,EAAAC,cAAcD,W,qDAAd,EAAAC,cAAcD,WAAU,K,gCAC3F,eAAsG,GAA3FF,MAAM,YAAaC,OAAQ,EAAAA,OAAOG,U,WAAoB,EAAAD,cAAcC,U,qDAAd,EAAAD,cAAcC,UAAS,K,gCACxF,eAA0F,GAA/EJ,MAAM,QAASC,OAAQ,EAAAA,OAAOI,M,WAAgB,EAAAF,cAAcE,M,qDAAd,EAAAF,cAAcE,MAAK,K,gCAC5E,eAA0F,GAA/EL,MAAM,QAASC,OAAQ,EAAAA,OAAOK,M,WAAgB,EAAAH,cAAcG,M,qDAAd,EAAAH,cAAcG,MAAK,K,gCAE5E,eAAsG,GAAzF,gBAAe,EAAAC,aAAe,gBAAe,EAAAC,YAAaC,WAAW,Q,8GAO3E,GACXC,MAAO,GAEPC,KAHW,WAIP,MAAO,CACHR,cAAe,CACXD,WAAY,KACZE,UAAW,KACXC,MAAO,KACPC,MAAO,MAEXL,OAAQ,KAGhBW,SAAU,kBACH,eAAW,CACVd,OAAQ,wBAGhBe,MAAO,CACHf,OAAQ,CACJgB,MAAM,EACNC,WAAW,EACXC,QAAS,WACLC,KAAKC,uBAIjBC,QAAS,CACLD,kBADK,WAEDD,KAAKd,cAAgBc,KAAKnB,OAAOsB,YAErCC,aAJK,WAKDJ,KAAKK,QAAQC,KAAK,CAACxB,KAAM,gBAAiByB,OAAQ,CAACC,KAAMR,KAAKnB,OAAO2B,SAEzElB,aAPK,WAQDU,KAAKC,oBACLD,KAAKI,gBAEHb,YAXD,WAWgB,iLAEP,EAAKkB,OAAOC,SAAS,0BAA2B,CAACF,KAAM,EAAK3B,OAAO2B,KAAML,WAAY,EAAKjB,gBAFnF,OAGb,EAAKkB,eAHQ,kDAKT,OAAAO,EAAA,MAAoB,EAAD,MACnB,EAAK3B,OAAS,KAAM4B,SAASlB,KAAKV,QANzB,4DAWzB6B,QAlDW,cCZf,EAAOC,OAASA,EAED","file":"js/chunk-2d0f09b5.7703df47.js","sourcesContent":["<template>\n    <div>\n        <h3 class=\"text-lg border-b py-2\">Edit - {{person.name}}</h3>\n        <input-row label=\"First Name\" :errors=\"errors.first_name\" v-model=\"workingPerson.first_name\"></input-row>\n        <input-row label=\"Last Name\" :errors=\"errors.last_name\" v-model=\"workingPerson.last_name\"></input-row>\n        <input-row label=\"Email\" :errors=\"errors.email\" v-model=\"workingPerson.email\"></input-row>\n        <input-row label=\"Phone\" :errors=\"errors.phone\" v-model=\"workingPerson.phone\"></input-row>\n\n        <button-row @cancelClicked=\"handleCancel\" @submitClicked=\"handleSaved\" submitText=\"Save\"></button-row>\n    </div>\n</template>\n<script>\nimport {mapGetters} from 'vuex'\nimport is_validation_error from '../../http/is_validation_error';\n\nexport default {\n    props: {\n    },\n    data() {\n        return {\n            workingPerson: {\n                first_name: null,\n                last_name: null,\n                email: null,\n                phone: null\n            },\n            errors: {}\n        }\n    },\n    computed: {\n        ...mapGetters({\n            person: 'people/currentItem'\n        })\n    },\n    watch: {\n        person: {\n            deep: true,\n            immediate: true, \n            handler: function () {\n                this.syncWorkingPerson();\n            }\n        }\n    },\n    methods: {\n        syncWorkingPerson() {\n            this.workingPerson = this.person.attributes\n        },\n        backToDetail () {\n            this.$router.push({name: 'person-detail', params: {uuid: this.person.uuid}});\n        },\n        handleCancel () {\n            this.syncWorkingPerson();\n            this.backToDetail()\n        },\n        async handleSaved () {\n            try {\n                await this.$store.dispatch('people/updateAttributes', {uuid: this.person.uuid, attributes: this.workingPerson})\n                this.backToDetail();\n            } catch (error) {\n                if (is_validation_error(error)) {\n                    this.errors = error.response.data.errors\n                }\n            }\n        }\n    },\n    mounted() {\n    }\n}\n</script>","import { render } from \"./PersonForm.vue?vue&type=template&id=02177432\"\nimport script from \"./PersonForm.vue?vue&type=script&lang=js\"\nexport * from \"./PersonForm.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}