"use strict";(self["webpackChunkepam"]=self["webpackChunkepam"]||[]).push([[817],{5441:function(e,s,o){o.d(s,{A:function(){return v}});var l=o(641),t=o(33);const n={key:0},r={class:"block-title"},a=(0,l.eW)(" COI response for "),i={key:0},u={class:"text-sm response-data"},p={class:"flex-0"},d=(0,l.Lk)("p",{class:"mb-2"},"This is a legacy response.",-1),c={key:1,class:"response-data"};function b(e,s,o,b,m,_){const f=(0,l.g2)("dictionary-row");return _.response?((0,l.uX)(),(0,l.CE)("div",n,[(0,l.Lk)("h2",r,[a,o.coi.data.first_name?((0,l.uX)(),(0,l.CE)("span",i,(0,t.v_)(e.titleCase(`${o.coi.data.first_name} ${o.coi.data.last_name}`))+" in ",1)):(0,l.Q3)("",!0),(0,l.eW)(" "+(0,t.v_)(o.group.name)+" (v. "+(0,t.v_)(o.coi.version)+") ",1)]),(0,l.Lk)("div",u,[(0,l.bF)(f,{label:"Name","label-class":"font-bold"},{default:(0,l.k6)((()=>[(0,l.eW)((0,t.v_)(o.coi.data.first_name)+" "+(0,t.v_)(o.coi.data.last_name),1)])),_:1}),(0,l.bF)(f,{label:"Email","label-class":"font-bold"},{default:(0,l.k6)((()=>[(0,l.eW)((0,t.v_)(o.coi.data.email),1)])),_:1}),_.response.document_uuid?((0,l.uX)(),(0,l.Wv)(f,{key:0,label:"COI File","label-class":"font-bold"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",p,[d,(0,l.Lk)("button",{class:"btn btn-xs",onClick:s[0]||(s[0]=e=>_.downloadDocument(_.response.download_url.response))}," Download the COI. ")])])),_:1})):(0,l.Q3)("",!0),_.response.document_uuid?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",c,[(0,l.bF)(f,{label:_.response.work_fee_lab.question,vertical:!0,"label-class":"font-bold"},{default:(0,l.k6)((()=>[(0,l.eW)((0,t.v_)(_.getQuestionValue(_.response.work_fee_lab.response)),1)])),_:1},8,["label"]),"1.0.0"==_.version?((0,l.uX)(),(0,l.Wv)(f,{key:0,label:_.response.contributions_to_gd_in_ep.question,vertical:!0,"label-class":"font-bold"},{default:(0,l.k6)((()=>[(0,l.eW)((0,t.v_)(_.getQuestionValue(_.response.contributions_to_gd_in_ep.response))+" ",1),1==_.response.contributions_to_gd_in_ep.response?((0,l.uX)(),(0,l.Wv)(f,{key:0,label:_.response.contributions_to_genes.question,vertical:!0,class:"pb-1 mb-1 ml-4","label-class":"font-bold"},{default:(0,l.k6)((()=>[(0,l.eW)((0,t.v_)(_.getQuestionValue(_.response.contributions_to_genes.response)),1)])),_:1},8,["label"])):(0,l.Q3)("",!0)])),_:1},8,["label"])):(0,l.Q3)("",!0),"2.0.0"==_.version?((0,l.uX)(),(0,l.Wv)(f,{key:1,label:_.response.contributions_to_gd_in_group.question,vertical:!0,"label-class":"font-bold"},{default:(0,l.k6)((()=>[(0,l.eW)((0,t.v_)(_.getQuestionValue(_.response.contributions_to_gd_in_group.response))+" ",1),1==_.response.contributions_to_gd_in_group.response?((0,l.uX)(),(0,l.Wv)(f,{key:0,label:_.response.contributions_to_genes.question,vertical:!0,class:"pb-1 mb-1 ml-4","label-class":"font-bold"},{default:(0,l.k6)((()=>[(0,l.eW)((0,t.v_)(_.getQuestionValue(_.response.contributions_to_genes.response)),1)])),_:1},8,["label"])):(0,l.Q3)("",!0)])),_:1},8,["label"])):(0,l.Q3)("",!0),"1.0.0"==_.version?((0,l.uX)(),(0,l.Wv)(f,{key:2,label:_.response.independent_efforts.question,vertical:!0,"label-class":"font-bold"},{default:(0,l.k6)((()=>[(0,l.eW)((0,t.v_)(_.getQuestionValue(_.response.independent_efforts.response))+" ",1),[1,2].indexOf(_.response.independent_efforts.response)>-1?((0,l.uX)(),(0,l.Wv)(f,{key:0,label:_.response.independent_efforts_details.question,vertical:!0,class:"pb-1 mb-1 ml-4 border-none","label-class":"font-bold"},{default:(0,l.k6)((()=>[(0,l.eW)((0,t.v_)(_.getQuestionValue(_.response.independent_efforts_details.response)),1)])),_:1},8,["label"])):(0,l.Q3)("",!0)])),_:1},8,["label"])):(0,l.Q3)("",!0),(0,l.bF)(f,{label:_.response.coi.question,vertical:!0,class:"pb-1 mb-1","label-class":"font-bold"},{default:(0,l.k6)((()=>[(0,l.eW)((0,t.v_)(_.getQuestionValue(_.response.coi.response))+" ",1),[1,2].indexOf(_.response.coi.response)>-1?((0,l.uX)(),(0,l.Wv)(f,{key:0,label:_.response.coi_details.question,vertical:!0,class:"pb-1 mb-1 ml-4","label-class":"font-bold"},{default:(0,l.k6)((()=>[(0,l.eW)((0,t.v_)(_.getQuestionValue(_.response.coi_details.response)),1)])),_:1},8,["label"])):(0,l.Q3)("",!0)])),_:1},8,["label"])]))])])):(0,l.Q3)("",!0)}var m={props:{coi:{type:Object,required:!0},group:{type:Object,required:!0}},data(){return{}},computed:{isLegacy(){return!1},response(){return this.coi.response_document},version(){return this.coi.version}},methods:{getQuestionValue(e){return 1===e?"Yes":0===e?"No":2===e?"Unsure":e},downloadDocument(e){window.location=e}}},_=o(6262);const f=(0,_.A)(m,[["render",b]]);var v=f},8950:function(e,s,o){o.d(s,{A:function(){return D}});var l=o(641),t=o(33);const n={key:0},r={key:0,class:"mb-4"},a={key:0},i=(0,l.Lk)("h3",null,"You must complete a Conflict of Interest Disclosure for the following memberships:",-1),u={class:"my-2"},p={key:1},d=(0,l.Lk)("h3",null,"Outstanding COI disclosures:",-1),c={key:1},b=(0,l.Lk)("h3",null,"Completed & Current COI Disclosures",-1),m={key:0},_=["onClick"],f=(0,l.eW)("   "),v=(0,l.eW)("Update COI"),k={key:2},h=(0,l.Lk)("h3",null,"Past COI Disclosures",-1),g={key:0},C=["onClick"],y=(0,l.eW)("   "),W=(0,l.eW)("Update COI"),w={key:3,class:"well"},E={key:1,class:"well"};function X(e,s,o,X,Q,F){const P=(0,l.g2)("router-link"),I=(0,l.g2)("data-table"),L=(0,l.g2)("coi-detail"),V=(0,l.g2)("modal-dialog");return(0,l.uX)(),(0,l.CE)("div",null,[o.person.membershipsWithCoiRequirement.length>0?((0,l.uX)(),(0,l.CE)("div",n,[o.person.hasPendingCois?((0,l.uX)(),(0,l.CE)("div",r,[e.userIsPerson(o.person)?((0,l.uX)(),(0,l.CE)("div",a,[i,(0,l.Lk)("div",u,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.person.membershipsWithPendingCois,(e=>((0,l.uX)(),(0,l.Wv)(P,{key:e.id,class:"block my-0 font-bold p-2 border border-gray-300 first:rounded-t-lg last:rounded-b-lg cursor-pointer hover:bg-blue-50 link",to:X.getCoiRoute(e)},{default:(0,l.k6)((()=>[(0,l.eW)((0,t.v_)(e.group.display_name),1)])),_:2},1032,["to"])))),128))])])):((0,l.uX)(),(0,l.CE)("div",p,[d,(0,l.Lk)("ul",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.person.membershipsWithPendingCois,(e=>((0,l.uX)(),(0,l.CE)("li",{class:"list-disc ml-6",key:e.id},(0,t.v_)(e.group.display_name),1)))),128))])]))])):(0,l.Q3)("",!0),o.person.hasCompletedCois?((0,l.uX)(),(0,l.CE)("section",c,[b,(0,l.bF)(I,{fields:X.fields,data:o.person.membershipsWithCompletedCois,sort:X.coiSort,"onUpdate:sort":s[0]||(s[0]=e=>X.coiSort=e),class:"my-2"},{"cell-actions":(0,l.k6)((({item:s})=>[s.coi_last_completed?((0,l.uX)(),(0,l.CE)("div",m,[(0,l.Lk)("button",{class:"btn btn-xs",onClick:e=>X.showCoiResponse(s)}," View response ",8,_),f,e.userIsPerson(o.person)?((0,l.uX)(),(0,l.Wv)(P,{key:0,to:{name:"alt-coi",params:{code:s.group.coi_code,name:this.kebabCase(s.group.name)}},class:"btn btn-xs"},{default:(0,l.k6)((()=>[v])),_:2},1032,["to"])):(0,l.Q3)("",!0)])):(0,l.Q3)("",!0)])),_:1},8,["fields","data","sort"])])):(0,l.Q3)("",!0),o.person.hasOutdatedCois?((0,l.uX)(),(0,l.CE)("section",k,[h,(0,l.bF)(I,{fields:X.fields,data:o.person.membershipsWithOutdatedCois,sort:X.coiSort,"onUpdate:sort":s[1]||(s[1]=e=>X.coiSort=e),class:"my-2"},{"cell-actions":(0,l.k6)((({item:s})=>[s.coi_last_completed?((0,l.uX)(),(0,l.CE)("div",g,[(0,l.Lk)("button",{class:"btn btn-xs",onClick:e=>X.showCoiResponse(s)},"View response",8,C),y,e.userIsPerson(o.person)?((0,l.uX)(),(0,l.Wv)(P,{key:0,to:{name:"alt-coi",params:{code:s.group.coi_code,name:this.kebabCase(s.group.name)}},class:"btn btn-xs"},{default:(0,l.k6)((()=>[W])),_:2},1032,["to"])):(0,l.Q3)("",!0)])):(0,l.Q3)("",!0)])),_:1},8,["fields","data","sort"])])):(0,l.Q3)("",!0),o.person.hasPending||o.person.completedCois?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",w," None of your memberships require a conflict of interest disclosure "))])):((0,l.uX)(),(0,l.CE)("div",E,"You are not required to complete conflict of interest disclsoures.")),((0,l.uX)(),(0,l.Wv)(l.Im,{to:"body"},[(0,l.bF)(V,{modelValue:X.showResponseDialog,"onUpdate:modelValue":s[2]||(s[2]=e=>X.showResponseDialog=e),size:"xl"},{default:(0,l.k6)((()=>[X.currentCoi?((0,l.uX)(),(0,l.Wv)(L,{key:0,coi:X.currentCoi,group:X.currentGroup},null,8,["coi","group"])):(0,l.Q3)("",!0)])),_:1},8,["modelValue"])]))])}o(3725),o(5019),o(1339);var Q=o(953),F=o(5441),P=o(6747),I=o(1300),L=o(6563),V={name:"CoiList",components:{CoiDetail:F.A},props:{person:{type:P.A,required:!0}},setup(e){const s=(0,l.EW)((()=>e.person.membershipsWithCompletedCois.map((e=>e.cois.map((s=>(s.group=e.group,s))))).filter((e=>null!==e.completed_at)).flat())),o=(0,l.EW)((()=>!!e.person.memberships&&e.person.memberships.filter((e=>!(null!==e.cois&&0!==e.cois.length||!e.group.expert_panel))))),t=[{name:"group.name",label:"Group",type:String,sortable:!0,resolveValue:e=>e.group.display_name},{name:"latest_coi.version",label:"Version",type:String,sortable:!0},{name:"coi_last_completed",label:"Completed",sortable:!0,type:Date}],n=(0,l.EW)((()=>{const s={name:"actions",sortable:!1},o={name:"latest_coi.id",label:"ID",sortable:!0};let l=[...t];return(0,L._m)("people-manage")?[o,...l,s]:(0,L.VJ)(e.person)?[...l,s]:t})),r=(0,Q.KR)({field:"group.name",desc:!1}),a=e=>({name:"alt-coi",params:{name:(0,I.kW)(e.group.name),code:e.group.coi_code}}),i=(0,Q.KR)(null),u=(0,Q.KR)(null),p=(0,Q.KR)(!1),d=e=>{const s=e.cois[e.cois.length-1];i.value=s,u.value=e.group,p.value=!0};return{needsCoi:o,cois:s,coiFields:t,coiSort:r,currentCoi:i,currentGroup:u,showResponseDialog:p,showCoiResponse:d,getCoiRoute:a,fields:n}}},A=o(6262);const x=(0,A.A)(V,[["render",X]]);var D=x},5554:function(e,s,o){o.d(s,{A:function(){return V}});var l=o(641),t=o(33);const n=(0,l.eW)(" Edit Info "),r={class:"flex space-x-4"},a={class:"mt-4 border-t pt-4"},i=(0,l.Lk)("h3",null,"Profile",-1),u={class:"mt-4 border-t pt-4"},p={key:0},d={key:0},c={key:1},b={key:0},m=(0,l.eW)(),_={key:1},f=(0,l.eW)(),v={key:2},k={key:0,class:"mt-4 border-t pt-4"},h=(0,l.Lk)("h3",null,"Metadata",-1),g={key:0},C={key:1,class:"pt-4 border-t mt-4"};function y(e,s,o,y,W,w){const E=(0,l.g2)("edit-icon-button"),X=(0,l.g2)("dictionary-row"),Q=(0,l.g2)("CredentialsView"),F=(0,l.g2)("ExpertisesView"),P=(0,l.g2)("profile-form"),I=(0,l.g2)("modal-dialog");return(0,l.uX)(),(0,l.CE)("div",null,[e.userIsPerson(o.person)||e.hasPermission("people-manage")?((0,l.uX)(),(0,l.Wv)(E,{key:0,class:"btn btn-sm float-right",onClick:w.editPerson},{default:(0,l.k6)((()=>[n])),_:1},8,["onClick"])):(0,l.Q3)("",!0),(0,l.Lk)("div",r,[(0,l.Lk)("div",null,[((0,l.uX)(),(0,l.Wv)((0,l.$y)(w.profilePhotoComponent),{person:o.person,style:{width:"120px"}},null,8,["person"]))]),(0,l.Lk)("div",null,[((0,l.uX)(),(0,l.CE)(l.FK,null,(0,l.pI)(["name","email"],(s=>(0,l.bF)(X,{class:"pb-2","label-class":"w-40",key:s,label:e.titleCase(s)},{default:(0,l.k6)((()=>[(0,l.eW)((0,t.v_)(o.person[s]),1)])),_:2},1032,["label"]))),64)),(0,l.Lk)("section",a,[i,(0,l.Lk)("div",null,[(0,l.bF)(X,{class:"pb-2","label-class":"w-40",label:"Institution"},{default:(0,l.k6)((()=>[(0,l.eW)((0,t.v_)(o.person.institutionName),1)])),_:1}),(0,l.bF)(X,{class:"pb-2","label-class":"w-40",label:"Credentials"},{default:(0,l.k6)((()=>[(0,l.bF)(Q,{person:o.person},null,8,["person"])])),_:1}),(0,l.bF)(X,{class:"pb-2","label-class":"w-40",label:"Expertise"},{default:(0,l.k6)((()=>[(0,l.bF)(F,{person:o.person},null,8,["person"])])),_:1}),(0,l.bF)(X,{class:"pb-2","label-class":"w-40",label:"Biography"},{default:(0,l.k6)((()=>[(0,l.eW)((0,t.v_)(o.person.biography),1)])),_:1})])]),(0,l.Lk)("section",u,[e.userIsPerson(o.person)||e.hasRole("super-admin")||e.hasRole("admin")?((0,l.uX)(),(0,l.CE)("div",p,[(0,l.bF)(X,{class:"pb-2","label-class":"w-40",label:"Phone"},{default:(0,l.k6)((()=>[(0,l.eW)((0,t.v_)(o.person.phone),1)])),_:1}),(0,l.bF)(X,{class:"pb-2","label-class":"w-40",label:"Address"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",null,[o.person.street1?((0,l.uX)(),(0,l.CE)("div",d,(0,t.v_)(o.person.street1),1)):(0,l.Q3)("",!0),o.person.street2?((0,l.uX)(),(0,l.CE)("div",c,(0,t.v_)(o.person.street2),1)):(0,l.Q3)("",!0),(0,l.Lk)("div",null,[o.person.city?((0,l.uX)(),(0,l.CE)("span",b,(0,t.v_)(o.person.city)+",",1)):(0,l.Q3)("",!0),m,o.person.state?((0,l.uX)(),(0,l.CE)("span",_,(0,t.v_)(o.person.state),1)):(0,l.Q3)("",!0),f,o.person.zip?((0,l.uX)(),(0,l.CE)("span",v,(0,t.v_)(o.person.zip),1)):(0,l.Q3)("",!0)])])])),_:1})])):(0,l.Q3)("",!0),(0,l.bF)(X,{class:"pb-2","label-class":"w-40",label:"Country"},{default:(0,l.k6)((()=>[(0,l.eW)((0,t.v_)(o.person.country?o.person.country.name:""),1)])),_:1}),(0,l.bF)(X,{class:"pb-2","label-class":"w-40",label:"Timezone"},{default:(0,l.k6)((()=>[(0,l.eW)((0,t.v_)(o.person.timezone),1)])),_:1})]),e.hasPermission("people-manage")?((0,l.uX)(),(0,l.CE)("section",k,[h,(0,l.bF)(X,{class:"pb-2","label-class":"w-40",label:"Uuid"},{default:(0,l.k6)((()=>[(0,l.eW)((0,t.v_)(o.person.uuid),1)])),_:1}),(0,l.bF)(X,{class:"pb-2","label-class":"w-40",label:"Numeric ID"},{default:(0,l.k6)((()=>[(0,l.eW)((0,t.v_)(o.person.id),1)])),_:1}),(0,l.bF)(X,{class:"pb-2","label-class":"w-40",label:"User ID"},{default:(0,l.k6)((()=>[(0,l.eW)((0,t.v_)(o.person.user_id||"Account not activated."),1)])),_:1}),o.person.invite?((0,l.uX)(),(0,l.Wv)(X,{key:0,class:"pb-2","label-class":"w-40",label:"Invite Code"},{default:(0,l.k6)((()=>[(0,l.eW)((0,t.v_)(o.person.invite.code)+"   ",1),o.person.invite.redeemed_at?((0,l.uX)(),(0,l.CE)("span",g," redeemed on "+(0,t.v_)(e.formatDate(o.person.invite.redeemed_at)),1)):(0,l.Q3)("",!0)])),_:1})):(0,l.Q3)("",!0),((0,l.uX)(),(0,l.CE)(l.FK,null,(0,l.pI)(["created_at","updated_at"],(s=>(0,l.bF)(X,{class:"pb-2","label-class":"w-40",key:s,label:s},{default:(0,l.k6)((()=>[(0,l.eW)((0,t.v_)(e.formatDate(o.person[s])),1)])),_:2},1032,["label"]))),64)),e.hasPermission("people-manage")||e.userIsPerson(o.person)?((0,l.uX)(),(0,l.CE)("div",C,[(0,l.Lk)("button",{class:"btn btn-sm",onClick:s[0]||(s[0]=(...e)=>w.editPerson&&w.editPerson(...e))}," Edit Info ")])):(0,l.Q3)("",!0)])):(0,l.Q3)("",!0)])]),((0,l.uX)(),(0,l.Wv)(l.Im,{to:"body"},[(0,l.bF)(I,{modelValue:W.showEditForm,"onUpdate:modelValue":s[1]||(s[1]=e=>W.showEditForm=e),title:w.formDialogTitle},{default:(0,l.k6)((()=>[(0,l.bF)(P,{person:o.person,onSaved:w.hideEditForm,onCanceled:w.hideEditForm},null,8,["person","onSaved","onCanceled"])])),_:1},8,["modelValue","title"])]))])}var W=o(6747),w=o(5594),E=o(4201),X=o(5569),Q=o(6514),F=o(2823),P={name:"PersonProfile",components:{ProfileForm:w.A,ProfilePicture:E.A,ProfilePhotoForm:X.A,CredentialsView:Q.A,ExpertisesView:F.A},props:{person:{type:W.A,required:!0}},data(){return{showEditForm:!1}},computed:{formDialogTitle(){const e=this.userIsPerson(this.person)?"your":`${this.person.name}'s`;return`Edit ${e} information.`},profilePhotoComponent(){return this.hasPermission("people-manage")||this.userIsPerson(this.person)?X.A:E.A}},methods:{editPerson(){this.$store.commit("people/setCurrentItemIndex",this.person),this.showEditForm=!0},hideEditForm(){this.showEditForm=!1}}},I=o(6262);const L=(0,I.A)(P,[["render",y]]);var V=L},4201:function(e,s,o){o.d(s,{A:function(){return d}});var l=o(641);const t={class:"border border-gray-300 bg-white overflow-hidden"},n=["src"];function r(e,s,o,r,a,i){return(0,l.uX)(),(0,l.CE)("div",t,[(0,l.Lk)("img",{src:i.photoUrl,class:"w-full"},null,8,n)])}var a=o(6747),i={name:"ProfilePicture",props:{person:{required:!0,type:a.A}},data(){return{}},computed:{hasProfilePhoto(){return null!==this.person.profile_photo},photoUrl(){return this.hasProfilePhoto?`/profile-photos/${this.person.profile_photo}`:"/images/default_profile.jpg"}},methods:{}},u=o(6262);const p=(0,u.A)(i,[["render",r]]);var d=p}}]);
//# sourceMappingURL=817.c33a28d3.js.map