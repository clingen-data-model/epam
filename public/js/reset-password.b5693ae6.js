(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["reset-password"],{"033d":function(e,o,s){"use strict";o["a"]=function(e){return e.response&&422==e.response.status&&e.response.data.errors}},"0813":function(e,o,s){"use strict";s.r(o);var t=s("7a23"),r={key:0,class:"p-2 rounded border border-green-300 bg-green-100 text-green-700"},n={key:1};function a(e,o,s,a,c,i){var l=Object(t["resolveComponent"])("input-row"),u=Object(t["resolveComponent"])("button-row"),d=Object(t["resolveComponent"])("card");return Object(t["openBlock"])(),Object(t["createBlock"])(d,{title:"Reset Your Password",class:"w-2/3 mx-auto"},{default:Object(t["withCtx"])((function(){return[c.successMessage?(Object(t["openBlock"])(),Object(t["createBlock"])("div",r,Object(t["toDisplayString"])(c.successMessage),1)):(Object(t["openBlock"])(),Object(t["createBlock"])("div",n,[Object(t["createVNode"])(l,{modelValue:c.email,"onUpdate:modelValue":o[1]||(o[1]=function(e){return c.email=e}),type:"text",label:"Email",errors:c.errors.email},null,8,["modelValue","errors"]),i.hasToken?(Object(t["openBlock"])(),Object(t["createBlock"])(l,{key:0,modelValue:c.password,"onUpdate:modelValue":o[2]||(o[2]=function(e){return c.password=e}),type:"password",label:"New password",errors:c.errors.password},null,8,["modelValue","errors"])):Object(t["createCommentVNode"])("",!0),i.hasToken?(Object(t["openBlock"])(),Object(t["createBlock"])(l,{key:1,modelValue:c.password_confirmation,"onUpdate:modelValue":o[3]||(o[3]=function(e){return c.password_confirmation=e}),type:"password",label:"Confirm password",errors:c.errors.password_confirmation},null,8,["modelValue","errors"])):Object(t["createCommentVNode"])("",!0),Object(t["createVNode"])(u,{"show-cancel":!1,"submit-text":"Send Password Reset Link",onSubmitClicked:i.submitReset},null,8,["onSubmitClicked"])]))]})),_:1})}s("ac1f"),s("5319");var c=s("f96b"),i=s("033d"),l={props:{},data:function(){return{email:null,errors:{},password:null,password_confirmation:null,successMessage:null}},computed:{hasToken:function(){return Boolean(this.$route.query.token)}},methods:{getResetLink:function(){var e=this;c["a"].post("/api/send-reset-password-link",{email:this.email}).then((function(o){e.successMessage=o.data.status})).catch((function(o){Object(i["a"])(o)&&(e.errors=o.response.data.errors)}))},submitNewPassword:function(){var e=this,o={token:this.$route.query.token,email:this.email,password:this.password,password_confirmation:this.password_confirmation};c["a"].post("/api/reset-password",o).then((function(){e.$store.dispatch("login",{email:e.email,password:e.password}).then((function(){e.$store.dispatch("getCurrentUser"),e.$router.replace("/")}))})).catch((function(o){Object(i["a"])(o)&&(e.errors=o.response.data.errors)}))},submitReset:function(){this.hasToken?this.submitNewPassword():this.getResetLink()}}};l.render=a;o["default"]=l}}]);
//# sourceMappingURL=reset-password.b5693ae6.js.map