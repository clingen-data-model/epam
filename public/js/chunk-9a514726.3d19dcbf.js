(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9a514726"],{"0cb2":function(e,t,r){var n=r("7b0b"),a=Math.floor,c="".replace,o=/\$([$&'`]|\d\d?|<[^>]*>)/g,l=/\$([$&'`]|\d\d?)/g;e.exports=function(e,t,r,i,u,s){var d=r+e.length,b=i.length,f=l;return void 0!==u&&(u=n(u),f=o),c.call(s,f,(function(n,c){var o;switch(c.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(d);case"<":o=u[c.slice(1,-1)];break;default:var l=+c;if(0===l)return n;if(l>b){var s=a(l/10);return 0===s?n:s<=b?void 0===i[s-1]?c.charAt(1):i[s-1]+c.charAt(1):n}o=i[l-1]}return void 0===o?"":o}))}},5257:function(e,t,r){"use strict";r("4de4"),r("caad"),r("b64b"),r("ac1f"),r("2532"),r("5319");var n=r("5530"),a=r("6c02"),c=r("7a23");t["a"]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Object(a["d"])(),r=Object(a["c"])();e=e||{field:"name",desc:!1};var o=Object(c["computed"])({immediate:!0,get:function(){return Object.keys(r.query).includes("sort-field")?{field:r.query["sort-field"],desc:Boolean(parseInt(r.query["sort-desc"]))}:e},set:function(e){var a={"sort-field":e.field,"sort-desc":e.desc?1:0},c=Object(n["a"])(Object(n["a"])({},r.query),a);t.replace({path:r.path,query:c})}}),l=Object(c["computed"])({set:function(e){var a=r.query,c=r.path,o=Object(n["a"])({},a);e?o=Object(n["a"])(Object(n["a"])({},a),{filter:e}):delete o.filter,t.replace({path:c,query:o})},get:function(){return r.query.filter},immediate:!0});return{sort:o,filter:l}}},5319:function(e,t,r){"use strict";var n=r("d784"),a=r("825a"),c=r("50c4"),o=r("a691"),l=r("1d80"),i=r("8aa5"),u=r("0cb2"),s=r("14c3"),d=Math.max,b=Math.min,f=function(e){return void 0===e?e:String(e)};n("replace",2,(function(e,t,r,n){var j=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,p=n.REPLACE_KEEPS_$0,v=j?"$":"$0";return[function(r,n){var a=l(this),c=void 0==r?void 0:r[e];return void 0!==c?c.call(r,a,n):t.call(String(a),r,n)},function(e,n){if(!j&&p||"string"===typeof n&&-1===n.indexOf(v)){var l=r(t,e,this,n);if(l.done)return l.value}var O=a(e),h=String(this),m="function"===typeof n;m||(n=String(n));var g=O.global;if(g){var k=O.unicode;O.lastIndex=0}var w=[];while(1){var y=s(O,h);if(null===y)break;if(w.push(y),!g)break;var x=String(y[0]);""===x&&(O.lastIndex=i(h,c(O.lastIndex),k))}for(var S="",E=0,V=0;V<w.length;V++){y=w[V];for(var B=String(y[0]),_=d(b(o(y.index),h.length),0),N=[],D=1;D<y.length;D++)N.push(f(y[D]));var C=y.groups;if(m){var M=[B].concat(N,_,h);void 0!==C&&M.push(C);var L=String(n.apply(void 0,M))}else L=u(B,h,_,N,C,n);_>=E&&(S+=h.slice(E,_)+L,E=_+B.length)}return S+h.slice(E)}]}))},df40:function(e,t,r){"use strict";r.r(t);r("4de4");var n=r("7a23"),a=Object(n["createVNode"])("h1",{class:"text-xl font-bold pb-2 mb-4 border-b"},"Mail Log",-1),c=Object(n["createTextVNode"])(" Filter: ");function o(e,t,r,o,l,i){var u=Object(n["resolveComponent"])("data-table"),s=Object(n["resolveComponent"])("dictionary-row"),d=Object(n["resolveComponent"])("modal-dialog");return Object(n["openBlock"])(),Object(n["createBlock"])("div",null,[a,c,Object(n["withDirectives"])(Object(n["createVNode"])("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.filter=e})},null,512),[[n["vModelText"],o.filter]]),Object(n["createVNode"])(u,{fields:l.fields,data:l.data,"filter-term":o.filter,"row-class":"cursor-pointer","row-click-handler":i.showMailDetail,sort:o.sort,"onUpdate:sort":t[2]||(t[2]=function(e){return o.sort=e})},{"cell-to":Object(n["withCtx"])((function(e){var t=e.item;return[Object(n["createVNode"])("ul",null,[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(t.to,(function(e,t){return Object(n["openBlock"])(),Object(n["createBlock"])("li",{key:t},Object(n["toDisplayString"])(t),1)})),128))])]})),_:1},8,["fields","data","filter-term","row-click-handler","sort"]),Object(n["createVNode"])(d,{modelValue:l.showDetail,"onUpdate:modelValue":t[3]||(t[3]=function(e){return l.showDetail=e})},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(s,{label:"To","label-class":"font-bold",class:"mb-1 border-b"},{default:Object(n["withCtx"])((function(){return[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(l.currentEmail.to,(function(e,t){return Object(n["openBlock"])(),Object(n["createBlock"])("div",{key:t},Object(n["toDisplayString"])(t),1)})),128))]})),_:1}),Object(n["createVNode"])(s,{label:"From","label-class":"font-bold",class:"mb-1 border-b"},{default:Object(n["withCtx"])((function(){return[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(l.currentEmail.from,(function(e,t){return Object(n["openBlock"])(),Object(n["createBlock"])("div",{key:t},Object(n["toDisplayString"])(t),1)})),128))]})),_:1}),Object(n["createVNode"])(s,{label:"Subject","label-class":"font-bold",class:"mb-1 border-b"},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(l.currentEmail.subject),1)]})),_:1}),Object(n["createVNode"])(s,{label:"Body","label-class":"font-bold",class:"mb-1"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])("div",{innerHTML:l.currentEmail.body},null,8,["innerHTML"])]})),_:1})]})),_:1},8,["modelValue"])])}r("a15b"),r("b64b"),r("96cf");var l=r("1da1"),i=r("f96b"),u=r("e328"),s=r("5257"),d={props:{},setup:function(){var e=Object(s["a"])({field:"created_at",desc:!0}),t=e.sort,r=e.filter;return{sort:t,filter:r}},data:function(){return{showDetail:!1,fields:[{name:"to",sortable:!0,type:Array,resolveValue:function(e){var t=Object.keys(e.to);return 0==t.length?"":1==t.length?t[0]:t.join("; ")}},{name:"subject",sortable:!0,type:String},{name:"created_at",label:"Sent at",sortable:!0,resolveValue:function(e){return Object(u["b"])(e.created_at)},resolveSort:function(e){return e.created_at},type:String}],data:[],currentEmail:{}}},computed:{},methods:{getMailLog:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i["a"].get("/api/mail-log").then((function(t){e.data=t.data}));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),alert(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))()},showMailDetail:function(e){this.currentEmail=e,this.showDetail=!0}},mounted:function(){this.getMailLog()}};d.render=o;t["default"]=d}}]);
//# sourceMappingURL=chunk-9a514726.3d19dcbf.js.map