(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["application-detail~group-detail","log-entry-form"],{"14ed":function(e,t,n){},2242:function(e,t,n){"use strict";var o=n("7a23"),r=function(e){return Object(o["pushScopeId"])("data-v-3016494e"),e=e(),Object(o["popScopeId"])(),e},a=r((function(){return Object(o["createElementVNode"])("h3",{class:"pb-2"},"EP Progress",-1)})),c={class:"flex flex-row space-x-1"};function i(e,t,n,r,i,l){var u=Object(o["resolveComponent"])("progress-step");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[a,Object(o["createElementVNode"])("div",c,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(l.steps,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:e,step:e,application:n.application},null,8,["step","application"])})),128))])])}var l={class:"flex-1"},u={class:"flex flex-row-reverse justify-between bg-transparent mt-1"},s={key:0};function p(e,t,n,r,a,c){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",l,[Object(o["createElementVNode"])("div",{class:Object(o["normalizeClass"])(["progress-step",c.displayClass])},null,2),Object(o["createElementVNode"])("div",u,[Object(o["createElementVNode"])("div",{class:Object(o["normalizeClass"])({"-mr-10":!c.isLastStep})},Object(o["toDisplayString"])(c.approvalDate),3),c.isFirstStep?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",s,Object(o["toDisplayString"])(c.dateInitiated),1)):Object(o["createCommentVNode"])("",!0)])])}n("a9e3"),n("a15b");var d=n("e328"),m={props:{step:{type:Number,required:!0},application:{type:Object,required:!0}},data:function(){return{}},computed:{dateInitiated:function(){return Object(d["b"])(this.application.date_initiated)},approvalDate:function(){return this.application.approvalDateForStep(this.step)?Object(d["b"])(this.application.approvalDateForStep(this.step)):" "},displayClass:function(){var e=[];return this.isApproved?e.push("approved"):this.isCurrentStep&&e.push("active"),this.isFirstStep&&e.push("rounded-l"),this.isLastStep&&e.push("rounded-r"),e.join(" ")},isCurrentStep:function(){return this.application.current_step==this.step},isApproved:function(){return this.application.stepIsApproved(this.step)},isFirstStep:function(){return 1==this.step},isLastStep:function(){var e=Math.max.apply(Math,this.application.steps);return this.step==e}},methods:{}},b=(n("b89c"),n("6b0d")),f=n.n(b);const v=f()(m,[["render",p]]);var O=v,h={components:{ProgressStep:O},props:{application:{required:!0,type:Object}},computed:{steps:function(){return this.application.steps}}};n("b12c");const j=f()(h,[["render",i],["__scopeId","data-v-3016494e"]]);t["a"]=j},"268c":function(e,t,n){"use strict";n("b0c0");var o=n("7a23"),r={key:0},a={key:0},c=Object(o["createTextVNode"])(" Affiliation ID "),i=Object(o["createTextVNode"])("admin-only"),l={key:0},u={key:1,class:"text-gray-400"},s={key:1},p={key:2},d=Object(o["createTextVNode"])(" Status: "),m=Object(o["createTextVNode"])("admin-only"),b=Object(o["createTextVNode"])(" Parent group: "),f=Object(o["createTextVNode"])("admin-only");function v(e,t,n,v,O,h){var j=Object(o["resolveComponent"])("input-row"),w=Object(o["resolveComponent"])("dictionary-row"),g=Object(o["resolveComponent"])("note");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[h.canSetType?(Object(o["openBlock"])(),Object(o["createBlock"])(j,{key:0,modelValue:h.group.group_type_id,"onUpdate:modelValue":t[0]||(t[0]=function(e){return h.group.group_type_id=e}),errors:v.errors.group_type_id,type:"select",options:h.typeOptions,label:"Type"},null,8,["modelValue","errors","options"])):(Object(o["openBlock"])(),Object(o["createBlock"])(w,{key:1,label:"Type"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(h.typeDisplayName),1)]})),_:1})),Object(o["createVNode"])(o["Transition"],{name:"slide-fade-down",mode:"out-in"},{default:Object(o["withCtx"])((function(){return[h.group.group_type_id>2&&h.group.expert_panel?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",r,[Object(o["createVNode"])(j,{label:"Long Base Name",modelValue:h.group.expert_panel.long_base_name,"onUpdate:modelValue":[t[1]||(t[1]=function(e){return h.group.expert_panel.long_base_name=e}),h.emitUpdate],placeholder:"Long base name",errors:v.errors.long_base_name,"input-class":"w-full"},null,8,["modelValue","onUpdate:modelValue","errors"]),Object(o["createVNode"])(j,{label:"Short Base Name",modelValue:h.group.expert_panel.short_base_name,"onUpdate:modelValue":[t[2]||(t[2]=function(e){return h.group.expert_panel.short_base_name=e}),h.emitUpdate],placeholder:"Short base name",errors:v.errors.short_base_name,"input-class":"w-full"},null,8,["modelValue","onUpdate:modelValue","errors"]),e.hasAnyPermission(["groups-manage"])?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",a,[Object(o["createVNode"])(j,{label:"Affiliation ID",modelValue:h.group.expert_panel.affiliation_id,"onUpdate:modelValue":[t[3]||(t[3]=function(e){return h.group.expert_panel.affiliation_id=e}),h.emitUpdate],placeholder:h.affiliationIdPlaceholder,errors:v.errors.affiliation_id,"input-class":"w-full"},{label:Object(o["withCtx"])((function(){return[c,Object(o["createVNode"])(g,null,{default:Object(o["withCtx"])((function(){return[i]})),_:1})]})),_:1},8,["modelValue","placeholder","errors","onUpdate:modelValue"])])):(Object(o["openBlock"])(),Object(o["createBlock"])(w,{key:1,label:"Affiliation ID"},{default:Object(o["withCtx"])((function(){return[h.group.expert_panel.affiliation_id?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",l,Object(o["toDisplayString"])(h.group.expert_panel.affiliation_id),1)):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",u,Object(o["toDisplayString"])("Not yet assigend")))]})),_:1}))])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",s,[Object(o["createVNode"])(j,{modelValue:h.group.name,"onUpdate:modelValue":[t[4]||(t[4]=function(e){return h.group.name=e}),h.emitUpdate],placeholder:"Name",label:"Name","input-class":"w-full",errors:v.errors.name},null,8,["modelValue","errors","onUpdate:modelValue"])]))]})),_:1}),e.hasPermission("groups-manage")?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",p,[Object(o["createVNode"])(j,{modelValue:h.group.group_status_id,"onUpdate:modelValue":[t[5]||(t[5]=function(e){return h.group.group_status_id=e}),h.emitUpdate],type:"select",options:h.statusOptions,errors:v.errors.group_status_id},{label:Object(o["withCtx"])((function(){return[d,Object(o["createVNode"])(g,null,{default:Object(o["withCtx"])((function(){return[m]})),_:1})]})),_:1},8,["modelValue","options","errors","onUpdate:modelValue"]),Object(o["createVNode"])(j,{modelValue:h.group.parent_id,"onUpdate:modelValue":[t[6]||(t[6]=function(e){return h.group.parent_id=e}),h.emitUpdate],type:"select",options:h.parentOptions,errors:v.errors.parent_id},{label:Object(o["withCtx"])((function(){return[b,Object(o["createVNode"])(g,null,{default:Object(o["withCtx"])((function(){return[f]})),_:1})]})),_:1},8,["modelValue","options","errors","onUpdate:modelValue"])])):Object(o["createCommentVNode"])("",!0)])}var O=n("1da1"),h=(n("96cf"),n("d81d"),n("07ac"),n("d3b7"),n("159b"),n("3ca3"),n("ddb0"),n("4de4"),n("2ef0")),j=n("db04"),w=n("ae23"),g=n("4a91"),y=n("a75a"),V={name:"GroupForm",emits:["canceled","saved","update"],data:function(){return{groupTypes:[{id:1,fullname:"Working Group"},{id:2,fullname:"Clinical Domain Working Group"},{id:3,fullname:"GCEP"},{id:4,fullname:"VCEP"}],groupStatuses:g.groups.statuses,newGroup:new w["a"],parents:[]}},computed:{group:{get:function(){var e=this.$store.getters["groups/currentItem"];return e||this.newGroup},set:function(e){try{this.$store.commit("groups/addItem",e)}catch(t){this.newGroup=e}}},statusOptions:function(){var e=this;return Object.values(this.groupStatuses).map((function(t){return{value:t.id,label:e.titleCase(t.name)}}))},typeOptions:function(){return this.groupTypes.map((function(e){return{value:e.id,label:e.fullname}}))},canSetType:function(){return this.hasPermission("groups-manage")&&!this.group.id},typeDisplayName:function(){return this.group.type?this.group.type.name?this.group.type.id<3?this.group.type.name.toUpperCase():this.group.expert_panel.type.name.toUpperCase():null:"🐇🥚"},affiliationIdPlaceholder:function(){return 5e4},cdwgs:function(){return this.$store.getters["cdwgs/all"]},namesDirty:function(){return this.group.expert_panel.isDirty("long_base_name")||this.group.expert_panel.isDirty("short_base_name")},affiliationIdDirty:function(){return console.log({new:this.group.expert_panel.attributes.affiliation_id,original:this.group.expert_panel.original.affiliation_id}),this.group.expert_panel.isDirty("affiliation_id")},parentOptions:function(){var e=[{value:0,label:"None"}];return this.parents.forEach((function(t){e.push({value:t.id,label:t.displayName})})),Object(h["sortBy"])(e,"label")}},methods:{save:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.resetErrors(),t.prev=1,!e.group.id){t.next=7;break}return t.next=5,e.updateGroup();case 5:return e.$emit("saved"),t.abrupt("return");case 7:return t.next=9,e.createGroup().then((function(e){return e.data.data}));case 9:n=t.sent,e.$emit("saved"),e.$store.commit("pushSuccess","Group created."),e.$router.push({name:"AddMember",params:{uuid:n.uuid}}),t.next=19;break;case 15:throw t.prev=15,t.t0=t["catch"](1),Object(j["b"])(t.t0)&&(e.errors=t.t0.response.data.errors),t.t0;case 19:case"end":return t.stop()}}),t,null,[[1,15]])})))()},createGroup:function(){var e=this.group.attributes,t=e.name,n=e.parent_id,o=e.group_type_id,r=e.group_status_id,a=this.group.expert_panel.short_base_name;return null===t&&this.group.expert_panel&&(t=this.group.expert_panel.long_base_name),this.$store.dispatch("groups/create",{name:t,parent_id:n,group_type_id:o,group_status_id:r,short_base_name:a})},updateGroup:function(){var e=[];return e.push(this.saveGroupData()),this.group.expert_panel&&e.push(this.saveEpData()),Promise.all(e)},saveGroupData:function(){var e=[];return this.group.isDirty("parent_id")&&e.push(this.saveParent()),this.group.isDirty("name")&&e.push(this.saveName()),this.group.isDirty("group_status_id")&&e.push(this.saveStatus()),Promise.all(e)},saveEpData:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var n,o,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=[],e.namesDirty&&(o=e.group.expert_panel,r=o.long_base_name,a=o.short_base_name,n.push(e.submitFormData({method:"put",url:"/api/groups/".concat(e.group.uuid,"/expert-panel/name"),data:{long_base_name:r,short_base_name:a}}))),e.affiliationIdDirty&&n.push(e.submitFormData({method:"put",url:"/api/groups/".concat(e.group.uuid,"/expert-panel/affiliation-id"),data:{affiliation_id:e.group.expert_panel.affiliation_id}})),t.next=5,Promise.all(n);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))()},isDirty:function(e){return this.group[e]!=this.group[e]},saveParent:function(){return this.submitFormData({method:"put",url:"/api/groups/".concat(this.group.uuid,"/parent"),data:{parent_id:this.group.parent_id}})},saveName:function(){return this.submitFormData({method:"put",url:"/api/groups/".concat(this.group.uuid,"/name"),data:{name:this.group.name}})},saveStatus:function(){return this.submitFormData({method:"put",url:"/api/groups/".concat(this.group.uuid,"/status"),data:{status_id:this.group.group_status_id}})},resetData:function(){this.group.uuid&&this.$store.dispatch("groups/find",this.group.uuid)},cancel:function(){this.group.uuid&&this.resetData(),this.$emit("canceled")},getParentOptions:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,j["a"].get("/api/groups").then((function(t){return t.data.filter((function(t){return t.id!=e.group.id})).map((function(e){return new w["a"](e)}))}));case 2:e.parents=t.sent;case 3:case"end":return t.stop()}}),t)})))()},emitUpdate:function(){this.$emit("update")}},beforeMount:function(){this.getParentOptions(),this.$store.dispatch("cdwgs/getAll")},setup:function(e,t){var n=Object(y["a"])(e,t),o=n.errors,r=n.submitFormData,a=n.resetErrors;return{errors:o,submitFormData:r,resetErrors:a}}},k=n("6b0d"),C=n.n(k);const x=C()(V,[["render",v]]);t["a"]=x},5832:function(e,t,n){"use strict";n("4e82"),n("a4d3"),n("e01a");var o=n("7a23"),r={key:0,class:"px-3 py-2 rounded border border-gray-300 text-gray-500 bg-gray-200"},a={class:"flex space-x-1"},c=["innerHTML"];function i(e,t,n,i,l,u){var s=Object(o["resolveComponent"])("icon-edit"),p=Object(o["resolveComponent"])("router-link"),d=Object(o["resolveComponent"])("icon-trash"),m=Object(o["resolveComponent"])("data-table"),b=Object(o["resolveComponent"])("log-entry-form"),f=Object(o["resolveComponent"])("modal-dialog");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[u.hasLogEntries?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:1,fields:l.fields,data:u.filteredLogEntries,sort:l.sort,"onUpdate:sort":t[0]||(t[0]=function(e){return l.sort=e})},{"cell-id":Object(o["withCtx"])((function(e){var t=e.item;return[Object(o["createElementVNode"])("div",a,[Object(o["createVNode"])(p,{to:{name:"EditLogEntry",params:{id:t.id}},class:"btn btn-xs inline-block"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{width:"12"})]})),_:2},1032,["to"]),null===t.activity_type?(Object(o["openBlock"])(),Object(o["createBlock"])(p,{key:0,to:{name:"ConfirmDeleteLogEntry",params:{id:t.id}},class:"btn btn-xs inline-block"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{width:"12"})]})),_:2},1032,["to"])):Object(o["createCommentVNode"])("",!0)])]})),"cell-description":Object(o["withCtx"])((function(e){var t=e.item;return[Object(o["createElementVNode"])("div",{innerHTML:t.description,class:"links-blue"},null,8,c)]})),_:1},8,["fields","data","sort"])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",r,Object(o["toDisplayString"])(u.noResultsMessage),1)),Object(o["createVNode"])(f,{modelValue:l.editingEntry,"onUpdate:modelValue":t[1]||(t[1]=function(e){return l.editingEntry=e}),title:"Edit log entry"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b)]})),_:1},8,["modelValue"])])}var l=n("1da1"),u=(n("96cf"),n("a9e3"),n("4de4"),n("d3b7"),n("5502")),s=n("598d"),p=n("831e"),d=[{name:"created_at",label:"Created",sortName:"created_at",sortable:!0,type:Date},{name:"description",label:"Entry",sortable:!0,type:String},{name:"causer.name",label:"User",sortable:!0},{name:"id",label:"",sortable:!1}],m={components:{LogEntryForm:s["default"]},props:{step:{required:!1,type:Number}},data:function(){return{fields:d,sort:{field:"created_at",desc:!0},selectedLogEntry:{},editingEntry:!1}},computed:{hasLogEntries:function(){return this.filteredLogEntries.length>0},filteredLogEntries:function(){var e=this;return this.logEntries&&this.step?this.logEntries.filter((function(t){return t.properties.step==e.step})):this.logEntries?this.logEntries:[]},noResultsMessage:function(){return"number"==typeof this.step?"No progress log entries have been entered for step ".concat(this.step):"There are no log entries for this application"}},methods:{getLogEntries:function(){return Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case 1:case"end":return e.stop()}}),e)})))()},editLogEntry:function(e){this.editingEntry=!0,this.selectedLogEntry=e}},mounted:function(){},setup:function(){var e=Object(u["d"])(),t=Object(o["computed"])((function(){return e.getters["groups/currentItemOrNew"]})),n=Object(o["computed"])((function(){return t.value.expert_panel}));return Object(o["watch"])(t,(function(){t.value.uuid&&Object(p["b"])("/api/groups/".concat(t.value.uuid,"/activity-logs"))}),{immediate:!0}),{group:t,application:n,logEntries:p["c"]}}},b=(n("d623"),n("6b0d")),f=n.n(b);const v=f()(m,[["render",i]]);t["a"]=v},"598d":function(e,t,n){"use strict";n.r(t);var o=n("7a23"),r={class:"block-title"};function a(e,t,n,a,c,i){var l=this,u=Object(o["resolveComponent"])("input-row"),s=Object(o["resolveComponent"])("step-input"),p=Object(o["resolveComponent"])("rich-text-editor"),d=Object(o["resolveComponent"])("button-row"),m=Object(o["resolveComponent"])("form-container");return Object(o["openBlock"])(),Object(o["createBlock"])(m,{class:"log-entry-form",ref:"form-container"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("h2",r,Object(o["toDisplayString"])(l.$route.meta.title),1),Object(o["createVNode"])(u,{label:"Log Date",modelValue:c.newEntry.log_date,"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.newEntry.log_date=e}),errors:c.errors.log_date,type:"date",ref:"logdate"},null,8,["modelValue","errors"]),2==i.application.expert_panel_type_id?(Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:0,modelValue:c.newEntry.step,"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.newEntry.step=e}),errors:c.errors.step},null,8,["modelValue","errors"])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(u,{label:"Entry",errors:c.errors.entry},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{modelValue:c.newEntry.entry,"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.newEntry.entry=e})},null,8,["modelValue"])]})),_:1},8,["errors"]),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("button",{class:"btn",onClick:t[3]||(t[3]=function(){return i.cancel&&i.cancel.apply(i,arguments)})},"Cancel"),Object(o["createElementVNode"])("button",{class:"btn blue",onClick:t[4]||(t[4]=function(){return i.save&&i.save.apply(i,arguments)})},"Save")]})),_:1})]})),_:1},512)}var c=n("1da1"),i=n("5530"),l=(n("96cf"),n("7db0"),n("d3b7"),n("a4d3"),n("e01a"),n("99af"),n("5502")),u=n("e328"),s=n("a06a"),p=n("85fe"),d=n("831e"),m={name:"LogEntryForm",components:{StepInput:s["default"],RichTextEditor:p["default"]},props:{id:{required:!1,default:null}},data:function(){return{newEntry:{log_date:new Date,step:null,entry:""},errors:{}}},computed:Object(i["a"])(Object(i["a"])({},Object(l["b"])({group:"groups/currentItemOrNew"})),{},{application:function(){return this.group.expert_panel}}),watch:{id:{immediate:!0,handler:function(){var e=this.findEntry();e&&this.syncEntry(e)}},application:{immediate:!0,handler:function(){var e=this.findEntry();e&&this.syncEntry(e)}}},methods:{findEntry:function(){var e=this;return null===this.id?null:this.logEntries?this.logEntries.find((function(t){return t.id==e.id})):void 0},initNewEntry:function(){this.newEntry={log_date:Object(u["b"])(new Date),step:null,entry:""}},syncEntry:function(e){e&&(this.newEntry={id:e.id,log_date:Object(u["b"])(new Date(Date.parse(e.created_at))),step:e.properties.step,entry:e.description})},cancel:function(){this.initNewEntry(),this.$emit("canceled")},save:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.prev=0,e.newEntry.id?Object(d["e"])("/api/groups/".concat(e.group.uuid,"/activity-logs/").concat(e.newEntry.id),e.newEntry):Object(d["d"])("/api/groups/".concat(e.group.uuid,"/activity-logs"),e.newEntry),e.initNewEntry(),e.$emit("saved"),t.next=11;break;case 6:if(t.prev=6,t.t0=t["catch"](0),!t.t0.response||422!=t.t0.response.status||!t.t0.response.data.errors){t.next=11;break}return e.errors=t.t0.response.data.errors,t.abrupt("return");case 11:case"end":return t.stop()}}),t,null,[[0,6]])})))()}},mounted:function(){this.$el.querySelectorAll("input")[0].focus()},setup:function(){return{logEntries:d["c"]}}},b=n("6b0d"),f=n.n(b);const v=f()(m,[["render",a]]);t["default"]=v},"7cd7":function(e,t,n){},"82c8":function(e,t,n){},"831e":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return p}));var o=n("1da1"),r=(n("c740"),n("99af"),n("a434"),n("96cf"),n("7a23")),a=n("f96b"),c=Object(r["ref"])([]),i=Object(r["computed"])((function(){return c.value})),l=function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].get(t).then((function(e){return e.data.data}));case 2:c.value=e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].post(t,n).then((function(e){return c.value.push(e.data),e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),s=function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].put(t,n).then((function(e){var t=c.value.findIndex((function(t){return t.id==e.data.id}));return c.value[t]=e.data,e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),p=function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].delete("".concat(t,"/").concat(n)).then((function(e){var t=c.value.findIndex((function(e){return e.id==n}));return c.value.splice(t,1),e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},a75a:function(e,t,n){"use strict";n.d(t,"b",(function(){return l}));var o=n("5530"),r=n("1da1"),a=(n("96cf"),n("7a23")),c=n("033d"),i=n("f96b"),l=Object(a["ref"])({}),u=Object(a["ref"])(!1),s=function(){u.value=!1,l.value={}},p=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.method,r=t.url,a=t.data,e.prev=1,e.next=4,Object(i["a"])({method:n,url:r,data:a}).then((function(e){return e.data.data}));case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e["catch"](1),Object(c["a"])(e.t0)&&(l.value=Object(o["a"])(Object(o["a"])({},l),e.t0.response.data.errors));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){l.value={}};t["a"]=function(){return{errors:l,editing:u,hideForm:s,submitFormData:p,resetErrors:d}}},b12c:function(e,t,n){"use strict";n("14ed")},b89c:function(e,t,n){"use strict";n("7cd7")},d623:function(e,t,n){"use strict";n("82c8")},f8c8:function(e,t,n){"use strict";var o=n("7a23"),r={key:0};function a(e,t,n,a,c,i){var l=Object(o["resolveComponent"])("step-one"),u=Object(o["resolveComponent"])("tab-item"),s=Object(o["resolveComponent"])("step-two"),p=Object(o["resolveComponent"])("step-three"),d=Object(o["resolveComponent"])("step-four"),m=Object(o["resolveComponent"])("tabs-container");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[i.application.isGcep?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",r,[Object(o["createVNode"])(l,{onStepApproved:i.handleApproved},null,8,["onStepApproved"])])):Object(o["createCommentVNode"])("",!0),2==this.application.expert_panel_type_id?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:1,"tab-location":"right",modelValue:i.activeIndex,"onUpdate:modelValue":t[0]||(t[0]=function(e){return i.activeIndex=e})},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{label:"Group Definition"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(l,{onStepApproved:i.handleApproved},null,8,["onStepApproved"])]})),_:1}),Object(o["createVNode"])(u,{label:"Draft Specifications"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{onStepApproved:i.handleApproved},null,8,["onStepApproved"])]})),_:1}),Object(o["createVNode"])(u,{label:"Pilot Specfications"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{onStepApproved:i.handleApproved},null,8,["onStepApproved"])]})),_:1}),Object(o["createVNode"])(u,{label:"Sustained Curation"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{onStepApproved:i.handleApproved},null,8,["onStepApproved"])]})),_:1})]})),_:1},8,["modelValue"])):Object(o["createCommentVNode"])("",!0)])}var c=n("5530"),i=n("5502"),l={class:"application-review"};function u(e,t,n,r,a,c){var i=Object(o["resolveComponent"])("definition-review"),u=Object(o["resolveComponent"])("base-step");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",l,[Object(o["createVNode"])(u,{step:1,"document-name":"Scope and Membership Application",title:"Scope and Membership","document-type":1,"document-gets-reviewed":!0,"approve-button-label":"Approve Scope and Membership",onStepApproved:c.handleApproved},{sections:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i)]})),_:1},8,["onStepApproved"])])}n("b0c0");var s={class:"overflow-x-auto"},p={class:"mb-6"},d={class:"flex justify-between text-lg font-bold pb-2 mb-2 border-b"},m={class:"flex space-x-2"},b={key:0},f={key:0,class:"flex space-x-1"},v={class:"text-white bg-green-600 rounded-xl px-2"},O={key:1,class:"flex space-x-1"},h=Object(o["createTextVNode"])("   "),j=Object(o["createTextVNode"])("   "),w={key:0},g={class:"mt-4 p-4 border rounded-xl bg-gray-50"},y=Object(o["createElementVNode"])("hr",{class:"border-gray-200 border-4"},null,-1),V=Object(o["createTextVNode"])(" Step sections here! "),k={key:0,class:"border border-l-0 border-r-0 py-4 mb-6"},C=Object(o["createTextVNode"])(" This step was submitted by "),x=Object(o["createTextVNode"])(" on "),N=Object(o["createTextVNode"])(" with the following notes: "),D=["disabled","title"],_={class:"mb-6 mt-4 border-t pt-4"},E={class:"mb-2"};function S(e,t,n,r,a,c){var i=Object(o["resolveComponent"])("edit-icon-button"),l=Object(o["resolveComponent"])("date-input"),u=Object(o["resolveComponent"])("remove-button"),S=Object(o["resolveComponent"])("document-manager"),B=Object(o["resolveComponent"])("static-alert"),R=Object(o["resolveComponent"])("approve-step-form"),A=Object(o["resolveComponent"])("modal-dialog"),F=Object(o["resolveComponent"])("application-log");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",s,[Object(o["createElementVNode"])("div",p,[Object(o["createElementVNode"])("div",d,[Object(o["createElementVNode"])("div",m,[Object(o["createElementVNode"])("h2",null,Object(o["toDisplayString"])(n.title),1),c.dateApproved?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",b,[a.editApprovalDate?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",O,[Object(o["createVNode"])(l,{modelValue:a.newApprovalDate,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.newApprovalDate=e})},null,8,["modelValue"]),Object(o["createElementVNode"])("button",{class:"btn blue",onClick:t[1]||(t[1]=function(){return c.updateApprovalDate&&c.updateApprovalDate.apply(c,arguments)})},"Save"),Object(o["createVNode"])(u,{onClick:t[2]||(t[2]=function(e){return a.editApprovalDate=!1})})])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",f,[Object(o["createElementVNode"])("div",v," Appproved: "+Object(o["toDisplayString"])(c.dateApproved),1),Object(o["createVNode"])(i,{class:"text-black",onClick:c.initEditApprovalDate},null,8,["onClick"])]))])):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("button",{class:"btn btn-xs",onClick:t[3]||(t[3]=function(){return c.toggleDocuments&&c.toggleDocuments.apply(c,arguments)})},Object(o["toDisplayString"])(c.docsToggleText),1),h,Object(o["createElementVNode"])("button",{class:"btn btn-xs",onClick:t[4]||(t[4]=function(){return c.toggleSections&&c.toggleSections.apply(c,arguments)})},Object(o["toDisplayString"])(c.sectionsToggleText),1),j,Object(o["createElementVNode"])("button",{class:"btn btn-xs",onClick:t[5]||(t[5]=function(){return c.goToPrintable&&c.goToPrintable.apply(c,arguments)})},"Printable Application")])]),Object(o["createVNode"])(o["Transition"],{name:"slide-fade-down"},{default:Object(o["withCtx"])((function(){return[a.showDocuments?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",w,[Object(o["renderSlot"])(e.$slots,"document",{},(function(){return[Object(o["createElementVNode"])("div",g,[Object(o["createVNode"])(S,{title:n.documentName,application:c.application,"document-type-id":n.documentType,getsReviewd:n.documentGetsReviewed,step:n.step},null,8,["title","application","document-type-id","getsReviewd","step"])])]})),y])):Object(o["createCommentVNode"])("",!0)]})),_:3}),Object(o["createVNode"])(o["Transition"],{name:"slide-fade-down"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",null,[a.showSections?Object(o["renderSlot"])(e.$slots,"sections",{key:0},(function(){return[V]})):Object(o["createCommentVNode"])("",!0)])]})),_:3})]),c.application.stepIsApproved(n.step)?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",k,[c.application.hasPendingSubmissionForCurrentStep?(Object(o["openBlock"])(),Object(o["createBlock"])(B,{key:0,variant:"info",class:"mb-4"},{default:Object(o["withCtx"])((function(){return[C,Object(o["createElementVNode"])("strong",null,Object(o["toDisplayString"])(c.application.pendingSubmission.submitter.name),1),x,Object(o["createElementVNode"])("strong",null,Object(o["toDisplayString"])(e.formatDate(c.application.pendingSubmission.created_at)),1),N,Object(o["createElementVNode"])("blockquote",null,Object(o["toDisplayString"])(c.application.pendingSubmission.notes),1)]})),_:1})):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("button",{class:"btn btn-lg w-full",onClick:t[6]||(t[6]=function(){return c.startApproveStep&&c.startApproveStep.apply(c,arguments)}),disabled:!c.isCurrentStep,title:c.isCurrentStep?"Approve this step":"You can only approve the application's current step"},Object(o["toDisplayString"])(n.approveButtonLabel),9,D),(Object(o["openBlock"])(),Object(o["createBlock"])(o["Teleport"],{to:"body"},[Object(o["createVNode"])(A,{modelValue:a.showApproveForm,"onUpdate:modelValue":t[7]||(t[7]=function(e){return a.showApproveForm=e}),size:"xl",onClosed:t[8]||(t[8]=function(t){return e.$refs.approvestepform.clearForm()})},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(R,{ref:"approvestepform",onSaved:c.handleApproved,onCanceled:c.hideApproveForm},null,8,["onSaved","onCanceled"])]})),_:1},8,["modelValue"])]))])),Object(o["renderSlot"])(e.$slots,"default"),Object(o["renderSlot"])(e.$slots,"log",{},(function(){return[Object(o["createElementVNode"])("div",_,[Object(o["createElementVNode"])("h3",E,"Step "+Object(o["toDisplayString"])(n.step)+" Progress Log",1),Object(o["createVNode"])(F,{step:n.step},null,8,["step"])])]}))])}var B=n("1da1"),R=(n("96cf"),n("a9e3"),n("e328")),A=n("5832"),F={class:"md:flex justify-between"},T={key:0},I={key:1};function U(e,t,n,r,a,c){var i=Object(o["resolveComponent"])("final-document-view"),l=Object(o["resolveComponent"])("document-list"),u=Object(o["resolveComponent"])("document-upload-form"),s=Object(o["resolveComponent"])("modal-dialog");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[Object(o["renderSlot"])(e.$slots,"title",{},(function(){return[Object(o["createElementVNode"])("div",F,[Object(o["createElementVNode"])("h3",null,Object(o["toDisplayString"])(n.title)+" Documents",1)])]})),n.application.stepIsApproved(n.step)&&n.showVersion?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",T,[Object(o["createVNode"])(i,{application:n.application,"document-type-id":n.documentTypeId,step:n.step},null,8,["application","document-type-id","step"])])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",I,[Object(o["createVNode"])(l,{application:n.application,"document-type-id":n.documentTypeId,"show-version":n.showVersion},null,8,["application","document-type-id","show-version"]),Object(o["createElementVNode"])("button",{class:"btn mb-2 btn-sm",onClick:t[0]||(t[0]=function(e){return a.showUploadForm=!0})}," Upload a new "+Object(o["toDisplayString"])(n.showVersion?"version":"document"),1)])),Object(o["createVNode"])(s,{modelValue:a.showUploadForm,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.showUploadForm=e}),onClosed:t[4]||(t[4]=function(t){return e.$refs.uploadform.clearForm()})},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{application:n.application,"document-type-id":n.documentTypeId,step:n.step,onCanceled:t[1]||(t[1]=function(e){return a.showUploadForm=!1}),onSaved:t[2]||(t[2]=function(e){return a.showUploadForm=!1}),ref:"uploadform"},null,8,["application","document-type-id","step"])]})),_:1},8,["modelValue"])])}n("99af");var $={class:"flex space-x-1"},P=["onClick"],L=["onClick"],q={key:1,class:"px-2 py-1 border bg-gray-100 rounded"},M={key:0},G={key:0,class:"mb-3"},H=Object(o["createElementVNode"])("p",null,"Are you sure you want to continue?",-1);function J(e,t,n,r,a,c){var i=Object(o["resolveComponent"])("truncate-expander"),l=Object(o["resolveComponent"])("icon-checkmark"),u=Object(o["resolveComponent"])("icon-download"),s=Object(o["resolveComponent"])("icon-edit"),p=Object(o["resolveComponent"])("trash-button"),d=Object(o["resolveComponent"])("data-table"),m=Object(o["resolveComponent"])("document-edit-form"),b=Object(o["resolveComponent"])("modal-dialog"),f=Object(o["resolveComponent"])("document-reviewed-form"),v=Object(o["resolveComponent"])("button-row");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[c.filteredDocuments.length>0?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:0,fields:c.filteredFields,data:c.filteredDocuments,sort:{field:c.filteredFields[0].name,desc:!0}},{"cell-notes":Object(o["withCtx"])((function(e){var t=e.value;return[Object(o["createVNode"])(i,{value:t,"truncate-length":50},null,8,["value"])]})),"cell-is_final":Object(o["withCtx"])((function(e){var t=e.item;return[t.is_final?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])(l,{key:0,onClick:function(e){return c.markFinal(t)},title:"Mark this the final version.",class:"text-gray-300 cursor-pointer inline"},null,8,["onClick"])),t.is_final?(Object(o["openBlock"])(),Object(o["createBlock"])(l,{key:1,class:"text-green-600 inline",title:"This is the final document"})):Object(o["createCommentVNode"])("",!0)]})),"cell-id":Object(o["withCtx"])((function(e){var t=e.item;return[Object(o["createElementVNode"])("div",$,[Object(o["createElementVNode"])("button",{class:"btn btn-xs",onClick:function(e){return c.downloadDocument(t)}},[Object(o["createVNode"])(u,{width:"12",height:"16"})],8,P),Object(o["createElementVNode"])("button",{class:"btn btn-xs",onClick:function(e){return c.openEditForm(t)}},[Object(o["createVNode"])(s,{width:"12",height:"16"})],8,L),Object(o["createVNode"])(p,{onClick:function(e){return c.initDelete(t)}},null,8,["onClick"])])]})),_:1},8,["fields","data","sort"])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",q,"No documents uploaded")),Object(o["createVNode"])(b,{modelValue:a.showEditForm,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.showEditForm=e})},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{document:a.activeDocument,application:c.application,onCanceled:t[0]||(t[0]=function(e){return a.showEditForm=!1}),onSaved:t[1]||(t[1]=function(e){return a.showEditForm=!1}),onTriggermarkreviewed:c.showMarkReviewed},null,8,["document","application","onTriggermarkreviewed"])]})),_:1},8,["modelValue"]),Object(o["createVNode"])(b,{modelValue:a.showReviewedForm,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.showReviewedForm=e})},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{document:a.activeDocument,application:c.application,onCanceled:c.hideReviewedForm,onSaved:c.hideReviewedForm},null,8,["document","application","onCanceled","onSaved"])]})),_:1},8,["modelValue"]),Object(o["createVNode"])(b,{modelValue:a.showDeleteConfirmation,"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.showDeleteConfirmation=e}),title:"You are about to delete ".concat(a.activeDocument.type.long_name,", v").concat(a.activeDocument.version)},{default:Object(o["withCtx"])((function(){return[a.activeDocument?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",M,[a.activeDocument.is_final?(Object(o["openBlock"])(),Object(o["createElementBlock"])("p",G," This version has been tagged as the final version of the document. ")):Object(o["createCommentVNode"])("",!0),H,Object(o["createVNode"])(v,{"submit-text":"Delete Document",onCanceled:c.cancelDelete,onSubmitted:c.commitDelete},null,8,["onCanceled","onSubmitted"])])):Object(o["createCommentVNode"])("",!0)]})),_:1},8,["modelValue","title"])])}var Y=n("2909"),z=(n("c740"),n("a434"),n("4de4"),n("d3b7"),n("7db0"),n("5e32")),W=Object(o["createElementVNode"])("h2",{class:"border-b pb-1 mb-3"},"Mark Document Reviewed",-1);function K(e,t,n,r,a,c){var i=Object(o["resolveComponent"])("input-row"),l=Object(o["resolveComponent"])("button-row");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[W,Object(o["createVNode"])(i,{modelValue:a.dateReviewed,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.dateReviewed=e}),label:"Date Reviewed",errors:a.errors.date_reviewed,type:"date"},null,8,["modelValue","errors"]),Object(o["createVNode"])(l,null,{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("button",{class:"btn",onClick:t[1]||(t[1]=function(){return c.cancel&&c.cancel.apply(c,arguments)})},"Cancel"),Object(o["createElementVNode"])("button",{class:"btn blue",onClick:t[2]||(t[2]=function(){return c.saveDateReviewed&&c.saveDateReviewed.apply(c,arguments)})},"Mark Reviewed")]})),_:1})])}var Q=n("033d"),X={name:"DocumentReviewForm",props:{application:{type:Object,required:!0},document:{type:Object,required:!0}},data:function(){return{dateReviewed:null,isFinal:!1,errors:{}}},computed:{isReviewed:function(){return Boolean(this.dateReviewed)}},methods:{saveDateReviewed:function(){var e=this;return Object(B["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("applications/markDocumentReviewed",{application:e.application,document:e.document,dateReviewed:e.dateReviewed,isFinal:e.isFinal});case 3:e.clearForm(),e.$emit("saved"),t.next=12;break;case 7:if(t.prev=7,t.t0=t["catch"](0),!Object(Q["a"])(t.t0)){t.next=12;break}return e.errors=t.t0.response.data.errors,t.abrupt("return");case 12:case"end":return t.stop()}}),t,null,[[0,7]])})))()},cancel:function(){this.clearForm(),this.$emit("canceled")},clearForm:function(){this.dateReviewed=null}}},Z=n("6b0d"),ee=n.n(Z);const te=ee()(X,[["render",K]]);var ne=te,oe={class:"text-lg border-b pb-1 mb-3"};function re(e,t,n,r,a,c){var i=Object(o["resolveComponent"])("dictionary-row"),l=Object(o["resolveComponent"])("input-row"),u=Object(o["resolveComponent"])("button-row"),s=Object(o["resolveComponent"])("form-container");return Object(o["openBlock"])(),Object(o["createBlock"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("h2",oe,"Edit "+Object(o["toDisplayString"])(c.type)+" version "+Object(o["toDisplayString"])(n.document.version)+" Info",1),Object(o["createVNode"])(i,{label:"File"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.document.filename),1)]})),_:1}),Object(o["createVNode"])(l,{modelValue:a.docProxy.date_received,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.docProxy.date_received=e}),label:"Date Received",type:"date",errors:a.errors.date_received},null,8,["modelValue","errors"]),Object(o["createVNode"])(l,{errors:a.errors.notes,label:"Notes"},{default:Object(o["withCtx"])((function(){return[Object(o["withDirectives"])(Object(o["createElementVNode"])("textarea",{name:"notes","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.docProxy.notes=e}),cols:"30",rows:"10"},null,512),[[o["vModelText"],a.docProxy.notes]])]})),_:1},8,["errors"]),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("button",{class:"btn",onClick:t[2]||(t[2]=function(){return c.cancel&&c.cancel.apply(c,arguments)})},"Cancel"),Object(o["createElementVNode"])("button",{class:"btn blue",onClick:t[3]||(t[3]=function(){return c.save&&c.save.apply(c,arguments)})},"Save")]})),_:1})]})),_:1})}n("e9c4");var ae={name:"DocumentEditForm",props:{document:{required:!0,type:Object},application:{required:!0,type:Object}},emits:["triggermarkreviewed"],data:function(){return{docProxy:{},errors:{}}},computed:{type:function(){return this.document.type?this.document.type.long_name:""}},watch:{document:{immediate:!0,handler:function(){this.docProxy=JSON.parse(JSON.stringify(this.document))}}},methods:{cancel:function(){this.docProxy={},this.$emit("canceled")},save:function(){var e=this;return Object(B["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("applications/updateDocumentInfo",{application:e.application,document:e.docProxy});case 3:e.docProxy={},e.$emit("saved"),t.next=11;break;case 7:throw t.prev=7,t.t0=t["catch"](0),Object(Q["a"])(t.t0)&&(e.errors=t.t0.response.data.errors),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))()}}};const ce=ee()(ae,[["render",re]]);var ie=ce,le={components:{DocumentReviewedForm:ne,DocumentEditForm:ie,TrashButton:z["default"]},props:{documentTypeId:{type:Number,required:!0},getsReviewed:{type:Boolean,required:!1,default:!0},showVersion:{type:Boolean,required:!1,default:!0}},data:function(){return{showDeleteConfirmation:!1,showReviewedForm:!1,showEditForm:!1,activeDocument:{type:{}},fields:[{name:"version",label:"Version",type:Number},{name:"filename",label:"File",type:String,headerClass:["w-1/3"]},{name:"notes",label:"Notes",type:String,sortable:!1,resolveValue:function(e){return e.notes||""},headerClass:["w-1/3"]},{name:"date_received",label:"Date Received",type:Date,headerClass:["w-32"]},{name:"is_final",label:"Final",type:Boolean,sortable:!1,class:["text-center"],headerClass:["text-center","w-12"]},{name:"id",label:"",sortable:!1}]}},computed:{group:function(){return this.$store.getters["groups/currentItemOrNew"]},application:function(){return this.group.expert_panel},filteredFields:function(){var e=Object(Y["a"])(this.fields);if(!this.showVersion){var t=e.findIndex((function(e){return e&&"version"==e.name}));e.splice(t,1);var n=e.findIndex((function(e){return e&&"is_final"==e.name}));e.splice(n,1)}if(!this.getsReviewed){var o=e.findIndex((function(e){return e&&"date_reviewed"==e.name}));e.splice(o,1)}return e},filteredDocuments:function(){var e=this;return this.application.documents?this.application.documents.filter((function(t){return t.document_type_id==e.documentTypeId})):[]},hasFinalVersion:function(){return this.filteredDocuments.findIndex((function(e){return e.is_final}))>-1},finalVersion:function(){return this.filteredDocuments.find((function(e){return e.is_final}))||{}}},methods:{showMarkReviewed:function(e){this.activeDocument=e,this.showReviewedForm=!0},hideReviewedForm:function(){this.showReviewedForm=!1},downloadDocument:function(e){window.location=e.download_url},confirmNewFinal:function(e){var t="There is already a version of this document marked as final.  Only one version can be marked as final.  Do you want to mark this version (version ".concat(e.version,") as final instead of ").concat(this.finalVersion.version);return confirm(t)},markFinal:function(e){this.hasFinalVersion&&!this.confirmNewFinal(e)||this.$store.dispatch("applications/markDocumentVersionFinal",{application:this.application,document:e})},openEditForm:function(e){this.showEditForm=!0,this.activeDocument=e},initDelete:function(e){this.activeDocument=e,this.showDeleteConfirmation=!0},cancelDelete:function(){this.showDeleteConfirmation=!1},commitDelete:function(){var e=this;return Object(B["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("applications/deleteDocument",{application:e.application,document:e.activeDocument});case 3:e.showDeleteConfirmation=!1,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),Object(Q["a"])(t.t0)&&alert(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()}}};const ue=ee()(le,[["render",J]]);var se=ue,pe={class:"pb-2 border-b mb-4"},de={type:"file",ref:"fileInput"};function me(e,t,n,r,a,c){var i=Object(o["resolveComponent"])("input-row"),l=Object(o["resolveComponent"])("button-row"),u=Object(o["resolveComponent"])("form-container");return Object(o["openBlock"])(),Object(o["createBlock"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("h2",pe,"Upload "+Object(o["toDisplayString"])(c.documentType.long_name)+" document(s)",1),Object(o["createVNode"])(i,{label:"Document",errors:a.errors.file},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("input",de,null,512)]})),_:1},8,["errors"]),Object(o["createVNode"])(i,{label:"Date Received",type:"date",modelValue:a.newDocument.date_received,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.newDocument.date_received=e}),errors:a.errors.date_receoved},null,8,["modelValue","errors"]),Object(o["createVNode"])(i,{errors:a.errors.notes,label:"Notes"},{default:Object(o["withCtx"])((function(){return[Object(o["withDirectives"])(Object(o["createElementVNode"])("textarea",{name:"notes","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.newDocument.notes=e}),cols:"30",rows:"10"},null,512),[[o["vModelText"],a.newDocument.notes]])]})),_:1},8,["errors"]),Object(o["createVNode"])(l,null,{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("button",{class:"btn white",onClick:t[2]||(t[2]=function(){return c.cancel&&c.cancel.apply(c,arguments)})},"Cancel"),Object(o["createElementVNode"])("button",{class:"btn blue",onClick:t[3]||(t[3]=function(){return c.save&&c.save.apply(c,arguments)})},"Save")]})),_:1})]})),_:1})}n("159b"),n("b64b");var be={props:{documentTypeId:{type:Number,required:!0},step:{type:Number,required:!1,default:null}},data:function(){return{newDocument:{file:null,date_received:new Date,date_reviewed:null,step:this.step,document_type_id:this.documentTypeId,notes:null},errors:{}}},computed:Object(c["a"])(Object(c["a"])({},Object(i["c"])({documentTypes:function(e){return e.doctypes.items}})),{},{group:function(){return this.$store.getters["groups/currentItemOrNew"]},application:function(){return this.group.expert_panel},isReviewed:function(){return Boolean(this.newDocument.date_reviewed)},documentType:function(){return 0==this.documentTypes.length?{}:this.$store.getters["doctypes/getItemById"](this.documentTypeId)}}),methods:{save:function(){var e=this;return Object(B["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n=new FormData,Object.keys(e.newDocument).forEach((function(t){var o=e.newDocument[t];null!=o&&n.append(t,o)})),n.append("file",e.$refs.fileInput.files[0]),t.next=6,e.$store.dispatch("groups/addApplicationDocument",{group:e.group,data:n});case 6:e.clearForm(),e.$emit("saved"),t.next=15;break;case 10:if(t.prev=10,t.t0=t["catch"](0),!Object(Q["a"])(t.t0)){t.next=15;break}return e.errors=t.t0.response.data.errors,t.abrupt("return");case 15:case"end":return t.stop()}}),t,null,[[0,10]])})))()},cancel:function(){this.clearForm(),this.$emit("canceled")},clearForm:function(){this.initNewDocument(),this.clearErrors()},initNewDocument:function(){this.$refs.fileInput.value=null,this.newDocument={file:null,date_received:Object(R["b"])(new Date),date_reviewed:null,step:this.step,document_type_id:this.documentTypeId,notes:null}},clearErrors:function(){this.errors={}}},mounted:function(){this.$store.dispatch("doctypes/getItems")}};const fe=ee()(be,[["render",me]]);var ve=fe,Oe=["href"],he={key:1};function je(e,t,n,r,a,c){var i=Object(o["resolveComponent"])("dictionary-row"),l=Object(o["resolveComponent"])("edit-icon-button"),u=Object(o["resolveComponent"])("date-input"),s=Object(o["resolveComponent"])("remove-button"),p=Object(o["resolveComponent"])("document-edit-form"),d=Object(o["resolveComponent"])("modal-dialog");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[Object(o["createVNode"])(i,{label:"Final Document"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",null,[c.finalDocument.filename?(Object(o["openBlock"])(),Object(o["createElementBlock"])("a",{key:0,href:c.finalDocument.download_url,class:"text-blue-500 underline"},Object(o["toDisplayString"])(c.finalDocument.filename),9,Oe)):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",he,"none on file"))])]})),_:1}),Object(o["createVNode"])(i,{label:"Date Received"},{default:Object(o["withCtx"])((function(){return[Object(o["withDirectives"])(Object(o["createElementVNode"])("div",null,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(c.firstDateReceived)+" ",1),Object(o["createVNode"])(l,{onClick:c.initEditReceived},null,8,["onClick"])],512),[[o["vShow"],!a.editDateReceived]]),Object(o["withDirectives"])(Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(u,{modelValue:a.newDateReceived,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.newDateReceived=e}),class:"inline-block"},null,8,["modelValue"]),Object(o["createElementVNode"])("button",{class:"btn btn-sm blue",onClick:t[1]||(t[1]=function(){return c.saveDateReceived&&c.saveDateReceived.apply(c,arguments)})},"Save"),Object(o["createVNode"])(s,{class:"ml-1",onClick:t[2]||(t[2]=function(e){return a.editDateReceived=!1})})],512),[[o["vShow"],a.editDateReceived]])]})),_:1}),Object(o["createVNode"])(d,{modelValue:a.showEditForm,"onUpdate:modelValue":t[5]||(t[5]=function(e){return a.showEditForm=e})},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{document:c.finalDocument,application:c.application,onCanceled:t[3]||(t[3]=function(e){return a.showEditForm=!1}),onSaved:t[4]||(t[4]=function(e){return a.showEditForm=!1})},null,8,["document","application"])]})),_:1},8,["modelValue"])])}var we=n("222a"),ge={components:{DocumentEditForm:ie,RemoveButton:we["default"]},props:{documentTypeId:{type:Number,required:!0},step:{type:Number,required:!1,default:null}},data:function(){return{showEditForm:!1,editDateReceived:!1,newDateReceived:null,editDateReviewed:!1,newDateReviewed:null}},computed:{group:function(){return this.$store.getters["groups/currentItemOrNew"]},application:function(){return this.group.expert_panel},finalDocument:function(){return this.application.finalDocumentOfType(this.documentTypeId)},firstDocument:function(){return this.application.firstDocumentOfType(this.documentTypeId)},finalDateReviewed:function(){return this.finalDocument.date_reviewed?Object(R["b"])(this.finalDocument.date_reviewed):"--"},firstDateReceived:function(){return this.firstDocument.date_received?Object(R["b"])(this.firstDocument.date_received):"--"}},methods:{initEditReceived:function(){this.editDateReceived=!0,this.newDateReceived=this.firstDateReceived},saveDateReceived:function(){var e=this;return Object(B["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("applications/updateDocumentInfo",{application:e.application,document:{uuid:e.firstDocument.uuid,date_received:e.newDateReceived,date_reviewed:e.firstDocument.date_reviewed}});case 3:e.editDateReceived=!1,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),Object(Q["a"])(t.t0)&&console.info("saveDateReceived errors: ",t.t0.response.data.errors);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},initEditReviewed:function(){this.editDateReviewed=!0,this.newDateReviewed=this.finalDateReviewed},saveDateReviewed:function(){var e=this;return Object(B["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("applications/updateDocumentInfo",{application:e.application,document:{uuid:e.finalDocument.uuid,date_reviewed:e.newDateReviewed,date_received:e.finalDocument.date_received}});case 3:e.editDateReviewed=!1,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),Object(Q["a"])(t.t0)&&console.info("saveDateReviewd errors: ",t.t0.response.data.errors);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()}}};const ye=ee()(ge,[["render",je]]);var Ve=ye,ke={name:"DocumentManager",components:{DocumentUploadForm:ve,FinalDocumentView:Ve,DocumentList:se},props:{application:{type:Object,required:!0},documentTypeId:{type:Number,required:!0},getsReviewed:{type:Boolean,required:!1,default:!0},step:{type:Number,required:!1,default:null},showVersion:{type:Boolean,default:!0},title:{type:String,required:!1}},data:function(){return{showUploadForm:!1}}};const Ce=ee()(ke,[["render",U]]);var xe=Ce,Ne={class:"text-sm"},De=Object(o["createElementVNode"])("div",null,"Send notification email to contacts",-1),_e=Object(o["createTextVNode"])(" The expert panel has not yet submitted the application for approval. "),Ee=Object(o["createElementVNode"])("br",null,null,-1),Se=Object(o["createTextVNode"])(' You can approve this application but be aware that it is not part of the "normal" application workflow. '),Be=Object(o["createElementVNode"])("h4",{class:"font-bold border-b"},"Email",-1),Re=Object(o["createTextVNode"])(" There are no contacts to notify!! "),Ae={key:1},Fe={key:0},Te={key:1,class:"text-gray-500"},Ie={type:"file",multiple:"",ref:"attachmentsField"},Ue=Object(o["createTextVNode"])("ClinGen Services will be carbon copied on this email."),$e={key:0};function Pe(e,t,n,r,a,c){var i=Object(o["resolveComponent"])("input-row"),l=Object(o["resolveComponent"])("dictionary-row"),u=Object(o["resolveComponent"])("static-alert"),s=Object(o["resolveComponent"])("router-link"),p=Object(o["resolveComponent"])("truncate-expander"),d=Object(o["resolveComponent"])("rich-text-editor"),m=Object(o["resolveComponent"])("note"),b=Object(o["resolveComponent"])("button-row"),f=Object(o["resolveComponent"])("form-container");return Object(o["openBlock"])(),Object(o["createBlock"])(f,null,{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("h2",null,"Approve Step "+Object(o["toDisplayString"])(c.application.current_step),1),Object(o["createVNode"])(i,{modelValue:a.dateApproved,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.dateApproved=e}),type:"date",errors:a.errors.date_approved,label:"Date Approved"},null,8,["modelValue","errors"]),Object(o["createVNode"])(l,{label:""},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("label",Ne,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.notifyContacts=e}),value:!0},null,512),[[o["vModelCheckbox"],a.notifyContacts]]),De])])]})),_:1}),c.application.hasPendingSubmissionForCurrentStep?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:0,variant:"warning"},{default:Object(o["withCtx"])((function(){return[_e,Ee,Se]})),_:1})),Object(o["createVNode"])(o["Transition"],{name:"slide-fade-down"},{default:Object(o["withCtx"])((function(){return[Object(o["withDirectives"])(Object(o["createElementVNode"])("div",null,[Be,Object(o["createVNode"])(l,{label:"To"},{default:Object(o["withCtx"])((function(){return[e.group.hasContacts?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:0,class:"flex-1",variant:"danger"},{default:Object(o["withCtx"])((function(){return[Re]})),_:1})),e.group.hasContacts?(Object(o["openBlock"])(),Object(o["createElementBlock"])("ul",Ae,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(a.email.to,(function(e){return Object(o["openBlock"])(),Object(o["createElementBlock"])("li",{key:e.email},[Object(o["createVNode"])(s,{to:{name:"PersonDetail",params:{uuid:e.uuid}},class:"text-blue-600 hover:underline",target:"person"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.name)+" <"+Object(o["toDisplayString"])(e.email)+">",1)]})),_:2},1032,["to"])])})),128))])):Object(o["createCommentVNode"])("",!0)]})),_:1}),Object(o["createVNode"])(l,{label:"Cc"},{default:Object(o["withCtx"])((function(){return[a.email.cc.length>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Fe,[Object(o["createVNode"])(p,{value:c.ccAddresses,"truncate-length":100},null,8,["value"])])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Te,"None"))]})),_:1}),Object(o["createVNode"])(i,{label:"Subject"},{default:Object(o["withCtx"])((function(){return[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.email.subject=e}),class:"w-full"},null,512),[[o["vModelText"],a.email.subject]])]})),_:1}),Object(o["createVNode"])(i,{label:"Body"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:a.email.body,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.email.body=e})},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(i,{label:"Attachments"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("input",Ie,null,512)]})),_:1}),c.emailCced?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0},{default:Object(o["withCtx"])((function(){return[Ue]})),_:1})):Object(o["createCommentVNode"])("",!0)],512),[[o["vShow"],a.notifyContacts]])]})),_:1}),Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("button",{class:"btn",onClick:t[4]||(t[4]=function(){return c.cancel&&c.cancel.apply(c,arguments)})},"Cancel"),Object(o["createElementVNode"])("button",{class:"btn blue",onClick:t[5]||(t[5]=function(){return c.save&&c.save.apply(c,arguments)})},[Object(o["createTextVNode"])(" Approve step "+Object(o["toDisplayString"])(c.application.current_step)+" ",1),a.notifyContacts?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",$e," and notify ")):Object(o["createCommentVNode"])("",!0)])]})),_:1})]})),_:1})}n("a15b"),n("d81d");var Le=n("f96b"),qe=n("85fe"),Me={components:{RichTextEditor:qe["default"]},emits:["canceled","saved"],data:function(){return{dateApproved:null,notifyContacts:!1,email:{subject:"",body:"",cc:[],to:[]},errors:{}}},computed:Object(c["a"])(Object(c["a"])({},Object(i["b"])({group:"groups/currentItemOrNew"})),{},{application:function(){return this.group.expert_panel},emailCced:function(){return 1==this.application.current_step||4==this.application.current_step},ccAddresses:function(){return this.email.cc.map((function(e){return e.email})).join(", ")}}),watch:{notifyContacts:function(e){var t=this;e&&Le["a"].get("/api/email-drafts/".concat(this.application.uuid,"/").concat(this.application.current_step)).then((function(e){t.email=e.data}))}},methods:{clearForm:function(){this.dateApproved=null,this.notifyContacts=!1},cancel:function(){this.clearForm(),this.$emit("canceled")},save:function(){var e=this;return Object(B["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={application:e.application,dateApproved:e.dateApproved,notifyContacts:e.notifyContacts,subject:e.email.subject,body:e.email.body,attachments:e.$refs.attachmentsField.files},t.prev=1,t.next=4,e.$store.dispatch("applications/approveCurrentStep",n);case 4:e.clearForm(),e.$emit("saved"),t.next=13;break;case 8:if(t.prev=8,t.t0=t["catch"](1),!Object(Q["a"])(t.t0)){t.next=13;break}return e.errors=t.t0.response.data.errors,t.abrupt("return");case 13:case"end":return t.stop()}}),t,null,[[1,8]])})))()}},mounted:function(){}};const Ge=ee()(Me,[["render",Pe]]);var He=Ge,Je={components:{ApplicationLog:A["a"],DocumentManager:xe,ApproveStepForm:He,RemoveButton:we["default"]},props:{title:{type:String,required:!1,default:"YOU SHOULD SET A TITLE"},step:{type:Number,required:!0},documentName:{type:String,required:!1,default:'Set a document-type attribute if you don\'t use the "document" slot'},documentType:{type:Number,required:!1,default:1},documentGetsReviewed:{type:Boolean,required:!1,default:!0},approveButtonLabel:{type:String,required:!1,default:'Set "approve-button-label" if not overriding slot "approve-button"'}},emits:["documentUploaded","stepApproved"],data:function(){return{showApproveForm:!1,editApprovalDate:!1,newApprovalDate:null,showDocuments:!0,showSections:!0}},computed:Object(c["a"])(Object(c["a"])({},Object(i["b"])({group:"groups/currentItemOrNew"})),{},{application:function(){return this.group.expert_panel},isCurrentStep:function(){return this.step==this.application.current_step},dateApproved:function(){return this.application.approvalDateForStep(this.step)?Object(R["b"])(this.application.approvalDateForStep(this.step)):null},docsToggleText:function(){return this.showDocuments?"Hide Documents":"Show Documents"},sectionsToggleText:function(){return this.showSections?"Hide Sections":"Show Sections"}}),watch:{group:{immediate:!0,handler:function(e){e.hasDocumentsOfType(this.documentType)||(this.showDocuments=!1)}}},methods:{toggleDocuments:function(){this.showDocuments=!this.showDocuments},toggleSections:function(){this.showSections=!this.showSections},goToPrintable:function(){window.open("/groups/".concat(this.group.uuid,"/application/review"))},startApproveStep:function(){this.showApproveForm=!0},approveStep:function(){this.$store.dispatch("applications/approveCurrentStep",{application:this.application,step:this.step}),this.$emit("stepApproved")},handleApproved:function(){this.hideApproveForm(),this.$emit("stepApproved")},hideApproveForm:function(){this.showApproveForm=!1},initEditApprovalDate:function(){this.editApprovalDate=!0,this.newApprovalDate=this.dateApproved},updateApprovalDate:function(){var e=this;return Object(B["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("applications/updateApprovalDate",{application:e.application,dateApproved:e.newApprovalDate,step:e.step});case 3:e.editApprovalDate=!1,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),Object(Q["a"])(t.t0)&&(e.errors=t.t0.response.data.errors);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()}}};const Ye=ee()(Je,[["render",S]]);var ze=Ye,We=n("d5fa"),Ke={name:"StepOne",components:{BaseStep:ze,DefinitionReview:We["a"]},emits:["stepApproved"],data:function(){return{}},computed:Object(c["a"])(Object(c["a"])({},Object(i["b"])({group:"groups/currentItemOrNew"})),{},{application:function(){return this.group.expert_panel}}),methods:{handleApproved:function(){this.$emit("stepApproved")}}};const Qe=ee()(Ke,[["render",u]]);var Xe=Qe,Ze={class:"application-section"},et=Object(o["createElementVNode"])("h2",null,"Draft Specifications",-1);function tt(e,t,n,r,a,c){var i=Object(o["resolveComponent"])("cspec-summary"),l=Object(o["resolveComponent"])("base-step");return Object(o["openBlock"])(),Object(o["createBlock"])(l,{step:2,"document-type":2,"document-name":"Draft Specifications","document-gets-reviewed":!1,"approve-button-label":"Approve Draft Specifications",title:"Draft ACMG Guideline Specifications",onStepApproved:t[0]||(t[0]=function(t){return e.$emit("stepApproved")})},{sections:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",Ze,[et,Object(o["createVNode"])(i)])]})),_:1})}var nt=n("abba"),ot={name:"StepTwo",components:{BaseStep:ze,CspecSummary:nt["a"]},props:{},emits:["stepApproved"],data:function(){return{}},computed:Object(c["a"])(Object(c["a"])({},Object(i["b"])({group:"groups/currentItemOrNew"})),{},{application:function(){return this.group.expert_panel}}),methods:{}};const rt=ee()(ot,[["render",tt]]);var at=rt,ct={class:"mt-4 p-4 border rounded-xl bg-gray-50"},it={class:"mt-4 p-4 border rounded-xl bg-gray-50"},lt={class:"mt-4 p-4 border rounded-xl bg-gray-50"},ut={class:"application-section"},st=Object(o["createElementVNode"])("h2",null,"Pilot Specifications",-1);function pt(e,t,n,r,a,c){var i=Object(o["resolveComponent"])("document-manager"),l=Object(o["resolveComponent"])("cspec-summary"),u=Object(o["resolveComponent"])("base-step");return Object(o["openBlock"])(),Object(o["createBlock"])(u,{step:3,"approve-button-label":"Approve Pilot and Specifications",title:"Pilot ACMG Guideline Specificiations",onStepApproved:t[0]||(t[0]=function(t){return e.$emit("stepApproved")})},{document:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("div",ct,[Object(o["createVNode"])(i,{application:c.application,"document-type-id":3,getsReviewd:!1,step:3,class:"mb-4",title:"Final Specifications"},null,8,["application"])]),Object(o["createElementVNode"])("div",it,[Object(o["createVNode"])(i,{title:"Pilot Classifications",application:c.application,"document-type-id":4,getsReviewd:!1,step:3},null,8,["application"])]),Object(o["createElementVNode"])("div",lt,[Object(o["createVNode"])(i,{title:"Additional Documents",application:c.application,"document-type-id":7,getsReviewd:!1,"show-version":!1,step:3},null,8,["application"])])])]})),sections:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",ut,[st,Object(o["createVNode"])(l)])]})),_:1})}var dt={name:"StepThree",components:{BaseStep:ze,DocumentManager:xe,CspecSummary:nt["a"]},props:{},emits:["stepApproved"],data:function(){return{}},computed:Object(c["a"])(Object(c["a"])({},Object(i["b"])({group:"groups/currentItemOrNew"})),{},{application:function(){return this.group.expert_panel}}),methods:{formatDate:function(e){return Object(R["b"])(e)}}};const mt=ee()(dt,[["render",pt]]);var bt=mt;function ft(e,t,n,r,a,c){var i=Object(o["resolveComponent"])("sustained-curation-review"),l=Object(o["resolveComponent"])("base-step");return Object(o["openBlock"])(),Object(o["createBlock"])(l,{step:4,"document-type":5,"document-name":"Sustained Curation","document-gets-reviewed":!0,"approve-button-label":"Approve Sustained Curation",title:"Sustained Curation",onStepApproved:t[0]||(t[0]=function(t){return e.$emit("stepApproved")})},{sections:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i)]})),_:1})}var vt=n("f7ba"),Ot={name:"StepFour",components:{BaseStep:ze,SustainedCurationReview:vt["a"]},props:{},emits:["stepApproved"],data:function(){return{}},computed:Object(c["a"])(Object(c["a"])({},Object(i["b"])({group:"groups/currentItemOrNew"})),{},{application:function(){return this.group.expert_panel}}),methods:{}};const ht=ee()(Ot,[["render",ft]]);var jt=ht,wt={components:{StepOne:Xe,StepTwo:at,StepThree:bt,StepFour:jt},emits:["stepApproved"],data:function(){return{activeStep:1}},computed:Object(c["a"])(Object(c["a"])({},Object(i["b"])({group:"groups/currentItemOrNew"})),{},{application:function(){return this.group.expert_panel},activeIndex:{deep:!0,get:function(){return this.application&&this.application.current_step?this.application.current_step-1:0},set:function(e){this.activeStep=e+1}}}),methods:{handleApproved:function(){this.$emit("stepApproved")}}};const gt=ee()(wt,[["render",a]]);t["a"]=gt}}]);
//# sourceMappingURL=application-detail~group-detail.39ab0839.js.map