(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["group-detail"],{"0251":function(e,t,n){},3922:function(e,t,n){"use strict";n("bc5a")},"457f":function(e,t,n){"use strict";n.r(t);n("b0c0");var r=n("7a23"),o=function(e){return Object(r["pushScopeId"])("data-v-56b32fba"),e=e(),Object(r["popScopeId"])(),e},c={class:"flex"},i={class:"flex-1"},a={key:0},l={class:"flex space-x-2"},u=["errors"],s={key:1},d={class:"border-t mt-4 pt-2"},p=o((function(){return Object(r["createElementVNode"])("h3",null,"Group Roles",-1)})),m={class:"flex flex-col h-24 flex-wrap"},b={key:0,class:"border-t mt-2 pt-2 pl-2"},f=o((function(){return Object(r["createElementVNode"])("h4",null,"Training",-1)})),j={class:"flex justify-between w-full items-center"},O=Object(r["createTextVNode"])(" Group Permissions "),g={class:"flex flex-col h-24 flex-wrap"},h={class:"px-2 py-1 bg-gray-100 border relative text-xs"},v={class:"flex space-x-2"},w=o((function(){return Object(r["createElementVNode"])("strong",null,"Legend: ",-1)})),y=o((function(){return Object(r["createElementVNode"])("div",{class:"absolute top-0 left-0 w-full h-full bg-pink-500 opacity-0"},"Â ",-1)})),k={key:0,class:"pt-2 border-l pl-2 flex-1"},V=o((function(){return Object(r["createElementVNode"])("h5",{class:"font-bold border-b mb-1 pb-1"},"Matching people",-1)}));function C(e,t,n,o,C,x){var N=Object(r["resolveComponent"])("input-row"),E=Object(r["resolveComponent"])("dictionary-row"),D=Object(r["resolveComponent"])("static-alert"),_=Object(r["resolveComponent"])("checkbox"),B=Object(r["resolveComponent"])("badge"),M=Object(r["resolveComponent"])("collapsible"),S=Object(r["resolveComponent"])("member-suggestions"),F=Object(r["resolveComponent"])("button-row");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[Object(r["createElementVNode"])("div",c,[Object(r["createElementVNode"])("div",i,[C.newMember.id||C.newMember.person_id?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",a,[Object(r["createVNode"])(N,{label:"Name",errors:x.nameErrors},{default:Object(r["withCtx"])((function(){return[Object(r["createElementVNode"])("div",l,[Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return C.newMember.person.first_name=e}),placeholder:"First",class:"block w-1/2",onInput:t[1]||(t[1]=function(){return x.getSuggestedPeople&&x.getSuggestedPeople.apply(x,arguments)})},null,544),[[r["vModelText"],C.newMember.person.first_name]]),Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=function(e){return C.newMember.person.last_name=e}),placeholder:"Last",class:"block w-1/2",onInput:t[3]||(t[3]=function(){return x.getSuggestedPeople&&x.getSuggestedPeople.apply(x,arguments)}),errors:C.errors.last_name},null,40,u),[[r["vModelText"],C.newMember.person.last_name]])])]})),_:1},8,["errors"]),Object(r["createVNode"])(N,{label:"Email",modelValue:C.newMember.person.email,"onUpdate:modelValue":t[4]||(t[4]=function(e){return C.newMember.person.email=e}),placeholder:"example@example.com","input-class":"w-full",onInput:x.getSuggestedPeople,errors:C.errors.email},null,8,["modelValue","onInput","errors"])])),C.newMember.id||C.newMember.person_id?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",s,[Object(r["createVNode"])(E,{label:"Name"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(C.newMember.person.first_name)+" "+Object(r["toDisplayString"])(C.newMember.person.last_name),1)]})),_:1}),Object(r["createVNode"])(E,{label:"Email"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(C.newMember.person.email),1)]})),_:1}),C.newMember.id?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createBlock"])(D,{key:0},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(" Adding existing person, "+Object(r["toDisplayString"])(C.newMember.person.name)+", as a group member. ",1)]})),_:1}))])):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(N,{label:"Expertise",errors:C.errors.expertise},{default:Object(r["withCtx"])((function(){return[Object(r["withDirectives"])(Object(r["createElementVNode"])("textarea",{rows:"5","onUpdate:modelValue":t[5]||(t[5]=function(e){return C.newMember.expertise=e}),class:"w-full"},null,512),[[r["vModelText"],C.newMember.expertise]])]})),_:1},8,["errors"]),Object(r["createVNode"])(N,{label:"Notes",errors:C.errors.notes},{default:Object(r["withCtx"])((function(){return[Object(r["withDirectives"])(Object(r["createElementVNode"])("textarea",{rows:"5","onUpdate:modelValue":t[6]||(t[6]=function(e){return C.newMember.notes=e}),class:"w-full"},null,512),[[r["vModelText"],C.newMember.notes]])]})),_:1},8,["errors"]),Object(r["createVNode"])(E,{label:""},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(_,{modelValue:C.newMember.is_contact,"onUpdate:modelValue":t[7]||(t[7]=function(e){return C.newMember.is_contact=e}),label:"Receives notifications about group"},null,8,["modelValue"])]})),_:1}),Object(r["createElementVNode"])("div",d,[p,Object(r["createElementVNode"])("div",m,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(o.roles,(function(n){return Object(r["openBlock"])(),Object(r["createBlock"])(_,{key:n.id,modelValue:C.newMember.roles,"onUpdate:modelValue":t[8]||(t[8]=function(e){return C.newMember.roles=e}),value:n,label:e.titleCase(n.name)},null,8,["modelValue","value","label"])})),128))]),Object(r["createVNode"])(r["Transition"],{name:"fade-down"},{default:Object(r["withCtx"])((function(){return[C.newMember.hasRole("biocurator")&&o.group.isVcep()?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",b,[f,(Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])([1,2],(function(e){return Object(r["createVNode"])(_,{key:e,modelValue:C.newMember["training_level_".concat(e)],"onUpdate:modelValue":function(t){return C.newMember["training_level_".concat(e)]=t},value:1,label:"Level ".concat(e)},null,8,["modelValue","onUpdate:modelValue","label"])})),64))])):Object(r["createCommentVNode"])("",!0)]})),_:1})]),Object(r["createVNode"])(M,{class:"border-t mt-4 pt-2"},{title:Object(r["withCtx"])((function(){return[Object(r["createElementVNode"])("h3",j,[O,C.newMember.permissions.length>0?(Object(r["openBlock"])(),Object(r["createBlock"])(B,{key:0,color:"gray"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(C.newMember.permissions.length),1)]})),_:1})):Object(r["createCommentVNode"])("",!0)])]})),default:Object(r["withCtx"])((function(){return[Object(r["createElementVNode"])("div",g,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(o.permissions,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])(_,{key:e.id,modelValue:C.newMember.permissions,"onUpdate:modelValue":t[9]||(t[9]=function(e){return C.newMember.permissions=e}),value:e,disabled:C.newMember.hasPermissionThroughRole(e),checked:C.newMember.hasPermissionThroughRole(e),id:"permission-".concat(e.id),title:C.newMember.hasPermissionThroughRole(e)?"granted with role":"grant permission",label:e.name},null,8,["modelValue","value","disabled","checked","id","title","label"])})),128))]),Object(r["createElementVNode"])("div",h,[Object(r["createElementVNode"])("div",v,[w,Object(r["createVNode"])(_,{label:"Not granted"}),Object(r["createVNode"])(_,{checked:"true",label:"Granted"}),Object(r["createVNode"])(_,{checked:"true",disabled:"true",label:"Granted w/ role"})]),y])]})),_:1})]),Object(r["createVNode"])(r["Transition"],{name:"slide-fade"},{default:Object(r["withCtx"])((function(){return[C.suggestedPeople.length>0&&null===C.newMember.person_id?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",k,[V,Object(r["createVNode"])(S,{suggestions:C.suggestedPeople,onSelected:x.useExistingPerson},null,8,["suggestions","onSelected"])])):Object(r["createCommentVNode"])("",!0)]})),_:1})]),Object(r["createVNode"])(F,{onSubmit:x.save,onCancel:x.cancel,"submit-text":"Save"},null,8,["onSubmit","onCancel"])])}var x=n("1da1"),N=(n("96cf"),n("4de4"),n("0481"),n("a630"),n("3ca3"),n("d3b7"),n("6062"),n("ddb0"),n("d81d"),n("caad"),n("2532"),n("159b"),n("4a91")),E=n("5502"),D=n("86ed"),_=["onClick"];function B(e,t,n,o,c,i){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[Object(r["createElementVNode"])("ul",null,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(n.suggestions,(function(t){return Object(r["openBlock"])(),Object(r["createElementBlock"])("li",{key:t.uuid,class:"flex justify-between my-2"},[Object(r["renderSlot"])(e.$slots,"default",{},(function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.name)+" ",1),Object(r["createElementVNode"])("button",{class:"btn btn-xs",onClick:function(e){return i.useSuggestion(t)}}," Add as member ",8,_)]}))])})),128))])])}var M={name:"ComponentName",props:{suggestions:{required:!0,type:Array}},emits:["selected"],data:function(){return{}},computed:{},methods:{useSuggestion:function(e){this.$emit("selected",e)}}};M.render=B;var S=M,F=n("033d"),U={name:"AddMemberForm",components:{MemberSuggestions:S},props:{uuid:{required:!0,type:String},memberId:{required:!1,default:null}},emits:["saved","canceled","closed"],data:function(){return{newMember:new D["a"],errors:{},suggestedPeople:[]}},computed:{originalMember:function(){return this.group.findMember(this.memberId)},nameErrors:function(){return[this.errors.first_name,this.errors.last_name].flat().filter((function(e){return e}))}},setup:function(){var e=Object(E["d"])(),t=Object(r["computed"])((function(){return e.getters["groups/currentItemOrNew"]||{}})),n=Object(r["computed"])((function(){return e.getters["people/all"]||{}})),o=N["groups"].roles,c=N["groups"].permissions;return{group:t,people:n,roles:o,permissions:c}},watch:{group:function(){this.syncMember()}},methods:{getSuggestedPeople:function(){var e=this,t=this.people.filter((function(t){return t.matchesKeyword(e.newMember.person.first_name)||t.matchesKeyword(e.newMember.person.last_name)||t.matchesKeyword(e.newMember.person.email)})).filter((function(t){return!e.isAlreadyMember(t)}));this.suggestedPeople=Array.from(new Set(t))},initNewMember:function(){this.newMember=new D["a"]},syncMember:function(){try{this.memberId&&(this.newMember=this.originalMember.clone())}catch(e){this.group.isPersisted()&&alert(e)}},clearForm:function(){this.initNewMember()},cancel:function(){this.clearForm(),this.$emit("canceled")},save:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.newMember.isPersisted()){t.next=8;break}if(e.newMember.person.isPersisted()){t.next=5;break}return t.next=5,e.inviteNewMember(e.group,e.newMember);case 5:if(!e.newMember.person.isPersisted()){t.next=8;break}return t.next=8,e.addPersonAsMember(e.group,e.newMember);case 8:if(!e.newMember.isPersisted()){t.next=11;break}return t.next=11,e.updateExistingMember(e.group,e.newMember);case 11:e.clearForm(),e.$emit("saved"),t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](0),Object(F["a"])(t.t0)&&(e.errors=t.t0.response.data.errors);case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))()},inviteNewMember:function(e,t){var n=this;return Object(x["a"])(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,n.$store.dispatch("groups/memberInvite",{uuid:e.uuid,data:{firstName:t.person.first_name,lastName:t.person.last_name,email:t.person.email,roleIds:t.roles.map((function(e){return e.id})),isContact:t.is_contact,expertise:t.expertise,notes:t.notes,training_level_1:t.training_level_1,training_level_2:t.training_level_2}});case 3:if(o=r.sent,!(t.permissions.length>0)){r.next=7;break}return r.next=7,n.$store.dispatch("groups/memberGrantPermission",{uuid:e.uuid,memberId:o.data.id,permissionIds:t.permissions.map((function(e){return e.id}))});case 7:r.next=12;break;case 9:r.prev=9,r.t0=r["catch"](0),Object(F["a"])(r.t0)&&(n.errors=r.t0.response.data.errors);case 12:case"end":return r.stop()}}),r,null,[[0,9]])})))()},addPersonAsMember:function(e,t){var n=this;return Object(x["a"])(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,n.$store.dispatch("groups/memberAdd",{uuid:e.uuid,personId:t.person_id,roleIds:t.roles.map((function(e){return e.id})),isContact:t.is_contact,expertise:t.expertise,notes:t.notes,training_level_1:t.training_level_1,training_level_2:t.training_level_2});case 3:if(o=r.sent,!(t.permissions.length>0)){r.next=7;break}return r.next=7,n.$store.dispatch("groups/memberGrantPermission",{uuid:e.uuid,memberId:o.id,permissionIds:t.permissions.map((function(e){return e.id}))});case 7:r.next=12;break;case 9:r.prev=9,r.t0=r["catch"](0),Object(F["a"])(r.t0)&&(n.errors=r.t0.response.data.errors);case 12:case"end":return r.stop()}}),r,null,[[0,9]])})))()},updateExistingMember:function(e,t){var n=this;return Object(x["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,n.$store.dispatch("groups/memberUpdate",{groupUuid:e.uuid,memberId:t.id,data:{is_contact:n.newMember.is_contact,expertise:n.newMember.expertise,notes:n.newMember.notes,training_level_1:n.newMember.training_level_1,training_level_2:n.newMember.training_level_2}});case 2:return r.next=4,n.$store.dispatch("groups/memberSyncRoles",{group:e,member:t});case 4:return r.next=6,n.syncPermissions(e,t);case 6:case"end":return r.stop()}}),r)})))()},syncPermissions:function(e,t){var n=this;return Object(x["a"])(regeneratorRuntime.mark((function r(){var o,c,i,a,l;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:o=e.findMember(n.memberId),c=o.permissions.map((function(e){return e.id})),i=t.permissions.map((function(e){return e.id})),a=i.filter((function(e){return!c.includes(e)})),l=c.filter((function(e){return!i.includes(e)})),a.length>0&&n.$store.dispatch("groups/memberGrantPermission",{uuid:e.uuid,memberId:t.id,permissionIds:a}),l.forEach((function(r){n.$store.dispatch("groups/memberRevokePermission",{uuid:e.uuid,memberId:t.id,permissionId:r})}));case 7:case"end":return r.stop()}}),r)})))()},useExistingPerson:function(e){this.newMember.person_id=e.id,this.newMember.person=e.clone()},isAlreadyMember:function(e){return this.group.members.map((function(e){return e.person.id})).includes(e.id)}},mounted:function(){this.$store.dispatch("people/getAll",{}),this.initNewMember(),this.syncMember()}};n("3922");U.render=C,U.__scopeId="data-v-56b32fba";t["default"]=U},8067:function(e,t,n){},"831e":function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return d}));var r=n("1da1"),o=(n("c740"),n("99af"),n("a434"),n("96cf"),n("7a23")),c=n("f96b"),i=Object(o["ref"])([]),a=Object(o["computed"])((function(){return i.value})),l=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].get(t).then((function(e){return e.data.data}));case 2:i.value=e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].post(t,n).then((function(e){return i.value.push(e.data),e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),s=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].put(t,n).then((function(e){var t=i.value.findIndex((function(t){return t.id==e.data.id}));return i.value[t]=e.data,e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),d=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].delete("".concat(t,"/").concat(n)).then((function(e){var t=i.value.findIndex((function(e){return e.id==n}));return i.value.splice(t,1),e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},"8c58":function(e,t,n){"use strict";n("0251")},b47e:function(e,t,n){"use strict";n.r(t);var r=n("7a23"),o=Object(r["createElementVNode"])("h3",null,"Plans for Ongoing Gene Review and Reanalysis and Discrepancy Resolution",-1),c=Object(r["createElementVNode"])("br",null,null,-1),i={key:0},a=Object(r["createElementVNode"])("header",null,[Object(r["createElementVNode"])("h3",null,"Example Evidence Summaries")],-1),l=Object(r["createTextVNode"])("The attestations below are read only. Attestations can only be completed during the application process."),u=Object(r["createElementVNode"])("h3",null,"Reanalysis & Discrepancy Resolution",-1),s=Object(r["createElementVNode"])("h3",null,"NHGRI Data Availability",-1),d=Object(r["createElementVNode"])("h2",{class:"mb-4"},"Here be dragons. Proceed with caution.",-1),p=Object(r["createElementVNode"])("br",null,null,-1),m=Object(r["createElementVNode"])("br",null,null,-1),b={class:"text-lg"},f=Object(r["createElementVNode"])("p",null,"This cannot be undone.",-1);function j(e,t,n,j,O,g){var h=Object(r["resolveComponent"])("group-detail-header"),v=Object(r["resolveComponent"])("application-summary"),w=Object(r["resolveComponent"])("member-list"),y=Object(r["resolveComponent"])("membership-description-form"),k=Object(r["resolveComponent"])("submission-wrapper"),V=Object(r["resolveComponent"])("tab-item"),C=Object(r["resolveComponent"])("scope-description-form"),x=Object(r["resolveComponent"])("evidence-summaries"),N=Object(r["resolveComponent"])("cspec-summary"),E=Object(r["resolveComponent"])("group-documents"),D=Object(r["resolveComponent"])("note"),_=Object(r["resolveComponent"])("attestation-gcep"),B=Object(r["resolveComponent"])("attestation-reanalysis"),M=Object(r["resolveComponent"])("attestation-nhgri"),S=Object(r["resolveComponent"])("activity-log"),F=Object(r["resolveComponent"])("tabs-container"),U=Object(r["resolveComponent"])("router-view"),R=Object(r["resolveComponent"])("modal-dialog"),T=Object(r["resolveComponent"])("group-form"),I=Object(r["resolveComponent"])("button-row");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[Object(r["createVNode"])(h,{group:j.group,onShowEdit:g.showEdit},null,8,["group","onShowEdit"]),j.group.isApplying?(Object(r["openBlock"])(),Object(r["createBlock"])(v,{key:0,group:j.group},null,8,["group"])):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(F,{onTabChanged:g.handleTabChange},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(V,{label:"Members"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(w,{group:j.group},null,8,["group"]),j.group.isVcep()?(Object(r["openBlock"])(),Object(r["createBlock"])(k,{key:0,onSubmitted:t[1]||(t[1]=function(e){return g.submitForm("saveMembershipDescription","editingExpertise")}),onCanceled:t[2]||(t[2]=function(e){return g.cancelForm("editingExpertise")}),"show-controls":O.editingExpertise},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(y,{ref:"membershipDescriptionFormRef",class:"mt-8",editing:O.editingExpertise,"onUpdate:editing":t[0]||(t[0]=function(e){return O.editingExpertise=e}),errors:O.errors},null,8,["editing","errors"])]})),_:1},8,["show-controls"])):Object(r["createCommentVNode"])("",!0)]})),_:1}),Object(r["createVNode"])(V,{label:"Scope",visible:j.group.isEp()},{default:Object(r["withCtx"])((function(){return[o,j.group.isEp()?(Object(r["openBlock"])(),Object(r["createBlock"])(k,{key:0,onSubmitted:t[4]||(t[4]=function(t){return e.$refs.groupGeneListRef.save()}),onCanceled:t[5]||(t[5]=function(t){return e.$refs.groupGeneListRef.cancel()}),"show-controls":O.editingGenes},{default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(),Object(r["createBlock"])(Object(r["resolveDynamicComponent"])(j.groupGeneList),{ref:"groupGeneListRef",editing:O.editingGenes,"onUpdate:editing":t[3]||(t[3]=function(e){return O.editingGenes=e})},null,8,["editing"]))]})),_:1},8,["show-controls"])):Object(r["createCommentVNode"])("",!0),c,Object(r["createVNode"])(k,{visible:j.group.isEp(),onSubmitted:t[7]||(t[7]=function(e){return g.submitForm("saveScopeDescription","editingScopeDescription")}),onCanceled:t[8]||(t[8]=function(e){return g.cancelForm("editingScopeDescription")}),"show-controls":O.editingScopeDescription},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(C,{ref:"scopeDescriptionRef",editing:O.editingScopeDescription,"onUpdate:editing":t[6]||(t[6]=function(e){return O.editingScopeDescription=e}),errors:O.errors},null,8,["editing","errors"])]})),_:1},8,["visible","show-controls"])]})),_:1},8,["visible"]),Object(r["createVNode"])(V,{label:"Sustained Curation",visible:j.group.isEp()},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(k,{onSubmitted:t[9]||(t[9]=function(e){return g.submitForm("saveOngoingPlansForm")}),onCanceled:t[10]||(t[10]=function(e){return g.cancelForm()}),class:"pb-4",showControls:e.hasAnyPermission(["ep-applications-manage",["application-edit",j.group]])},{default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(),Object(r["createBlock"])(Object(r["resolveDynamicComponent"])(j.ongoingPlansFormComponent),{ref:"ongoingPlansForm",errors:O.errors},null,8,["errors"]))]})),_:1},8,["showControls"]),j.group.isVcep()?(Object(r["openBlock"])(),Object(r["createElementBlock"])("section",i,[a,Object(r["createVNode"])(x,{group:j.group,class:"pb-2 mb-4 border-b"},null,8,["group"])])):Object(r["createCommentVNode"])("",!0)]})),_:1},8,["visible"]),Object(r["createVNode"])(V,{label:"Specifications",visible:j.group.isVcep()},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(N)]})),_:1},8,["visible"]),Object(r["createVNode"])(V,{label:"Documents"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(E)]})),_:1}),Object(r["createVNode"])(V,{label:"Attestations",visible:j.group.isEp()},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(D,null,{default:Object(r["withCtx"])((function(){return[l]})),_:1}),j.group.isGcep()?(Object(r["openBlock"])(),Object(r["createBlock"])(_,{key:0,class:"pb-2 mb-4 border-b",disabled:!0})):Object(r["createCommentVNode"])("",!0),u,j.group.isVcep()?(Object(r["openBlock"])(),Object(r["createBlock"])(B,{key:1,class:"pb-2 mb-4 border-b",disabled:!0})):Object(r["createCommentVNode"])("",!0),s,Object(r["createVNode"])(M,{class:"pb-2 mb-4 border-b",disabled:!0})]})),_:1},8,["visible"]),Object(r["createVNode"])(V,{label:"Log",visible:e.hasPermission("groups-manage")||e.userInGroup(j.group)},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(S,{"log-entries":j.logEntries,"api-url":"/api/groups/".concat(j.group.uuid,"/activity-logs"),"log-updated":j.getLogEntries},null,8,["log-entries","api-url","log-updated"]),Object(r["createElementVNode"])("button",{class:"btn btn-xs mt-1",onClick:t[11]||(t[11]=function(){return j.getLogEntries&&j.getLogEntries.apply(j,arguments)})},"Refresh")]})),_:1},8,["visible"]),Object(r["createVNode"])(V,{label:"Admin",visible:e.hasPermission("groups-manage")},{default:Object(r["withCtx"])((function(){return[d,Object(r["createElementVNode"])("button",{class:"btn btn red",onClick:t[12]||(t[12]=function(){return g.initDelete&&g.initDelete.apply(g,arguments)})},"Delete Group")]})),_:1},8,["visible"])]})),_:1},8,["onTabChanged"]),p,m,(Object(r["openBlock"])(),Object(r["createBlock"])(r["Teleport"],{to:"body"},[Object(r["createVNode"])(R,{modelValue:j.showModal,"onUpdate:modelValue":t[13]||(t[13]=function(e){return j.showModal=e}),onClosed:g.handleModalClosed,title:this.$route.meta.title},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(U,{ref:"modalView",onSaved:g.hideModal,onCanceled:g.hideModal},null,8,["onSaved","onCanceled"])]})),_:1},8,["modelValue","onClosed","title"]),Object(r["createVNode"])(R,{modelValue:O.showInfoEdit,"onUpdate:modelValue":t[18]||(t[18]=function(e){return O.showInfoEdit=e}),onClosed:t[19]||(t[19]=function(e){return O.showInfoEdit=!1}),title:"Edit Group Info",size:"sm"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(k,{onSubmitted:t[16]||(t[16]=function(t){return e.$refs.infoForm.save()}),onCanceled:t[17]||(t[17]=function(t){return e.$refs.infoForm.cancel()})},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(T,{ref:"infoForm",onCanceled:t[14]||(t[14]=function(e){return O.showInfoEdit=!1}),onSaved:t[15]||(t[15]=function(e){return O.showInfoEdit=!1})},null,512)]})),_:1})]})),_:1},8,["modelValue"]),Object(r["createVNode"])(R,{modelValue:O.showConfirmDelete,"onUpdate:modelValue":t[21]||(t[21]=function(e){return O.showConfirmDelete=e}),title:"Delete This Group?"},{default:Object(r["withCtx"])((function(){return[Object(r["createElementVNode"])("div",b,[Object(r["createElementVNode"])("p",null," You are about to delete "+Object(r["toDisplayString"])(j.group.displayName)+" and all associated data. ",1),f]),Object(r["createVNode"])(I,{"submit-text":"Delete this group.",onSubmitted:g.deleteGroup,onCanceled:t[20]||(t[20]=function(e){return O.showConfirmDelete=!1})},null,8,["onSubmitted"])]})),_:1},8,["modelValue"])]))])}var O=n("1da1"),g=(n("ac1f"),n("5319"),n("96cf"),n("5502")),h=n("831e"),v=n("1874"),w=(n("4e82"),n("a4d3"),n("e01a"),{key:0,class:"px-3 py-2 rounded border border-gray-300 text-gray-500 bg-gray-200"}),y={key:0,class:"flex space-x-1"},k=["onClick"],V=["onClick"],C=["innerHTML"];function x(e,t,n,o,c,i){var a=Object(r["resolveComponent"])("icon-edit"),l=Object(r["resolveComponent"])("icon-trash"),u=Object(r["resolveComponent"])("data-table"),s=Object(r["resolveComponent"])("log-entry-form"),d=Object(r["resolveComponent"])("modal-dialog"),p=Object(r["resolveComponent"])("activity-log-delete-confirmation");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[o.hasLogEntries?(Object(r["openBlock"])(),Object(r["createBlock"])(u,{key:1,fields:o.fields,data:n.logEntries,sort:o.sort,"onUpdate:sort":t[0]||(t[0]=function(e){return o.sort=e})},{"cell-id":Object(r["withCtx"])((function(t){var n=t.item;return[e.hasPermission("groups-manage")?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",y,[Object(r["createElementVNode"])("button",{class:"btn btn-xs inline-block",onClick:function(e){return o.editLogEntry(n)}},[Object(r["createVNode"])(a,{width:"12"})],8,k),null===n.activity_type?(Object(r["openBlock"])(),Object(r["createElementBlock"])("button",{key:0,onClick:function(e){return o.confirmDelete(n)},class:"btn btn-xs inline-block"},[Object(r["createVNode"])(l,{width:"12"})],8,V)):Object(r["createCommentVNode"])("",!0)])):Object(r["createCommentVNode"])("",!0)]})),"cell-description":Object(r["withCtx"])((function(e){var t=e.item;return[Object(r["createElementVNode"])("div",{innerHTML:t.description,class:"links-blue"},null,8,C)]})),_:1},8,["fields","data","sort"])):(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",w," No log entries to display ")),Object(r["createVNode"])(d,{modelValue:o.editingEntry,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.editingEntry=e}),title:"Edit log entry"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(s,{"log-entry":o.selectedEntry,"api-url":n.apiUrl,onSaved:o.closeEntryForm,onCanceled:o.closeEntryForm},null,8,["log-entry","api-url","onSaved","onCanceled"])]})),_:1},8,["modelValue"]),Object(r["createVNode"])(d,{modelValue:o.showDeleteConfirmation,"onUpdate:modelValue":t[2]||(t[2]=function(e){return o.showDeleteConfirmation=e}),title:"Delete this log entry?"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(p,{logEntry:o.selectedEntry,"api-url":n.apiUrl,onCanceled:o.closeDeleteConfirmation,onDeleted:o.closeDeleteConfirmation},null,8,["logEntry","api-url","onCanceled","onDeleted"])]})),_:1},8,["modelValue"])])}var N=Object(r["createElementVNode"])("hr",null,null,-1);function E(e,t,n,o,c,i){var a=Object(r["resolveComponent"])("input-row"),l=Object(r["resolveComponent"])("rich-text-editor"),u=Object(r["resolveComponent"])("button-row"),s=Object(r["resolveComponent"])("form-container");return Object(r["openBlock"])(),Object(r["createBlock"])(s,{class:"log-entry-form",ref:"form-container"},{default:Object(r["withCtx"])((function(){return[N,Object(r["createVNode"])(a,{label:"Log Date",modelValue:o.newEntry.log_date,"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.newEntry.log_date=e}),errors:o.errors.log_date,type:"date",ref:"logdate"},null,8,["modelValue","errors"]),Object(r["createVNode"])(a,{label:"Entry",errors:o.errors.entry},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{modelValue:o.newEntry.entry,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.newEntry.entry=e})},null,8,["modelValue"])]})),_:1},8,["errors"]),Object(r["createVNode"])(u,null,{default:Object(r["withCtx"])((function(){return[Object(r["createElementVNode"])("button",{class:"btn",onClick:t[2]||(t[2]=function(){return o.cancel&&o.cancel.apply(o,arguments)})},"Cancel"),Object(r["createElementVNode"])("button",{class:"btn blue",onClick:t[3]||(t[3]=function(){return o.save&&o.save.apply(o,arguments)})},"Save")]})),_:1})]})),_:1},512)}n("99af");var D=n("85fe"),_={name:"LogEntryForm",components:{RichTextEditor:D["default"]},props:{logEntry:{required:!1,default:function(){return{log_date:new Date,step:null,entry:""}}},apiUrl:{required:!0,type:String}},setup:function(e,t){var n=Object(r["ref"])({log_date:new Date,step:null,entry:""}),o=Object(r["ref"])({}),c=function(e){e&&e.created_at&&(n.value={id:e.id,log_date:new Date(Date.parse(e.created_at)),step:e.properties?e.properties.step:null,entry:e.description})},i=function(){n.value={log_date:new Date,step:null,entry:""}},a=function(){var r=Object(O["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(r.prev=0,!n.value.id){r.next=6;break}return r.next=4,Object(h["e"])("".concat(e.apiUrl,"/").concat(n.value.id),n.value);case 4:r.next=8;break;case 6:return r.next=8,Object(h["d"])(e.apiUrl,n.value);case 8:return r.next=10,Object(h["b"])(e.apiUrl);case 10:i(),t.emit("saved",n.value),r.next=19;break;case 14:if(r.prev=14,r.t0=r["catch"](0),!r.t0.response||422!=r.t0.response.status||!r.t0.response.data.errors){r.next=19;break}return o.value=r.t0.response.data.errors,r.abrupt("return");case 19:case"end":return r.stop()}}),r,null,[[0,14]])})));return function(){return r.apply(this,arguments)}}(),l=function(){i(),t.emit("canceled")};return Object(r["watch"])((function(){return e.logEntry}),(function(e){c(e)}),{immediate:!0}),{newEntry:n,errors:o,syncEntry:c,initNewEntry:i,save:a,cancel:l}},mounted:function(){}};_.render=E;var B=_,M=(n("b0c0"),Object(r["createElementVNode"])("p",null,"You are about to delete the following log entry:",-1)),S={class:"border-y py-2"},F=["innerHTML"],U={key:0,class:"ml-4 mt-2 mb-4 text-gray-700 text-sm"},R=Object(r["createElementVNode"])("div",null,"This can not be undone. Are you sure you want to continue?",-1),T={key:0,class:"bg-red-200 text-red-900 rounded p-2 my-2"};function I(e,t,n,o,c,i){var a=Object(r["resolveComponent"])("button-row");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[M,Object(r["createElementVNode"])("div",S,[Object(r["createElementVNode"])("blockquote",null,[Object(r["createElementVNode"])("div",{innerHTML:n.logEntry.description},null,8,F)]),n.logEntry.causer?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",U,"Logged by "+Object(r["toDisplayString"])(n.logEntry.causer.name)+", "+Object(r["toDisplayString"])(o.logDate),1)):Object(r["createCommentVNode"])("",!0)]),R,o.flattenedErrors.length>0?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",T,[Object(r["createElementVNode"])("ul",null,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(o.flattenedErrors,(function(e,t){return Object(r["openBlock"])(),Object(r["createElementBlock"])("li",{key:t},Object(r["toDisplayString"])(e),1)})),128))])])):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(a,{onCanceled:t[0]||(t[0]=function(t){return e.$emit("canceled")}),onSubmitted:o.deleteLogEntry,submitText:"Delete Log Entry"},null,8,["onSubmitted"])])}n("0481"),n("07ac");var P=n("e328"),$=n("033d"),L={name:"ConfirmDeleteLogEntry",props:{logEntry:{required:!0,type:Object},apiUrl:{required:!0,type:String}},emits:["deleted","canceled"],setup:function(e,t){var n=Object(r["ref"])({}),o=Object(r["computed"])((function(){return Object(P["a"])(e.logEntry.properties.log_date)})),c=Object(r["computed"])((function(){return Object.values(n.value).flat()})),i=function(){var r=Object(O["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(h["a"])(e.apiUrl,e.logEntry.id);case 3:return t.emit("deleted"),r.next=6,Object(h["b"])(e.apiUrl);case 6:r.next=14;break;case 8:if(r.prev=8,r.t0=r["catch"](0),!Object($["a"])(r.t0)){r.next=13;break}return n.value=r.t0.response.data.errors,r.abrupt("return");case 13:n.value={a:r.t0.message};case 14:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(){return r.apply(this,arguments)}}();return{errors:n,logDate:o,flattenedErrors:c,deleteLogEntry:i}}};n("8c58");L.render=I;var G=L,A=[{name:"created_at",label:"Created",sortName:"created_at",sortable:!0,type:Date},{name:"description",label:"Entry",sortable:!0,type:String},{name:"causer.name",label:"User",sortable:!0},{name:"id",label:"",sortable:!1}],q={components:{LogEntryForm:B,ActivityLogDeleteConfirmation:G},props:{logEntries:{required:!0,type:Array},apiUrl:{required:!0,type:String}},setup:function(e){var t=Object(r["ref"])({field:"created_at",desc:!0}),n=Object(r["ref"])({}),o=Object(r["ref"])(!1),c=Object(r["computed"])((function(){return e.logEntries.length>0})),i=function(e){o.value=!0,n.value=e},a=function(){o.value=!1,n.value={}},l=Object(r["ref"])(!1),u=function(e){n.value=e,l.value=!0},s=function(){l.value=!1,n.value={}};return{fields:Object(r["ref"])(A),sort:t,selectedEntry:n,editingEntry:o,hasLogEntries:c,editLogEntry:i,closeEntryForm:a,showDeleteConfirmation:l,confirmDelete:u,closeDeleteConfirmation:s}}};n("b5c7");q.render=x;var H=q,J={key:0,class:"p-4 my-4 mb-8 border rounded-xl bg-white"},z={class:"mb-2"},K=Object(r["createTextVNode"])(" Application Summary "),Y={key:0},Q={class:"px-8"},W={key:2},X=Object(r["createTextVNode"])("Approved"),Z={key:0,class:"flex-1"},ee={key:0,class:"mt-4"},te=Object(r["createElementVNode"])("button",{class:"btn blue btn-lg"},"Go to application",-1);function ne(e,t,n,o,c,i){var a=Object(r["resolveComponent"])("requirements-badge"),l=Object(r["resolveComponent"])("icon-lock"),u=Object(r["resolveComponent"])("badge"),s=Object(r["resolveComponent"])("router-link");return n.group.isEp()?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",J,[Object(r["createElementVNode"])("h2",z,[K,i.applicationStarted&&n.group.isVcep()?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",Y," - "+Object(r["toDisplayString"])(this.currentMenuItem.title),1)):Object(r["createCommentVNode"])("",!0)]),Object(r["createElementVNode"])("ul",Q,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(i.menu,(function(e,t){return Object(r["openBlock"])(),Object(r["createElementBlock"])("li",{key:t,class:"py-1 flex justify-between border-b border-gray-300 my-2"},[Object(r["createElementVNode"])("div",{class:Object(r["normalizeClass"])(["flex justify-between",{"w-full":!i.isStep(e)}])},[Object(r["createElementVNode"])("div",{class:Object(r["normalizeClass"])(["w-56 text-lg",{"text-gray-400":i.isStep(e)&&e.isDisabled(n.group)}])},Object(r["toDisplayString"])(e.title),3),Object(r["createElementVNode"])("div",null,[i.isStep(e)?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createBlock"])(a,{key:0,section:e},null,8,["section"])),i.isStep(e)&&e.isDisabled(n.group)?(Object(r["openBlock"])(),Object(r["createBlock"])(l,{key:1,class:"inline text-gray-400",height:14,width:14})):Object(r["createCommentVNode"])("",!0),i.isStep(e)&&e.isComplete(n.group)?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",W,[Object(r["createVNode"])(u,{color:"green"},{default:Object(r["withCtx"])((function(){return[X]})),_:1})])):Object(r["createCommentVNode"])("",!0)])],2),i.isCurrentStep(e)?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",Z,[Object(r["createElementVNode"])("ul",null,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(e.sections,(function(e,t){return Object(r["openBlock"])(),Object(r["createElementBlock"])("li",{key:t,class:"pb-2 flex justify-between my-2"},[Object(r["createElementVNode"])("div",null,Object(r["toDisplayString"])(e.title),1),Object(r["createVNode"])(a,{section:e},null,8,["section"])])})),128))])])):Object(r["createCommentVNode"])("",!0)])})),128))]),e.hasAnyPermission(["ep-applications-manage",["application-edit",n.group]])?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",ee,[n.group.uuid?(Object(r["openBlock"])(),Object(r["createBlock"])(s,{key:0,to:i.applicationRoute},{default:Object(r["withCtx"])((function(){return[te]})),_:1},8,["to"])):Object(r["createCommentVNode"])("",!0)])):Object(r["createCommentVNode"])("",!0)])):Object(r["createCommentVNode"])("",!0)}var re=n("3a9d"),oe=n("5313"),ce={name:"ApplicationSummary",components:{RequirementsBadge:re["a"]},props:{group:{required:!0,type:Object}},data:function(){return{}},computed:{applicationStarted:function(){return!0},application:function(){return this.group.isVcep()?oe["c"]:oe["a"]},currentStep:function(){return this.group.expert_panel.current_step},applicationRoute:function(){return{name:"GroupApplication",params:{uuid:this.group.uuid},hash:"#".concat(this.currentMenuItem.id)}},currentMenuItem:function(){return this.application.getStep(this.group.expert_panel.current_step)},menu:function(){return this.application.steps.length>1?this.application.steps:this.application.steps[0].sections}},methods:{isStep:function(e){return Boolean(e.sections)},isCurrentStep:function(e){return!(!this.isStep(e)||this.application.getStep(this.group.expert_panel.current_step)!=e)}}};ce.render=ne;var ie=ce,ae=n("8fec"),le=n("3926"),ue=n("a266"),se=n("abba"),de=n("324b"),pe=n("206f"),me=n("6ca3"),be=n("268c"),fe=(n("a15b"),n("d81d"),{class:"pb-4"}),je=Object(r["createTextVNode"])("Groups"),Oe={class:"flex justify-between items-center"},ge={key:0},he=Object(r["createElementVNode"])("strong",null,"Chairs:",-1),ve={key:0},we={key:1,class:"text-gray-500"},ye=Object(r["createElementVNode"])("strong",null,"Coordinators:",-1),ke={key:0},Ve={key:1,class:"text-gray-500"};function Ce(e,t,n,o,c,i){var a=Object(r["resolveComponent"])("router-link"),l=Object(r["resolveComponent"])("badge"),u=Object(r["resolveComponent"])("note"),s=Object(r["resolveComponent"])("dictionary-row");return Object(r["openBlock"])(),Object(r["createElementBlock"])("header",fe,[Object(r["createVNode"])(a,{class:"note",to:{name:"GroupList"}},{default:Object(r["withCtx"])((function(){return[je]})),_:1}),Object(r["createElementVNode"])("h1",Oe,[Object(r["createElementVNode"])("div",null,[Object(r["createTextVNode"])(Object(r["toDisplayString"])(n.group.displayName)+" ",1),Object(r["createVNode"])(l,{color:n.group.statusColor,class:"text-xs"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(n.group.status?n.group.status.name:"loading..."),1)]})),_:1},8,["color"]),e.hasRole("super-user")?(Object(r["openBlock"])(),Object(r["createBlock"])(u,{key:0,class:"font-normal"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(" group.id: "+Object(r["toDisplayString"])(n.group.id)+" ",1),n.group.isEp()?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",ge," | expertPanel.id: "+Object(r["toDisplayString"])(n.group.expert_panel.id),1)):Object(r["createCommentVNode"])("",!0)]})),_:1})):Object(r["createCommentVNode"])("",!0)]),e.hasAnyPermission(["groups-manage",["info-edit",n.group]])?(Object(r["openBlock"])(),Object(r["createElementBlock"])("button",{key:0,onClick:t[0]||(t[0]=function(t){return e.$emit("showEdit")}),class:"btn btn-xs"}," Edit ")):Object(r["createCommentVNode"])("",!0)]),Object(r["createVNode"])(s,{label:"Chairs:"},{label:Object(r["withCtx"])((function(){return[he]})),default:Object(r["withCtx"])((function(){return[n.group.chairs.length>0?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",ve,Object(r["toDisplayString"])(n.group.chairs.map((function(e){return e.person.name})).join(", ")),1)):(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",we," None assigned "))]})),_:1}),Object(r["createVNode"])(s,{label:"Coordinators:"},{label:Object(r["withCtx"])((function(){return[ye]})),default:Object(r["withCtx"])((function(){return[i.coordinators.length>0?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",ke,Object(r["toDisplayString"])(i.coordinators.map((function(e){return e.person.name})).join(", ")),1)):(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",Ve," None assigned "))]})),_:1})])}n("4de4");var xe=n("ae23"),Ne={name:"GroupDetailHeader",props:{group:{type:xe["a"],required:!0}},emits:["showEdit"],computed:{coordinators:function(){return this.group?this.group.members.filter((function(e){return e.hasRole("coordinator")})):[]}}};Ne.render=Ce;var Ee=Ne,De=n("0945"),_e=n("4d1a"),Be=n("a8af"),Me=n("62a2"),Se=n("1d7f");function Fe(e,t,n,o,c,i){var a=Object(r["resolveComponent"])("document-list");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[Object(r["createVNode"])(a,{documents:i.displayDocuments,documentUpdater:i.updateDocument,documentCreator:i.createDocument,documentDeleter:i.deleteDocument,canManage:i.canManageDocuments},null,8,["documents","documentUpdater","documentCreator","documentDeleter","canManage"])])}var Ue={class:"flex justify-between py-2"},Re={class:"flex space-x-2"},Te=Object(r["createTextVNode"])(" Search:Â "),Ie=Object(r["createTextVNode"])(" Type: Â  "),Pe=Object(r["createElementVNode"])("option",{value:null},"Any",-1),$e=["value"],Le=["onClick"],Ge={class:"note"},Ae={key:0},qe={key:1},He=Object(r["createElementVNode"])("button",{class:"btn btn-xs"},"â¦",-1),Je=Object(r["createTextVNode"])("Download"),ze=Object(r["createTextVNode"])("Update"),Ke=Object(r["createTextVNode"])("Delete"),Ye={class:"px-4 pb-4 border"},Qe={key:0,class:"flex space-x-2 pt-2 border-t"},We=["onClick"],Xe=["onClick"],Ze=["onClick"],et={key:0},tt={key:0,class:"mb-3"},nt=Object(r["createElementVNode"])("p",null,"Are you sure you want to continue?",-1);function rt(e,t,n,o,c,i){var a=this,l=Object(r["resolveComponent"])("icon-cheveron-right"),u=Object(r["resolveComponent"])("icon-cheveron-down"),s=Object(r["resolveComponent"])("dropdown-item"),d=Object(r["resolveComponent"])("dropdown-menu"),p=Object(r["resolveComponent"])("object-dictionary"),m=Object(r["resolveComponent"])("data-table"),b=Object(r["resolveComponent"])("document-edit-form"),f=Object(r["resolveComponent"])("modal-dialog"),j=Object(r["resolveComponent"])("document-upload-form"),O=Object(r["resolveComponent"])("button-row");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[Object(r["renderSlot"])(e.$slots,"heading",{},(function(){return[Object(r["createElementVNode"])("div",Ue,[Object(r["createElementVNode"])("div",Re,[Object(r["createElementVNode"])("label",null,[Te,Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{type:"text",placeholder:"Fitler","onUpdate:modelValue":t[0]||(t[0]=function(e){return c.keyword=e}),class:"sm"},null,512),[[r["vModelText"],c.keyword]])]),Object(r["createElementVNode"])("label",null,[Ie,Object(r["withDirectives"])(Object(r["createElementVNode"])("select",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.filterType=e})},[Pe,(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(c.documentTypes,(function(e){return Object(r["openBlock"])(),Object(r["createElementBlock"])("option",{key:e.id,value:e.id},Object(r["toDisplayString"])(e.long_name),9,$e)})),128))],512),[[r["vModelSelect"],c.filterType]])])]),n.canManage?(Object(r["openBlock"])(),Object(r["createElementBlock"])("button",{key:0,class:"btn btn-xs",onClick:t[2]||(t[2]=function(){return i.initUpload&&i.initUpload.apply(i,arguments)})},"Upload")):Object(r["createCommentVNode"])("",!0)])]})),Object(r["createVNode"])(m,{fields:c.fields,data:i.filteredDocuments,sort:c.sort,"onUpdate:sort":t[3]||(t[3]=function(e){return c.sort=e}),detailRows:!0},{"cell-cheveron":Object(r["withCtx"])((function(e){var t=e.item;return[t.metadata?(Object(r["openBlock"])(),Object(r["createElementBlock"])("button",{key:0,onClick:Object(r["withModifiers"])((function(e){return i.toggleItemDetails(t)}),["stop"]),class:"w-9 align-center block -mx-3"},[t.showDetails?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createBlock"])(l,{key:0,class:"m-auto cursor-pointer"})),t.showDetails?(Object(r["openBlock"])(),Object(r["createBlock"])(u,{key:1,class:"m-auto cursor-pointer"})):Object(r["createCommentVNode"])("",!0)],8,Le)):Object(r["createCommentVNode"])("",!0)]})),"cell-filename":Object(r["withCtx"])((function(e){var t=e.item;return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.filename)+" ",1),Object(r["createElementVNode"])("span",Ge,[t.type.is_versioned&&t.version?(Object(r["openBlock"])(),Object(r["createElementBlock"])("em",Ae,"(version "+Object(r["toDisplayString"])(t.version)+")",1)):Object(r["createCommentVNode"])("",!0),t.is_final?(Object(r["openBlock"])(),Object(r["createElementBlock"])("em",qe," FINAL")):Object(r["createCommentVNode"])("",!0)])]})),"cell-actions":Object(r["withCtx"])((function(e){var t=e.item;return[n.canManage?(Object(r["openBlock"])(),Object(r["createBlock"])(d,{key:0,hideCheveron:""},{label:Object(r["withCtx"])((function(){return[He]})),default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(s,{onClick:function(e){return i.initDownload(t)}},{default:Object(r["withCtx"])((function(){return[Je]})),_:2},1032,["onClick"]),Object(r["createVNode"])(s,{onClick:function(e){return i.initUpdate(t)}},{default:Object(r["withCtx"])((function(){return[ze]})),_:2},1032,["onClick"]),Object(r["createVNode"])(s,{onClick:function(e){return i.initDelete(t)}},{default:Object(r["withCtx"])((function(){return[Ke]})),_:2},1032,["onClick"])]})),_:2},1024)):Object(r["createCommentVNode"])("",!0)]})),detail:Object(r["withCtx"])((function(e){var t=e.item;return[Object(r["createElementVNode"])("div",Ye,[Object(r["createVNode"])(p,{obj:t.metadata},null,8,["obj"]),n.canManage?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",Qe,[Object(r["createElementVNode"])("button",{class:"btn btn-xs",onClick:function(e){return i.initDownload(t)}},"Download",8,We),Object(r["createElementVNode"])("button",{class:"btn btn-xs",onClick:function(e){return i.initUpdate(t)}},"Update",8,Xe),Object(r["createElementVNode"])("button",{class:"btn btn-xs red",onClick:function(e){return i.initDelete(t)}},"Delete",8,Ze)])):Object(r["createCommentVNode"])("",!0)])]})),_:1},8,["fields","data","sort"]),(Object(r["openBlock"])(),Object(r["createBlock"])(r["Teleport"],{to:"body"},[Object(r["createVNode"])(f,{modelValue:c.showEditForm,"onUpdate:modelValue":t[4]||(t[4]=function(e){return c.showEditForm=e}),title:"Update ".concat(c.activeDocument.filename)},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(b,{document:c.activeDocument,"save-function":a.commitUpdate},null,8,["document","save-function"])]})),_:1},8,["modelValue","title"]),Object(r["createVNode"])(f,{modelValue:c.showUploadForm,"onUpdate:modelValue":t[5]||(t[5]=function(e){return c.showUploadForm=e}),title:"Upload a new document"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(j,{"save-function":a.commitCreate},null,8,["save-function"])]})),_:1},8,["modelValue"]),Object(r["createVNode"])(f,{modelValue:c.showDeleteConfirmation,"onUpdate:modelValue":t[6]||(t[6]=function(e){return c.showDeleteConfirmation=e}),title:"You are about to delete ".concat(c.activeDocument.filename)},{default:Object(r["withCtx"])((function(){return[c.activeDocument?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",et,[c.activeDocument.is_final?(Object(r["openBlock"])(),Object(r["createElementBlock"])("p",tt," This version has been tagged as the final version of the document. ")):Object(r["createCommentVNode"])("",!0),nt,Object(r["createVNode"])(O,{"submit-text":"Delete Document",onCanceled:i.cancelDelete,onSubmitted:i.commitDelete},null,8,["onCanceled","onSubmitted"])])):Object(r["createCommentVNode"])("",!0)]})),_:1},8,["modelValue","title"])]))])}var ot=n("2909"),ct=(n("4d63"),n("25f0"),n("466d"),n("db04")),it={type:"file",ref:"fileInput"},at=Object(r["createElementVNode"])("option",{value:null},"Select...",-1),lt=["value"];function ut(e,t,n,o,c,i){var a=Object(r["resolveComponent"])("input-row"),l=Object(r["resolveComponent"])("button-row"),u=Object(r["resolveComponent"])("form-container");return Object(r["openBlock"])(),Object(r["createBlock"])(u,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(a,{label:"Document",errors:c.errors.file},{default:Object(r["withCtx"])((function(){return[Object(r["createElementVNode"])("input",it,null,512)]})),_:1},8,["errors"]),Object(r["createVNode"])(a,{label:"Type",errors:c.errors.document_type_id},{default:Object(r["withCtx"])((function(){return[Object(r["withDirectives"])(Object(r["createElementVNode"])("select",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.newDocument.document_type_id=e})},[at,(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(e.documentTypes,(function(e){return Object(r["openBlock"])(),Object(r["createElementBlock"])("option",{value:e.id,key:e.id},Object(r["toDisplayString"])(e.long_name),9,lt)})),128))],512),[[r["vModelSelect"],c.newDocument.document_type_id]])]})),_:1},8,["errors"]),Object(r["createVNode"])(a,{errors:c.errors.notes,label:"Notes"},{default:Object(r["withCtx"])((function(){return[Object(r["withDirectives"])(Object(r["createElementVNode"])("textarea",{name:"notes","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.newDocument.notes=e}),cols:"30",rows:"10"},null,512),[[r["vModelText"],c.newDocument.notes]])]})),_:1},8,["errors"]),Object(r["createVNode"])(l,null,{default:Object(r["withCtx"])((function(){return[Object(r["createElementVNode"])("button",{class:"btn white",onClick:t[2]||(t[2]=function(){return i.cancel&&i.cancel.apply(i,arguments)})},"Cancel"),Object(r["createElementVNode"])("button",{class:"btn blue",onClick:t[3]||(t[3]=function(){return i.save&&i.save.apply(i,arguments)})},"Save")]})),_:1})]})),_:1})}var st=n("5530"),dt=(n("159b"),n("b64b"),{props:{saveFunction:{type:Function,required:!0}},data:function(){return{newDocument:{file:null,document_type_id:this.documentTypeId,notes:null},errors:{}}},computed:Object(st["a"])(Object(st["a"])({},Object(g["c"])({documentTypes:function(e){return e.doctypes.items}})),{},{group:function(){return this.$store.getters["groups/currentItemOrNew"]},application:function(){return this.group.expert_panel},isReviewed:function(){return Boolean(this.newDocument.date_reviewed)},documentType:function(){return 0==this.documentTypes.length?{}:this.$store.getters["doctypes/getItemById"](this.documentTypeId)}}),methods:{save:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n=new FormData,Object.keys(e.newDocument).forEach((function(t){var r=e.newDocument[t];null!=r&&n.append(t,r)})),n.append("file",e.$refs.fileInput.files[0]),t.next=6,e.saveFunction(n);case 6:e.clearForm(),e.$emit("saved"),t.next=15;break;case 10:if(t.prev=10,t.t0=t["catch"](0),!Object(ct["b"])(t.t0)){t.next=15;break}return e.errors=t.t0.response.data.errors,t.abrupt("return");case 15:case"end":return t.stop()}}),t,null,[[0,10]])})))()},cancel:function(){this.clearForm(),this.$emit("canceled")},clearForm:function(){this.initNewDocument(),this.clearErrors()},initNewDocument:function(){this.$refs.fileInput.value=null,this.newDocument={file:null,document_type_id:this.documentTypeId,notes:null}},clearErrors:function(){this.errors={}}},mounted:function(){this.$store.dispatch("doctypes/getItems")}});dt.render=ut;var pt=dt,mt=["value"];function bt(e,t,n,o,c,i){var a=Object(r["resolveComponent"])("dictionary-row"),l=Object(r["resolveComponent"])("input-row"),u=Object(r["resolveComponent"])("button-row"),s=Object(r["resolveComponent"])("form-container");return Object(r["openBlock"])(),Object(r["createBlock"])(s,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(a,{label:"File"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(n.document.filename),1)]})),_:1}),Object(r["createVNode"])(l,{label:"Type",errors:c.errors.document_type_id},{default:Object(r["withCtx"])((function(){return[Object(r["withDirectives"])(Object(r["createElementVNode"])("select",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.docProxy.document_type_id=e})},[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(e.documentTypes,(function(e){return Object(r["openBlock"])(),Object(r["createElementBlock"])("option",{value:e.id,key:e.id},Object(r["toDisplayString"])(e.long_name),9,mt)})),128))],512),[[r["vModelSelect"],c.docProxy.document_type_id]])]})),_:1},8,["errors"]),Object(r["createVNode"])(l,{errors:c.errors.notes,label:"Notes"},{default:Object(r["withCtx"])((function(){return[Object(r["withDirectives"])(Object(r["createElementVNode"])("textarea",{name:"notes","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.docProxy.notes=e}),cols:"30",rows:"10"},null,512),[[r["vModelText"],c.docProxy.notes]])]})),_:1},8,["errors"]),Object(r["createVNode"])(u,null,{default:Object(r["withCtx"])((function(){return[Object(r["createElementVNode"])("button",{class:"btn",onClick:t[2]||(t[2]=function(){return i.cancel&&i.cancel.apply(i,arguments)})},"Cancel"),Object(r["createElementVNode"])("button",{class:"btn blue",onClick:t[3]||(t[3]=function(){return i.save&&i.save.apply(i,arguments)})},"Save")]})),_:1})]})),_:1})}var ft={name:"DocumentEditForm",props:{document:{required:!0,type:Object},saveFunction:{required:!0,type:Function}},emits:["saved"],data:function(){return{docProxy:{},errors:{}}},computed:Object(st["a"])({},Object(g["c"])({documentTypes:function(e){return e.doctypes.items}})),watch:{document:{immediate:!0,handler:function(){this.docProxy=JSON.parse(JSON.stringify(this.document))}}},methods:{cancel:function(){this.docProxy={},this.$emit("canceled")},save:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.prev=0,e.saveFunction(e.docProxy),e.$emit("saved"),t.next=9;break;case 5:throw t.prev=5,t.t0=t["catch"](0),Object(ct["b"])(t.t0)&&(e.errors=t.t0.response.data.errors),t.t0;case 9:case"end":return t.stop()}}),t,null,[[0,5]])})))()}},mounted:function(){this.$store.dispatch("doctypes/getItems")}};ft.render=bt;var jt=ft,Ot={name:"DocumentList",components:{DocumentUploadForm:pt,DocumentEditForm:jt},props:{documents:{type:Array,required:!0},documentCreator:{type:Function,required:!1},documentUpdater:{type:Function,required:!1},documentDeleter:{type:Function,required:!1},canManage:{type:Boolean,default:!1}},data:function(){return{fields:[{name:"cheveron",label:"",sortable:!1},{name:"filename",label:"File",type:String,sortable:!0},{name:"type.long_name",label:"Type",type:String,sortable:!0},{name:"notes",type:String,sortable:!0},{name:"actions",label:"",type:String,sortable:!1}],sort:{field:"filename",desc:!1},keyword:null,filterType:null,documentTypes:[],activeDocument:{type:{}},showDeleteConfirmation:!1,showEditForm:!1,showUploadForm:!1}},computed:{filteredDocuments:function(){var e=this,t=Object(ot["a"])(this.documents);if(this.keyword){var n=new RegExp(".*"+this.keyword+".*","i");t=t.filter((function(e){return e.filename.match(n)||e.notes&&e.notes.match(n)||e.type.name.match(n)}))}return this.filterType&&(t=t.filter((function(t){return t.document_type_id==e.filterType}))),t}},methods:{toggleItemDetails:function(e){e.showDetails=!e.showDetails},initDownload:function(e){window.location=e.download_url},initUpdate:function(e){this.showEditForm=!0,this.activeDocument=e},commitUpdate:function(e){console.log("commitUpdate",e),this.documentUpdater?this.documentUpdater(e):alert("we need a default document upload function"),this.showUploadForm=!1},initDelete:function(e){this.activeDocument=e,this.showDeleteConfirmation=!0},cancelDelete:function(){this.showDeleteConfirmation=!1,this.resetActiveDocument()},commitDelete:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.documentDeleter?e.documentDeleter(e.activeDocument):alert("we need to add a default document deleter."),e.showDeleteConfirmation=!1,e.resetActiveDocument();case 3:case"end":return t.stop()}}),t)})))()},initUpload:function(){this.showUploadForm=!0},commitCreate:function(e){console.log("commitCreate",this.documentCreator),this.documentCreator?this.documentCreator(e):alert("we need a default document upload function"),this.showUploadForm=!1},resetActiveDocument:function(){this.activeDocument={type:{}}}},mounted:function(){var e=this;ct["a"].get("/api/document-types").then((function(t){return e.documentTypes=t.data}))}};Ot.render=rt;var gt=Ot,ht={name:"GroupDocuments",components:{DocumentList:gt},props:{},data:function(){return{}},computed:{group:{get:function(){return this.$store.getters["groups/currentItemOrNew"]}},displayDocuments:function(){return this.group.documents},canManageDocuments:function(){return this.hasAnyPermission(["groups-manage","ep-applications-manage",["info-edit",this.group]])}},methods:{updateDocument:function(e){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.canManageDocuments){n.next=3;break}return t.$store.pushError("Permission denied"),n.abrupt("return");case 3:return n.next=5,t.$store.dispatch("groups/updateDocument",{group:t.group,document:e});case 5:case"end":return n.stop()}}),n)})))()},createDocument:function(e){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.canManageDocuments){n.next=3;break}return t.$store.pushError("Permission denied"),n.abrupt("return");case 3:return n.next=5,t.$store.dispatch("groups/addDocument",{group:t.group,data:e});case 5:case"end":return n.stop()}}),n)})))()},deleteDocument:function(e){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.canManageDocuments){n.next=3;break}return t.$store.pushError("Permission denied"),n.abrupt("return");case 3:return n.next=5,t.$store.dispatch("groups/deleteDocument",{group:t.group,document:e});case 5:case"end":return n.stop()}}),n)})))()}}};ht.render=Fe;var vt=ht,wt={name:"GroupDetail",components:{ActivityLog:H,ApplicationSummary:ie,AttestationGcep:ae["a"],AttestationNhgri:le["a"],AttestationReanalysis:ue["a"],CspecSummary:se["a"],GroupDocuments:vt,GroupForm:be["a"],GroupDetailHeader:Ee,EvidenceSummaries:de["a"],GcepGeneList:pe["a"],GcepOngoingPlansForm:me["a"],MemberList:De["a"],MembershipDescriptionForm:_e["a"],ScopeDescriptionForm:Be["a"],VcepGeneList:Me["a"],VcepOngoingPlansForm:Se["a"]},props:{uuid:{type:String,required:!0}},data:function(){return{showInfoEdit:!1,editingExpertise:!1,editingScopeDescription:!1,editingGenes:!1,showConfirmDelete:!1,ongoingPlansErrors:{},errors:{}}},setup:function(e){var t=Object(g["d"])(),n=Object(r["ref"])(!1),o=Object(r["computed"])({get:function(){return t.getters["groups/currentItemOrNew"]},set:function(e){t.commit("groups/addItem",e)}}),c=Object(r["computed"])((function(){return o.value.isEp()?o.value.isVcep()?Me["a"]:pe["a"]:null})),i=Object(r["computed"])((function(){return o.value.isVcep()?Se["a"]:me["a"]})),a=function(){var t=Object(O["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(h["b"])("/api/groups/".concat(e.uuid,"/activity-logs"));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(r["onMounted"])(Object(O["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.dispatch("groups/find",e.uuid).then((function(){t.commit("groups/setCurrentItemIndexByUuid",e.uuid),o.value.isEp()&&(t.dispatch("groups/getGenes",o.value),t.dispatch("groups/getDocuments",o.value),o.value.isVcep()&&t.dispatch("groups/getEvidenceSummaries",o.value))}));case 1:case"end":return n.stop()}}),n)})))),{group:o,groupGeneList:c,showModal:n,ongoingPlansFormComponent:i,logEntries:h["c"],getLogEntries:a}},watch:{$route:function(){this.showModal=!!this.$route.meta.showModal&&Boolean(this.$route.meta.showModal)}},methods:{hideModal:function(){this.$router.replace({name:"GroupDetail",params:{uuid:this.uuid}})},handleModalClosed:function(e){this.clearModalForm(e),this.$router.push({name:"GroupDetail",params:{uuid:this.uuid}})},clearModalForm:function(){"function"===typeof this.$refs.modalView.clearForm&&this.$refs.modalView.clearForm()},showEdit:function(){this.showInfoEdit=!0},cancelForm:function(e){this[e]=!1,this.errors={},this.revertGroupChanges()},submitForm:function(e,t){var n=this;return Object(O["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,n[e].apply(n.group);case 3:n[t]=!1,r.next=12;break;case 6:if(r.prev=6,r.t0=r["catch"](0),!Object(ct["b"])(r.t0)){r.next=11;break}return n.errors=r.t0.response.data.errors,r.abrupt("return");case 11:throw r.t0;case 12:case"end":return r.stop()}}),r,null,[[0,6]])})))()},saveMembershipDescription:function(){var e=this;return this.$store.dispatch("groups/membershipDescriptionUpdate",{uuid:this.group.uuid,membershipDescription:this.group.expert_panel.membership_description}).then((function(){e.$store.commit("pushSuccess","Description of expertise updated.")}))},saveScopeDescription:function(){var e=this;return this.$store.dispatch("groups/scopeDescriptionUpdate",{uuid:this.group.uuid,scopeDescription:this.group.expert_panel.scope_description}).then((function(t){return e.$store.commit("pushSuccess","Description of scope updated."),t}))},saveOngoingPlansForm:function(){var e=this,t=this.group,n=t.uuid,r=t.expert_panel;return this.$store.dispatch("groups/curationReviewProtocolUpdate",{uuid:n,expertPanel:r}).then((function(){e.$store.commit("pushSuccess","Curation review protocol updated.")}))},revertGroupChanges:function(){var e=this;return this.errors={},this.$store.dispatch("groups/find",this.group.uuid).then((function(){e.$store.commit("pushInfo","Update canceled.")}))},handleTabChange:function(e){"Log"==e&&Object(v["b"])("groups-manage")&&this.getLogEntries()},initDelete:function(){this.showConfirmDelete=!0},deleteGroup:function(){this.$store.dispatch("groups/delete",this.group.uuid),this.$store.commit("pushSuccess","Group deleted."),this.$router.push({name:"GroupList"})}},mounted:function(){this.showModal=Boolean(this.$route.meta.showModal),this.showConfirmDelete=!1},beforeUnmount:function(){this.$store.commit("groups/clearCurrentItem")}};wt.render=j;t["default"]=wt},b5c7:function(e,t,n){"use strict";n("8067")},bc5a:function(e,t,n){}}]);
//# sourceMappingURL=group-detail.832bf8fc.js.map