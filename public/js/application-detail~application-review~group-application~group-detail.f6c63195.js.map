{"version":3,"sources":["webpack:///./src/components/expert_panels/EvidenceSummaryList.vue","webpack:///./src/components/expert_panels/EvidenceSummary.vue","webpack:///./src/components/expert_panels/EvidenceSummaryForm.vue","webpack:///./src/components/expert_panels/EvidenceSummaryForm.vue?c5d9","webpack:///./src/components/expert_panels/EvidenceSummary.vue?e1a0","webpack:///./src/components/expert_panels/EvidenceSummaryList.vue?e0ec","webpack:///./src/components/expert_panels/SpecificationsSection.vue","webpack:///./src/components/expert_panels/CspecSummary.vue","webpack:///./src/components/expert_panels/CspecSummary.vue?30f9","webpack:///./src/components/applications/documents/ApplicationUploadForm.vue","webpack:///./src/components/applications/documents/ApplicationUploadForm.vue?0c4f","webpack:///./src/components/expert_panels/SpecificationsSection.vue?114f"],"names":["class","_createElementBlock","$data","length","_hoisted_1","_createVNode","_TransitionGroup","name","_Fragment","_renderList","$options","expert_panel","evidence_summaries","summary","idx","key","_createElementVNode","_toDisplayString","_component_evidence_summary","group","onSaved","onDeleted","readonly","$props","onClick","newSummary","_component_evidence_summary_form","onCanceled","_Transition","mode","_createBlock","gene","gene_symbol","variant","_component_dropdown_menu","hide-cheveron","label","_hoisted_3","_component_dropdown_item","vci_url","href","target","_hoisted_6","_Teleport","to","_component_modal_dialog","$event","title","_component_button_row","onSubmit","onCancel","submit-text","value","_component_input_row","vertical","errors","gene_id","_hoisted_2","id","rows","input-class","props","required","type","Object","emits","data","groupGenes","summaryClone","computed","watch","immediate","handler","this","getGroupGenes","methods","save","url","uuid","method","api","then","response","$emit","$store","commit","editing","is_validation_error","cancel","initSummaryClone","edit","get","__exports__","components","EvidenceSummaryForm","Boolean","default","showDeleteConfirm","canEdit","hasAnyPermission","handleSaved","cancelEdit","confirmDelete","deleteSummary","delete","console","error","cancelDelete","EvidenceSummary","newSummaries","summaries","selectedSummary","loading","getters","set","meetsRequirements","adding","getEvidenceSummaries","dispatch","log","startNewSummary","push","clearNewSummaries","handleSavedSummary","handleDeleted","findIndex","s","splice","cancelAdd","mergeSummary","render","_component_cspec_summary","_component_application_upload_form","document-type-id","show-notes","_component_data_table","fields","specifications","sort","cell-id","_withCtx","item","cell-status_name","_component_badge","color","status","disabled","_component_icon_external_link","field","desc","specFields","String","sortable","Date","Number","hasSpecifications","goToCspec","window","location","mounted","ref","_hoisted_4","_hoisted_5","doc","download_url","filename","version","_hoisted_8","long_name","_ctx","created_at","hideCheveron","_hoisted_9","_hoisted_12","options","document_type_id","file","_hoisted_14","is_final","_hoisted_16","onSubmitted","documentTypeId","Array","step","showNotes","newDocument","date_received","toISOString","docTypeIsArray","activeDocument","showDeleteConfirmation","documents","filter","d","includes","isArray","filteredTypes","values","documentsTypes","dt","map","FormData","keys","forEach","val","append","$refs","fileInput","files","clearForm","isValidationError","initNewDocument","clearErrors","formatDate","date_reviewed","notes","initDownload","initDelete","resetActiveDocument","commitDelete","document","docTypeId","CspecSummary","ApplicationUploadForm","cspecSummaryEnabled","state","systemInfo","app","features","cspec_summary","specificationUpload","specification_upload"],"mappings":"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","file":"js/application-detail~application-review~group-application~group-detail.f6c63195.js","sourcesContent":["<template>\n    <div>\n        <ul v-if=\"summaries.length > 0\">\n            <transition-group name=\"slide-fade-down\">            \n                <li class=\"my-4 flex\" v-for=\"(summary, idx) in group.expert_panel.evidence_summaries\" :key=\"idx\">\n                    <div class=\"text-lg pr-4\">{{idx+1}}</div>\n                    <evidence-summary \n                        :summary=\"summary\" \n                        :group=\"group\"\n                        @saved=\"handleSavedSummary\" \n                        @deleted=\"handleDeleted\"\n                        class=\"flex-1\"\n                        :readonly=\"readonly\"\n                    ></evidence-summary>\n                </li>\n            </transition-group>\n        </ul>\n        <div class=\"well text-center\" v-else-if=\"loading\">Loading...</div>\n        <div class=\"well text-center\" :class=\"{'cursor-pointer': !readonly}\" v-else @click=\"startNewSummary\">No example evidence summaries have been added.</div>\n        <ul v-show=\"adding\">\n            <li class=\"my-4 flex\" v-for=\"(newSummary, idx) in newSummaries\" :key=\"idx\">\n                <div class=\"text-lg pr-4\">{{(idx+1+summaries.length)}}</div>\n                <evidence-summary-form \n                    class=\"flex-1\" \n                    :group=\"group\" \n                    :summary=\"newSummary\" \n                    @saved=\"handleSavedSummary\" \n                    @canceled=\"cancelAdd\"\n                ></evidence-summary-form>\n            </li>\n        </ul>\n        <div v-show=\"!adding && canEdit\">\n            <button class=\"btn btn-xs\" @click=\"startNewSummary\" v-show=\"!adding\">Add Summary</button>\n        </div>\n    </div>\n</template>\n<script>\nimport EvidenceSummary from '@/components/expert_panels/EvidenceSummary.vue'\nimport EvidenceSummaryForm from '@/components/expert_panels/EvidenceSummaryForm.vue'\n\nexport default {\n    name: 'EvidenceSummaryList',\n    components: {\n        EvidenceSummary,\n        EvidenceSummaryForm\n    },\n    emits: [\n        'summaries-added'\n    ],\n    props: {\n        readonly: {\n            type: Boolean,\n            required: false,\n            default: false\n        }\n    },\n    data() {\n        return {\n            newSummaries: [],\n            errors: {},\n            summaries: [],\n            showDeleteConfirm: false,\n            selectedSummary: {gene: {}},\n            loading: false\n        }\n    },\n    computed: {\n        group: {\n            get () {\n                return this.$store.getters['groups/currentItemOrNew'];\n            }, \n            set (value) {\n                this.$store.commit('groups/addItem', value)\n            }\n        },\n        meetsRequirements() {\n            return this.summaries.length > 4;\n        },\n        adding () {\n            return this.newSummaries.length > 0;\n        },\n        canEdit () {\n            return this.hasAnyPermission(['ep-applications-manage', ['application-edit', this.group]])\n                && !this.readonly\n        }\n    },\n    watch: {\n        group: {\n            immediate: true,\n            handler: function () {\n                if (this.group && this.group.id) {\n                    this.getEvidenceSummaries();\n                }\n            }\n        }\n    },\n    methods: {\n        async getEvidenceSummaries () {\n            this.loading = true;\n            try {\n                this.summaries = await this.$store.dispatch('groups/getEvidenceSummaries', this.group)\n            } catch (error) {\n                console.log(error);\n            }\n            this.loading = false;\n            \n        },\n        startNewSummary() {\n            if (this.readonly) {\n                return;\n            }\n            this.newSummaries.push({\n                gene: null,\n                variant: null,\n                summary: null\n            });\n        },\n        clearNewSummaries() {\n            this.newSummaries = [];\n        },\n        handleSavedSummary() {\n            this.getEvidenceSummaries();\n            this.clearNewSummaries();\n            this.$emit('summaries-added');\n        },\n        handleDeleted (summary) {\n            const idx = this.summaries.findIndex(s => s.id == summary.id);\n            if (idx > -1) {\n                this.summaries.splice(idx, 1);\n            }\n            this.getEvidenceSummaries();\n        },\n        cancelAdd () {\n            this.clearNewSummaries();\n        },\n        mergeSummary(summary) {\n            const idx = this.summaries.findIndex(s => s.id == summary.id);\n            if (idx > -1) {\n                this.summaries.splice(idx, 1, summary);\n                return;\n            }\n\n            this.summaries.push(summary);\n        }\n    },\n}\n</script>","<template>\n    <div>\n        <transition mode=\"out-in\" name=\"fade\">\n            <div v-if=\"!editing\"\n                class=\"p-2 border rounded\"\n            >\n                <header class=\"flex justify-between\">\n                    <h4>{{summary.gene.gene_symbol}} - {{summary.variant}}</h4>\n                    <dropdown-menu :hide-cheveron=\"true\" class=\"relative\" v-if=\"canEdit\">\n                        <template v-slot:label>\n                            <button class=\"btn btn-xs\">&hellip;</button>\n                        </template>\n                        <dropdown-item @click=\"edit()\">Edit</dropdown-item>\n                        <dropdown-item @click=\"confirmDelete()\">Delete</dropdown-item>\n                    </dropdown-menu>\n                </header>\n                <p>{{summary.summary}}</p>\n                <a class=\"link\" :href=\"summary.vci_url\" v-if=\"summary.vci_url\" target=\"_blank\">\n                    View in the VCI\n                </a>\n            </div>\n            <evidence-summary-form \n                v-else \n                :summary=\"summary\" \n                :group=\"group\"\n                @saved=\"handleSaved\"\n                @canceled=\"cancelEdit\"\n            ></evidence-summary-form>\n        </transition>\n        <teleport to=\"body\">\n            <modal-dialog v-model=\"showDeleteConfirm\" title=\"You are about to delete an example evidence summary.\">\n                You are about to delete an evidence summary for {{summary.gene.gene_symbol}} - {{summary.variant}}.  Are you sure you want to continue?\n                <button-row @submit=\"deleteSummary\" @cancel=\"cancelDelete\" submit-text=\"Delete Summary\"></button-row>\n            </modal-dialog>\n        </teleport>\n    </div>\n</template>\n<script>\nimport api from '@/http/api';\nimport EvidenceSummaryForm from '@/components/expert_panels/EvidenceSummaryForm.vue';\nexport default {\n  components: { EvidenceSummaryForm },\n    name: 'EvidenceSummary',\n    props: {\n        summary: {\n            required: true,\n            type: Object\n        },\n        group: {\n            required: true,\n            type: Object\n        },\n        readonly: {\n            type: Boolean,\n            required: false,\n            default: false\n        }\n    },\n    emits: [\n        'edit',\n        'saved',\n        'deleted',\n    ],\n    data() {\n        return {\n            editing: false,\n            showDeleteConfirm: false\n        }\n    },\n    computed: {\n        canEdit () {\n            return this.hasAnyPermission(['ep-applications-manage', ['application-edit', this.group]]) \n                && !this.readonly\n        }\n    },\n    methods: {\n        handleSaved(newSummary) {\n            this.$emit('saved', newSummary);\n            this.editing = false;\n        },\n        edit () {\n            this.editing = true;\n        },\n        cancelEdit () {\n            this.editing = false;\n        },\n        confirmDelete () {\n            this.showDeleteConfirm = true;\n        },\n        async deleteSummary () {\n            try {\n                await api.delete(`/api/groups/${this.group.uuid}/application/evidence-summaries/${this.summary.id}`);\n                this.$emit('deleted', this.summary)\n            } catch (error) {\n                console.error(error);\n            }\n            this.showDeleteConfirm = false;\n        },\n        cancelDelete() {\n            this.showDeleteConfirm = false;\n        },\n    }\n}\n</script>","<template>\n    <div>\n        <div class=\"flex space-x-2\">\n            <input-row class=\"mt-0 mb-0\" :vertical=\"true\" label=\"Gene\" :errors=\"errors.gene_id\">\n                <select v-model=\"summaryClone.gene_id\">\n                    <option :value=\"null\">Select...</option>\n                    <option v-for=\"gene in groupGenes\" \n                        :value=\"gene.id\"\n                        :key=\"gene.id\"\n                    >{{gene.gene_symbol}}</option>\n                </select>\n            </input-row>\n            <input-row \n                class=\"mt-0 mb-0\" \n                v-model=\"summaryClone.variant\" \n                :vertical=\"true\" \n                label=\"Variant\" \n                :errors=\"errors.variant\"\n            />\n        </div>\n        <input-row class=\"mt-0 mb-0\" label=\"Summary\" :vertical=\"true\" :errors=\"errors.summary\">\n            <textarea rows=\"5\" class=\"w-full\" v-model=\"summaryClone.summary\"></textarea>\n        </input-row>\n        <input-row \n            class=\"mt-0\" \n            v-model=\"summaryClone.vci_url\" \n            label=\"VCI URL\" \n            :vertical=\"true\" \n            input-class=\"w-full\" \n            :errors=\"errors.vci_url\"\n        />\n        <button-row submit-text=\"save\" @submit=\"save\" @cancel=\"cancel\"></button-row>\n    </div>\n</template>\n<script>\nimport api from '@/http/api'\nimport is_validation_error from '@/http/is_validation_error';\n\n\nexport default {\n    name: 'EvidenceSummaryForm',\n    props: {\n        group: {\n            required: true,\n            type: Object,\n        },\n        summary: {\n            required: true,\n            type: Object\n        }\n    },\n    emits: [\n        'saved',\n        'canceled'\n    ],\n    data() {\n        return {\n            groupGenes: [],\n            summaryClone: {gene: {}},\n            errors: {}\n        }\n    },\n    computed: {\n\n    },\n    watch: {\n        group: {\n            immediate: true,\n            handler: function () {\n                if (this.group && this.group.id) {\n                    this.getGroupGenes();\n                }\n            }\n        },\n        summary: {\n            immediate: true,\n            handler: function () {\n                this.summaryClone = {...this.summary}\n            }\n        }\n    },\n    methods: {\n        async save () {\n            try {\n                let url = `/api/groups/${this.group.uuid}/expert-panel/evidence-summaries`;\n                let method = 'post';\n                if (this.summaryClone.id) {\n                    url += `/${this.summaryClone.id}`\n                    method = 'put';\n                }\n                const newSummary = await api({method, url, data: this.summaryClone})\n                                            .then (response => response.data.data);\n\n                this.$emit('saved', newSummary);\n                this.$store.commit('pushSuccess', 'Saved example evidence summary');\n                this.editing = false;\n            } catch (error) {\n                if (is_validation_error(error)) {\n                    this.errors = error.response.data.errors\n                }\n            }\n        },\n        cancel () {\n            this.initSummaryClone();\n            this.$emit('canceled')\n        },\n        edit (summary) {\n            summary.editing = true;\n        },\n        async getGroupGenes () {\n            this.groupGenes = await api.get(`/api/groups/${this.group.uuid}/expert-panel/genes`)\n                                .then(response => response.data);\n        },\n        initSummaryClone () {\n            this.summaryClone = {gene: {}};\n        }\n    },\n}\n</script>","import { render } from \"./EvidenceSummaryForm.vue?vue&type=template&id=5864d344\"\nimport script from \"./EvidenceSummaryForm.vue?vue&type=script&lang=js\"\nexport * from \"./EvidenceSummaryForm.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/yugen/code/epam/resources/app/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./EvidenceSummary.vue?vue&type=template&id=0bb86197\"\nimport script from \"./EvidenceSummary.vue?vue&type=script&lang=js\"\nexport * from \"./EvidenceSummary.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/yugen/code/epam/resources/app/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./EvidenceSummaryList.vue?vue&type=template&id=41a3d4e6\"\nimport script from \"./EvidenceSummaryList.vue?vue&type=script&lang=js\"\nexport * from \"./EvidenceSummaryList.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/yugen/code/epam/resources/app/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <div>\n        <cspec-summary v-if=\"cspecSummaryEnabled\" :readonly=\"readonly\" />\n        <application-upload-form \n            :document-type-id=\"docTypeId\" \n            :show-notes=\"false\" \n            v-if=\"specificationUpload\" \n            :readonly=\"readonly\" \n        />\n    </div>\n</template>\n<script>\nimport CspecSummary from '@/components/expert_panels/CspecSummary.vue'\nimport ApplicationUploadForm from '@/components/applications/documents/ApplicationUploadForm.vue'\n\nexport default {\n    name: 'SpecificationsSection',\n    props: {\n        docTypeId: {\n            required: true,\n            type: [Number, Array]\n        },\n        readonly: {\n            type: Boolean,\n            default: false\n        }\n    },\n    components: {\n        CspecSummary,\n        ApplicationUploadForm\n    },\n    data() {\n        return {\n            \n        }\n    },\n    computed: {\n        cspecSummaryEnabled () {\n            return this.$store.state.systemInfo.app.features.cspec_summary\n        },\n        specificationUpload () {\n            return this.$store.state.systemInfo.app.features.specification_upload\n        }\n    },\n    methods: {\n\n    }\n}\n</script>","<template>\n    <div>\n        <div class=\"well\" v-if=\"!hasSpecifications\">\n            No specifications on record.\n        </div>\n        <div v-else>\n            <data-table \n                :fields=\"specFields\" \n                :data=\"group.expert_panel.specifications\" \n                v-model:sort=\"sort\"\n                class=\"mb-6\"\n            >\n                <template v-slot:cell-id=\"{item}\">\n                    <a :href=\"`https://cspec.genome.network/cspec/ui/svi/ruleset/${item.id}`\" target=\"cspec\" class=\"btn btn-xs\">\n                        Go to rules\n                    </a>\n                </template>\n                <template v-slot:cell-status_name=\"{item}\">\n                    <badge :color=\"item.status.color\">{{item.status.name}}</badge>\n                </template>\n            </data-table>\n        </div>\n        <button \n            @click=\"goToCspec\"\n            class=\"btn btn-xl blue\"\n            target=\"cspec\"\n            :disabled=\"readonly\"\n        >\n            Go to the CSpec Registry\n            <icon-external-link class=\"inline\"></icon-external-link>\n        </button>\n            <icon-external-link class=\"inline\"></icon-external-link>\n    </div>\n</template>\n<script>\nexport default {\n    name: 'CspecSummary',\n    props: {\n        readonly: {\n            type: Boolean,\n            default: false\n        }\n    },\n    data() {\n        return {\n            sort: {\n                field: 'id',\n                desc: false,\n            },\n            specFields: [\n                {\n                    name: 'gene_symbol',\n                    type: String,\n                    sortable: true,\n                },\n                {\n                    name: 'disease_name',\n                    type: String,\n                    sortable: true,\n                },\n                {\n                    name: 'status.name',\n                    label: 'Status',\n                    type: String,\n                    sortable: true,\n                },\n                {\n                    name: 'updated_at',\n                    label: 'Last Updated',\n                    type: Date,\n                    sortable: true,\n                },\n                {\n                    name: 'id',\n                    label: '',\n                    type: Number,\n                    sortable: false,\n                }\n            ]\n        }\n    },\n    computed: {\n        group () {\n            return this.$store.getters['groups/currentItemOrNew'];\n        },\n        hasSpecifications () {\n            return true;\n        },\n        specifications () {\n            return this.group.expert_panel.specifications;\n        }\n    },\n    watch: {\n        group (to) {\n            this.$store.dispatch('groups/getSpecifications', to)\n        }\n    },\n    methods: {\n        goToCspec () {\n            window.location = 'https://cspec.genome.network/'\n        }\n    },\n    mounted() {\n        this.$store.dispatch('groups/getSpecifications', this.group)\n    }\n}\n</script>","import { render } from \"./CspecSummary.vue?vue&type=template&id=64dc9d13\"\nimport script from \"./CspecSummary.vue?vue&type=script&lang=js\"\nexport * from \"./CspecSummary.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/yugen/code/epam/resources/app/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <div>\n        <table v-if=\"documents.length > 0\" class=\"table\">\n            <thead>\n                <tr>\n                    <th>File</th>\n                    <th v-if=\"docTypeIsArray\">Type</th>\n                    <th>uploaded</th>\n                    <th></th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr v-for=\"doc in documents\" :key=\"doc.id\" class=\"p-1 border\">\n                    <td>\n                        <a :href=\"doc.download_url\">{{doc.filename}}</a>\n                        <span class=\"note\"> (v. {{doc.version}})</span>\n                    </td>\n                    <td v-if=\"docTypeIsArray\">{{doc.type.long_name}}</td>\n                    <td>{{formatDate(doc.created_at)}}</td>\n                    <td>\n                        <dropdown-menu hideCheveron>\n                            <template #label> <button class=\"btn btn-xs\">&hellip;</button></template>\n                            <dropdown-item @click=\"initDownload(doc)\">Download</dropdown-item>\n                            <dropdown-item @click=\"initDelete(doc)\"  v-if=\"hasAnyPermission(['ep-applications-manage', ['application-edit', group]])\">Delete</dropdown-item>\n                        </dropdown-menu>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n\n        <div v-if=\"!readonly\">\n            <input-row label=\"Document type\" \n                type=\"select\" \n                :options=\"filteredTypes\" \n                v-if=\"docTypeIsArray\"\n                v-model=\"newDocument.document_type_id\"\n            />\n\n            <input-row label=\"Document\" :errors=\"errors.file\">\n                <input type=\"file\" ref=\"fileInput\">\n            </input-row>\n            <button class=\"btn blue\" @click=\"save\">Upload</button>\n        </div> \n        <teleport to='body'>\n             <modal-dialog \n                v-model=\"showDeleteConfirmation\" \n                :title=\"`You are about to delete ${activeDocument.filename}`\"\n            >\n                <div v-if=\"activeDocument\">\n                    <p v-if=\"activeDocument.is_final\" class=\"mb-3\">\n                        This version has been tagged as the final version of the document.\n                    </p>\n                    <p>Are you sure you want to continue?</p>\n\n                    <button-row \n                        submit-text=\"Delete Document\" \n                        @canceled=\"cancelDelete\" \n                        @submitted=\"commitDelete\"\n                    >\n                    </button-row>\n                </div>\n            </modal-dialog>\n        </teleport>\n\n \n    </div>\n</template>\n<script>\nimport {formatDate} from '../../../date_utils'\nimport {isValidationError} from '@/http';\nimport {documentsTypes} from '@/configs.json'\n\nexport default {\n    props: {\n        documentTypeId: {\n            type: [Number, Array],\n            required: true\n        },\n        step: {\n            type: Number,\n            required: false,\n            default: null\n        },\n        showNotes: {\n            type: Boolean,\n            default: true\n        },\n        readonly: {\n            type: Boolean,\n            default: false\n        }\n    },\n    emits: [\n        'saved',\n    ],\n    data() {\n        return {\n            newDocument: {\n                file: null,\n                date_received: new Date().toISOString(),\n                step: this.step,\n                document_type_id: (this.docTypeIsArray) ? null : this.documentTypeId,\n            },\n            errors: {},\n            activeDocument: {},\n            showDeleteConfirmation: false\n        }\n    },\n    computed: {\n        group () {\n            return this.$store.getters['groups/currentItemOrNew']\n        },\n        documents () {\n            return this.group.documents.filter(d => {\n                if (this.docTypeIsArray) {\n                    return this.documentTypeId.includes(d.document_type_id)\n                }\n                return d.document_type_id == this.documentTypeId\n            })\n        },\n        docTypeIsArray () {\n            return Array.isArray(this.documentTypeId);\n        },\n        filteredTypes () {\n            if (this.docTypeIsArray) {\n                return Object.values(documentsTypes)\n                        .filter(dt => this.documentTypeId.includes(dt.id))\n                        .map(dt => ({label: dt.long_name, value: dt.id}));\n            }\n            return [];\n        }\n    },\n    methods: {\n        async save() {\n            try {\n                let data = new FormData();\n                Object.keys(this.newDocument)\n                    .forEach(key => {\n                        const val = this.newDocument[key]\n                        if (val == null) return;\n                        data.append(key, val);\n                    })\n                data.append('file', this.$refs.fileInput.files[0]);\n                await this.$store.dispatch('groups/addApplicationDocument', {group: this.group, data});\n\n                this.clearForm();\n                this.$emit('saved');\n            } catch (error) {\n                if (isValidationError(error)) {\n                    this.errors = error.response.data.errors\n                    return;\n                }\n            }\n\n        },\n        cancel() {\n            this.clearForm();\n            this.$emit('canceled');\n        },\n        clearForm() {\n            this.initNewDocument();\n            this.clearErrors();\n        },\n        initNewDocument() {\n            this.$refs.fileInput.value = null;\n            this.newDocument = {\n                file: null,\n                date_received: formatDate(new Date()),\n                date_reviewed: null,\n                step: this.step,\n                document_type_id: this.documentTypeId,\n                notes: null\n            }\n        },\n        clearErrors () {\n            this.errors = {}\n        },\n        initDownload (item) {\n            window.location = item.download_url;\n        },\n        initDelete (item) {\n            this.activeDocument = item;\n            this.showDeleteConfirmation = true;\n        },\n        cancelDelete () {\n            this.showDeleteConfirmation = false;\n            this.resetActiveDocument();\n        },\n        async commitDelete() {\n            await this.$store.dispatch('groups/deleteDocument', {group: this.group, document: this.activeDocument})\n            this.showDeleteConfirmation = false;\n            this.resetActiveDocument();\n        },\n        resetActiveDocument () {\n            this.activeDocument = {type: {}}\n        }\n    },\n    mounted() {\n        this.$store.dispatch('groups/getDocuments', this.group);\n    }\n}\n</script>","import { render } from \"./ApplicationUploadForm.vue?vue&type=template&id=8fc59fc8\"\nimport script from \"./ApplicationUploadForm.vue?vue&type=script&lang=js\"\nexport * from \"./ApplicationUploadForm.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/yugen/code/epam/resources/app/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./SpecificationsSection.vue?vue&type=template&id=43a28186\"\nimport script from \"./SpecificationsSection.vue?vue&type=script&lang=js\"\nexport * from \"./SpecificationsSection.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/yugen/code/epam/resources/app/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}