(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["group-detail"],{"0251":function(e,t,n){},3922:function(e,t,n){"use strict";n("bc5a")},"457f":function(e,t,n){"use strict";n.r(t);n("b0c0");var r=n("7a23"),o=function(e){return Object(r["pushScopeId"])("data-v-56b32fba"),e=e(),Object(r["popScopeId"])(),e},c={class:"flex"},i={class:"flex-1"},a={key:0},l={class:"flex space-x-2"},s=["errors"],u={key:1},d={class:"border-t mt-4 pt-2"},p=o((function(){return Object(r["createElementVNode"])("h3",null,"Group Roles",-1)})),b={class:"flex flex-col h-24 flex-wrap"},m={key:0,class:"border-t mt-2 pt-2 pl-2"},f=o((function(){return Object(r["createElementVNode"])("h4",null,"Training",-1)})),j={class:"flex justify-between w-full items-center"},O=Object(r["createTextVNode"])(" Group Permissions "),g={class:"flex flex-col h-24 flex-wrap"},h={class:"px-2 py-1 bg-gray-100 border relative text-xs"},v={class:"flex space-x-2"},w=o((function(){return Object(r["createElementVNode"])("strong",null,"Legend: ",-1)})),y=o((function(){return Object(r["createElementVNode"])("div",{class:"absolute top-0 left-0 w-full h-full bg-pink-500 opacity-0"},"Â ",-1)})),k={key:0,class:"pt-2 border-l pl-2 flex-1"},V=o((function(){return Object(r["createElementVNode"])("h5",{class:"font-bold border-b mb-1 pb-1"},"Matching people",-1)}));function x(e,t,n,o,x,C){var E=Object(r["resolveComponent"])("input-row"),N=Object(r["resolveComponent"])("dictionary-row"),_=Object(r["resolveComponent"])("static-alert"),B=Object(r["resolveComponent"])("checkbox"),M=Object(r["resolveComponent"])("badge"),S=Object(r["resolveComponent"])("collapsible"),D=Object(r["resolveComponent"])("member-suggestions"),R=Object(r["resolveComponent"])("button-row");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[Object(r["createElementVNode"])("div",c,[Object(r["createElementVNode"])("div",i,[x.newMember.id||x.newMember.person_id?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",a,[Object(r["createVNode"])(E,{label:"Name",errors:C.nameErrors},{default:Object(r["withCtx"])((function(){return[Object(r["createElementVNode"])("div",l,[Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return x.newMember.person.first_name=e}),placeholder:"First",class:"block w-1/2",onInput:t[1]||(t[1]=function(){return C.getSuggestedPeople&&C.getSuggestedPeople.apply(C,arguments)})},null,544),[[r["vModelText"],x.newMember.person.first_name]]),Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=function(e){return x.newMember.person.last_name=e}),placeholder:"Last",class:"block w-1/2",onInput:t[3]||(t[3]=function(){return C.getSuggestedPeople&&C.getSuggestedPeople.apply(C,arguments)}),errors:x.errors.last_name},null,40,s),[[r["vModelText"],x.newMember.person.last_name]])])]})),_:1},8,["errors"]),Object(r["createVNode"])(E,{label:"Email",modelValue:x.newMember.person.email,"onUpdate:modelValue":t[4]||(t[4]=function(e){return x.newMember.person.email=e}),placeholder:"example@example.com","input-class":"w-full",onInput:C.getSuggestedPeople,errors:x.errors.email},null,8,["modelValue","onInput","errors"])])),x.newMember.id||x.newMember.person_id?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",u,[Object(r["createVNode"])(N,{label:"Name"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(x.newMember.person.first_name)+" "+Object(r["toDisplayString"])(x.newMember.person.last_name),1)]})),_:1}),Object(r["createVNode"])(N,{label:"Email"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(x.newMember.person.email),1)]})),_:1}),x.newMember.id?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createBlock"])(_,{key:0},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(" Adding existing person, "+Object(r["toDisplayString"])(x.newMember.person.name)+", as a group member. ",1)]})),_:1}))])):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(E,{label:"Expertise",errors:x.errors.expertise},{default:Object(r["withCtx"])((function(){return[Object(r["withDirectives"])(Object(r["createElementVNode"])("textarea",{rows:"5","onUpdate:modelValue":t[5]||(t[5]=function(e){return x.newMember.expertise=e}),class:"w-full"},null,512),[[r["vModelText"],x.newMember.expertise]])]})),_:1},8,["errors"]),Object(r["createVNode"])(E,{label:"Notes",errors:x.errors.notes},{default:Object(r["withCtx"])((function(){return[Object(r["withDirectives"])(Object(r["createElementVNode"])("textarea",{rows:"5","onUpdate:modelValue":t[6]||(t[6]=function(e){return x.newMember.notes=e}),class:"w-full"},null,512),[[r["vModelText"],x.newMember.notes]])]})),_:1},8,["errors"]),Object(r["createVNode"])(N,{label:""},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(B,{modelValue:x.newMember.is_contact,"onUpdate:modelValue":t[7]||(t[7]=function(e){return x.newMember.is_contact=e}),label:"Receives notifications about group"},null,8,["modelValue"])]})),_:1}),Object(r["createElementVNode"])("div",d,[p,Object(r["createElementVNode"])("div",b,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(o.roles,(function(n){return Object(r["openBlock"])(),Object(r["createBlock"])(B,{key:n.id,modelValue:x.newMember.roles,"onUpdate:modelValue":t[8]||(t[8]=function(e){return x.newMember.roles=e}),value:n,label:e.titleCase(n.name)},null,8,["modelValue","value","label"])})),128))]),Object(r["createVNode"])(r["Transition"],{name:"fade-down"},{default:Object(r["withCtx"])((function(){return[x.newMember.hasRole("biocurator")&&o.group.isVcep()?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",m,[f,(Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])([1,2],(function(e){return Object(r["createVNode"])(B,{key:e,modelValue:x.newMember["training_level_".concat(e)],"onUpdate:modelValue":function(t){return x.newMember["training_level_".concat(e)]=t},value:1,label:"Level ".concat(e)},null,8,["modelValue","onUpdate:modelValue","label"])})),64))])):Object(r["createCommentVNode"])("",!0)]})),_:1})]),Object(r["createVNode"])(S,{class:"border-t mt-4 pt-2"},{title:Object(r["withCtx"])((function(){return[Object(r["createElementVNode"])("h3",j,[O,x.newMember.permissions.length>0?(Object(r["openBlock"])(),Object(r["createBlock"])(M,{key:0,color:"gray"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(x.newMember.permissions.length),1)]})),_:1})):Object(r["createCommentVNode"])("",!0)])]})),default:Object(r["withCtx"])((function(){return[Object(r["createElementVNode"])("div",g,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(o.permissions,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])(B,{key:e.id,modelValue:x.newMember.permissions,"onUpdate:modelValue":t[9]||(t[9]=function(e){return x.newMember.permissions=e}),value:e,disabled:x.newMember.hasPermissionThroughRole(e),checked:x.newMember.hasPermissionThroughRole(e),id:"permission-".concat(e.id),title:x.newMember.hasPermissionThroughRole(e)?"granted with role":"grant permission",label:e.name},null,8,["modelValue","value","disabled","checked","id","title","label"])})),128))]),Object(r["createElementVNode"])("div",h,[Object(r["createElementVNode"])("div",v,[w,Object(r["createVNode"])(B,{label:"Not granted"}),Object(r["createVNode"])(B,{checked:"true",label:"Granted"}),Object(r["createVNode"])(B,{checked:"true",disabled:"true",label:"Granted w/ role"})]),y])]})),_:1})]),Object(r["createVNode"])(r["Transition"],{name:"slide-fade"},{default:Object(r["withCtx"])((function(){return[x.suggestedPeople.length>0&&null===x.newMember.person_id?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",k,[V,Object(r["createVNode"])(D,{suggestions:x.suggestedPeople,onSelected:C.useExistingPerson},null,8,["suggestions","onSelected"])])):Object(r["createCommentVNode"])("",!0)]})),_:1})]),Object(r["createVNode"])(R,{onSubmit:C.save,onCancel:C.cancel,"submit-text":"Save"},null,8,["onSubmit","onCancel"])])}var C=n("1da1"),E=(n("96cf"),n("4de4"),n("0481"),n("a630"),n("3ca3"),n("d3b7"),n("6062"),n("ddb0"),n("d81d"),n("caad"),n("2532"),n("159b"),n("4a91")),N=n("5502"),_=n("86ed"),B=["onClick"];function M(e,t,n,o,c,i){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[Object(r["createElementVNode"])("ul",null,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(n.suggestions,(function(t){return Object(r["openBlock"])(),Object(r["createElementBlock"])("li",{key:t.uuid,class:"flex justify-between my-2"},[Object(r["renderSlot"])(e.$slots,"default",{},(function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.name)+" ",1),Object(r["createElementVNode"])("button",{class:"btn btn-xs",onClick:function(e){return i.useSuggestion(t)}}," Add as member ",8,B)]}))])})),128))])])}var S={name:"ComponentName",props:{suggestions:{required:!0,type:Array}},emits:["selected"],data:function(){return{}},computed:{},methods:{useSuggestion:function(e){this.$emit("selected",e)}}};S.render=M;var D=S,R=n("033d"),P={name:"AddMemberForm",components:{MemberSuggestions:D},props:{uuid:{required:!0,type:String},memberId:{required:!1,default:null}},emits:["saved","canceled","closed"],data:function(){return{newMember:new _["a"],errors:{},suggestedPeople:[]}},computed:{originalMember:function(){return this.group.findMember(this.memberId)},nameErrors:function(){return[this.errors.first_name,this.errors.last_name].flat().filter((function(e){return e}))}},setup:function(){var e=Object(N["d"])(),t=Object(r["computed"])((function(){return e.getters["groups/currentItemOrNew"]||{}})),n=Object(r["computed"])((function(){return e.getters["people/all"]||{}})),o=E["groups"].roles,c=E["groups"].permissions;return{group:t,people:n,roles:o,permissions:c}},watch:{group:function(){this.syncMember()}},methods:{getSuggestedPeople:function(){var e=this,t=this.people.filter((function(t){return t.matchesKeyword(e.newMember.person.first_name)||t.matchesKeyword(e.newMember.person.last_name)||t.matchesKeyword(e.newMember.person.email)})).filter((function(t){return!e.isAlreadyMember(t)}));this.suggestedPeople=Array.from(new Set(t))},initNewMember:function(){this.newMember=new _["a"]},syncMember:function(){try{this.memberId&&(this.newMember=this.originalMember.clone())}catch(e){this.group.isPersisted()&&alert(e)}},clearForm:function(){this.initNewMember()},cancel:function(){this.clearForm(),this.$emit("canceled")},save:function(){var e=this;return Object(C["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.newMember.isPersisted()){t.next=8;break}if(e.newMember.person.isPersisted()){t.next=5;break}return t.next=5,e.inviteNewMember(e.group,e.newMember);case 5:if(!e.newMember.person.isPersisted()){t.next=8;break}return t.next=8,e.addPersonAsMember(e.group,e.newMember);case 8:if(!e.newMember.isPersisted()){t.next=11;break}return t.next=11,e.updateExistingMember(e.group,e.newMember);case 11:e.clearForm(),e.$emit("saved"),t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](0),Object(R["a"])(t.t0)&&(e.errors=t.t0.response.data.errors);case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))()},inviteNewMember:function(e,t){var n=this;return Object(C["a"])(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,n.$store.dispatch("groups/memberInvite",{uuid:e.uuid,data:{firstName:t.person.first_name,lastName:t.person.last_name,email:t.person.email,roleIds:t.roles.map((function(e){return e.id})),isContact:t.is_contact,expertise:t.expertise,notes:t.notes,training_level_1:t.training_level_1,training_level_2:t.training_level_2}});case 3:if(o=r.sent,!(t.permissions.length>0)){r.next=7;break}return r.next=7,n.$store.dispatch("groups/memberGrantPermission",{uuid:e.uuid,memberId:o.data.id,permissionIds:t.permissions.map((function(e){return e.id}))});case 7:r.next=12;break;case 9:r.prev=9,r.t0=r["catch"](0),Object(R["a"])(r.t0)&&(n.errors=r.t0.response.data.errors);case 12:case"end":return r.stop()}}),r,null,[[0,9]])})))()},addPersonAsMember:function(e,t){var n=this;return Object(C["a"])(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,n.$store.dispatch("groups/memberAdd",{uuid:e.uuid,personId:t.person_id,roleIds:t.roles.map((function(e){return e.id})),isContact:t.is_contact,expertise:t.expertise,notes:t.notes,training_level_1:t.training_level_1,training_level_2:t.training_level_2});case 3:if(o=r.sent,!(t.permissions.length>0)){r.next=7;break}return r.next=7,n.$store.dispatch("groups/memberGrantPermission",{uuid:e.uuid,memberId:o.id,permissionIds:t.permissions.map((function(e){return e.id}))});case 7:r.next=12;break;case 9:r.prev=9,r.t0=r["catch"](0),Object(R["a"])(r.t0)&&(n.errors=r.t0.response.data.errors);case 12:case"end":return r.stop()}}),r,null,[[0,9]])})))()},updateExistingMember:function(e,t){var n=this;return Object(C["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,n.$store.dispatch("groups/memberUpdate",{groupUuid:e.uuid,memberId:t.id,data:{is_contact:n.newMember.is_contact,expertise:n.newMember.expertise,notes:n.newMember.notes,training_level_1:n.newMember.training_level_1,training_level_2:n.newMember.training_level_2}});case 2:return r.next=4,n.$store.dispatch("groups/memberSyncRoles",{group:e,member:t});case 4:return r.next=6,n.syncPermissions(e,t);case 6:case"end":return r.stop()}}),r)})))()},syncPermissions:function(e,t){var n=this;return Object(C["a"])(regeneratorRuntime.mark((function r(){var o,c,i,a,l;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:o=e.findMember(n.memberId),c=o.permissions.map((function(e){return e.id})),i=t.permissions.map((function(e){return e.id})),a=i.filter((function(e){return!c.includes(e)})),l=c.filter((function(e){return!i.includes(e)})),a.length>0&&n.$store.dispatch("groups/memberGrantPermission",{uuid:e.uuid,memberId:t.id,permissionIds:a}),l.forEach((function(r){n.$store.dispatch("groups/memberRevokePermission",{uuid:e.uuid,memberId:t.id,permissionId:r})}));case 7:case"end":return r.stop()}}),r)})))()},useExistingPerson:function(e){this.newMember.person_id=e.id,this.newMember.person=e.clone()},isAlreadyMember:function(e){return this.group.members.map((function(e){return e.person.id})).includes(e.id)}},mounted:function(){this.$store.dispatch("people/getAll",{}),this.initNewMember(),this.syncMember()}};n("3922");P.render=x,P.__scopeId="data-v-56b32fba";t["default"]=P},8067:function(e,t,n){},"831e":function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return d}));var r=n("1da1"),o=(n("c740"),n("99af"),n("a434"),n("96cf"),n("7a23")),c=n("f96b"),i=Object(o["ref"])([]),a=Object(o["computed"])((function(){return i.value})),l=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].get(t).then((function(e){return e.data.data}));case 2:i.value=e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].post(t,n).then((function(e){return i.value.push(e.data),e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),u=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].put(t,n).then((function(e){var t=i.value.findIndex((function(t){return t.id==e.data.id}));return i.value[t]=e.data,e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),d=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].delete("".concat(t,"/").concat(n)).then((function(e){var t=i.value.findIndex((function(e){return e.id==n}));return i.value.splice(t,1),e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},"8c58":function(e,t,n){"use strict";n("0251")},b47e:function(e,t,n){"use strict";n.r(t);var r=n("7a23"),o=Object(r["createElementVNode"])("h3",null,"Plans for Ongoing Gene Review and Reanalysis and Discrepancy Resolution",-1),c=Object(r["createElementVNode"])("br",null,null,-1),i={key:0},a=Object(r["createElementVNode"])("header",null,[Object(r["createElementVNode"])("h3",null,"Example Evidence Summaries")],-1),l=Object(r["createTextVNode"])(" Group documents will go here. "),s=Object(r["createElementVNode"])("h3",null,"Reanalysis & Discrepancy Resolution",-1),u=Object(r["createElementVNode"])("h3",null,"NHGRI Data Availability",-1),d=Object(r["createElementVNode"])("h2",{class:"mb-4"},"Here be dragons. Proceed with caution.",-1),p={class:"text-lg"},b=Object(r["createElementVNode"])("p",null,"This cannot be undone.",-1);function m(e,t,n,m,f,j){var O=Object(r["resolveComponent"])("group-detail-header"),g=Object(r["resolveComponent"])("application-summary"),h=Object(r["resolveComponent"])("member-list"),v=Object(r["resolveComponent"])("membership-description-form"),w=Object(r["resolveComponent"])("submission-wrapper"),y=Object(r["resolveComponent"])("tab-item"),k=Object(r["resolveComponent"])("scope-description-form"),V=Object(r["resolveComponent"])("evidence-summaries"),x=Object(r["resolveComponent"])("cspec-summary"),C=Object(r["resolveComponent"])("attestation-gcep"),E=Object(r["resolveComponent"])("attestation-reanalysis"),N=Object(r["resolveComponent"])("attestation-nhgri"),_=Object(r["resolveComponent"])("activity-log"),B=Object(r["resolveComponent"])("tabs-container"),M=Object(r["resolveComponent"])("router-view"),S=Object(r["resolveComponent"])("modal-dialog"),D=Object(r["resolveComponent"])("group-form"),R=Object(r["resolveComponent"])("button-row");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[Object(r["createVNode"])(O,{group:m.group,onShowEdit:j.showEdit},null,8,["group","onShowEdit"]),m.group.isApplying?(Object(r["openBlock"])(),Object(r["createBlock"])(g,{key:0,group:m.group},null,8,["group"])):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(B,{onTabChanged:j.handleTabChange},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(y,{label:"Members"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(h,{group:m.group},null,8,["group"]),m.group.isVcep()?(Object(r["openBlock"])(),Object(r["createBlock"])(w,{key:0,onSubmitted:t[1]||(t[1]=function(e){return j.submitForm("saveMembershipDescription","editingExpertise")}),onCanceled:t[2]||(t[2]=function(e){return j.cancelForm("editingExpertise")}),"show-controls":f.editingExpertise},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(v,{ref:"membershipDescriptionFormRef",class:"mt-8",editing:f.editingExpertise,"onUpdate:editing":t[0]||(t[0]=function(e){return f.editingExpertise=e}),errors:f.errors},null,8,["editing","errors"])]})),_:1},8,["show-controls"])):Object(r["createCommentVNode"])("",!0)]})),_:1}),Object(r["createVNode"])(y,{label:"Scope",visible:m.group.isEp()},{default:Object(r["withCtx"])((function(){return[o,m.group.isEp()?(Object(r["openBlock"])(),Object(r["createBlock"])(w,{key:0,onSubmitted:t[4]||(t[4]=function(t){return e.$refs.groupGeneListRef.save()}),onCanceled:t[5]||(t[5]=function(t){return e.$refs.groupGeneListRef.cancel()}),"show-controls":f.editingGenes},{default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(),Object(r["createBlock"])(Object(r["resolveDynamicComponent"])(m.groupGeneList),{ref:"groupGeneListRef",editing:f.editingGenes,"onUpdate:editing":t[3]||(t[3]=function(e){return f.editingGenes=e})},null,8,["editing"]))]})),_:1},8,["show-controls"])):Object(r["createCommentVNode"])("",!0),c,Object(r["createVNode"])(w,{visible:m.group.isEp(),onSubmitted:t[7]||(t[7]=function(e){return j.submitForm("saveScopeDescription","editingScopeDescription")}),onCanceled:t[8]||(t[8]=function(e){return j.cancelForm("editingScopeDescription")}),"show-controls":f.editingScopeDescription},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(k,{ref:"scopeDescriptionRef",editing:f.editingScopeDescription,"onUpdate:editing":t[6]||(t[6]=function(e){return f.editingScopeDescription=e}),errors:f.errors},null,8,["editing","errors"])]})),_:1},8,["visible","show-controls"])]})),_:1},8,["visible"]),Object(r["createVNode"])(y,{label:"Sustained Curation",visible:m.group.isEp()},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(w,{onSubmitted:t[9]||(t[9]=function(e){return j.submitForm("saveOngoingPlansForm")}),onCanceled:t[10]||(t[10]=function(e){return j.cancelForm()}),class:"pb-4"},{default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(),Object(r["createBlock"])(Object(r["resolveDynamicComponent"])(m.ongoingPlansFormComponent),{ref:"ongoingPlansForm",errors:f.errors},null,8,["errors"]))]})),_:1}),m.group.isVcep()?(Object(r["openBlock"])(),Object(r["createElementBlock"])("section",i,[a,Object(r["createVNode"])(V,{group:m.group,class:"pb-2 mb-4 border-b"},null,8,["group"])])):Object(r["createCommentVNode"])("",!0)]})),_:1},8,["visible"]),Object(r["createVNode"])(y,{visible:m.group.isVcep(),label:"Specifications"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(x)]})),_:1},8,["visible"]),Object(r["createVNode"])(y,{label:"Documents"},{default:Object(r["withCtx"])((function(){return[l]})),_:1}),Object(r["createVNode"])(y,{label:"Attestations",visible:m.group.isEp()},{default:Object(r["withCtx"])((function(){return[m.group.isGcep()?(Object(r["openBlock"])(),Object(r["createBlock"])(C,{key:0,class:"pb-2 mb-4 border-b",disabled:!0})):Object(r["createCommentVNode"])("",!0),s,m.group.isVcep()?(Object(r["openBlock"])(),Object(r["createBlock"])(E,{key:1,class:"pb-2 mb-4 border-b",disabled:!0})):Object(r["createCommentVNode"])("",!0),u,Object(r["createVNode"])(N,{class:"pb-2 mb-4 border-b",disabled:!0})]})),_:1},8,["visible"]),Object(r["createVNode"])(y,{label:"Log",visible:e.hasPermission("groups-manage")||e.userInGroup(m.group)},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(_,{"log-entries":m.logEntries,"api-url":"/api/groups/".concat(m.group.uuid,"/activity-logs"),"log-updated":m.getLogEntries},null,8,["log-entries","api-url","log-updated"]),Object(r["createElementVNode"])("button",{class:"btn btn-xs mt-1",onClick:t[11]||(t[11]=function(){return m.getLogEntries&&m.getLogEntries.apply(m,arguments)})},"Refresh")]})),_:1},8,["visible"]),Object(r["createVNode"])(y,{label:"Admin",visible:e.hasPermission("groups-manage")},{default:Object(r["withCtx"])((function(){return[d,Object(r["createElementVNode"])("button",{class:"btn btn red",onClick:t[12]||(t[12]=function(){return j.initDelete&&j.initDelete.apply(j,arguments)})},"Delete Group")]})),_:1},8,["visible"])]})),_:1},8,["onTabChanged"]),(Object(r["openBlock"])(),Object(r["createBlock"])(r["Teleport"],{to:"body"},[Object(r["createVNode"])(S,{modelValue:m.showModal,"onUpdate:modelValue":t[13]||(t[13]=function(e){return m.showModal=e}),onClosed:j.handleModalClosed,title:this.$route.meta.title},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(M,{ref:"modalView",onSaved:j.hideModal,onCanceled:j.hideModal},null,8,["onSaved","onCanceled"])]})),_:1},8,["modelValue","onClosed","title"]),Object(r["createVNode"])(S,{modelValue:f.showInfoEdit,"onUpdate:modelValue":t[18]||(t[18]=function(e){return f.showInfoEdit=e}),onClosed:t[19]||(t[19]=function(e){return f.showInfoEdit=!1}),title:"Edit Group Info",size:"sm"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(w,{onSubmitted:t[16]||(t[16]=function(t){return e.$refs.infoForm.save()}),onCanceled:t[17]||(t[17]=function(t){return e.$refs.infoForm.cancel()})},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(D,{ref:"infoForm",onCanceled:t[14]||(t[14]=function(e){return f.showInfoEdit=!1}),onSaved:t[15]||(t[15]=function(e){return f.showInfoEdit=!1})},null,512)]})),_:1})]})),_:1},8,["modelValue"]),Object(r["createVNode"])(S,{modelValue:f.showConfirmDelete,"onUpdate:modelValue":t[21]||(t[21]=function(e){return f.showConfirmDelete=e}),title:"Delete This Group?"},{default:Object(r["withCtx"])((function(){return[Object(r["createElementVNode"])("div",p,[Object(r["createElementVNode"])("p",null," You are about to delete "+Object(r["toDisplayString"])(m.group.displayName)+" and all associated data. ",1),b]),Object(r["createVNode"])(R,{"submit-text":"Delete this group.",onSubmitted:j.deleteGroup,onCanceled:t[20]||(t[20]=function(e){return f.showConfirmDelete=!1})},null,8,["onSubmitted"])]})),_:1},8,["modelValue"])]))])}var f=n("1da1"),j=(n("ac1f"),n("5319"),n("96cf"),n("5502")),O=n("831e"),g=n("1874"),h=(n("4e82"),n("a4d3"),n("e01a"),{key:0,class:"px-3 py-2 rounded border border-gray-300 text-gray-500 bg-gray-200"}),v={key:0,class:"flex space-x-1"},w=["onClick"],y=["onClick"],k=["innerHTML"];function V(e,t,n,o,c,i){var a=Object(r["resolveComponent"])("icon-edit"),l=Object(r["resolveComponent"])("icon-trash"),s=Object(r["resolveComponent"])("data-table"),u=Object(r["resolveComponent"])("log-entry-form"),d=Object(r["resolveComponent"])("modal-dialog"),p=Object(r["resolveComponent"])("activity-log-delete-confirmation");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[o.hasLogEntries?(Object(r["openBlock"])(),Object(r["createBlock"])(s,{key:1,fields:o.fields,data:n.logEntries,sort:o.sort,"onUpdate:sort":t[0]||(t[0]=function(e){return o.sort=e})},{"cell-id":Object(r["withCtx"])((function(t){var n=t.item;return[e.hasPermission("groups-manage")?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",v,[Object(r["createElementVNode"])("button",{class:"btn btn-xs inline-block",onClick:function(e){return o.editLogEntry(n)}},[Object(r["createVNode"])(a,{width:"12"})],8,w),null===n.activity_type?(Object(r["openBlock"])(),Object(r["createElementBlock"])("button",{key:0,onClick:function(e){return o.confirmDelete(n)},class:"btn btn-xs inline-block"},[Object(r["createVNode"])(l,{width:"12"})],8,y)):Object(r["createCommentVNode"])("",!0)])):Object(r["createCommentVNode"])("",!0)]})),"cell-description":Object(r["withCtx"])((function(e){var t=e.item;return[Object(r["createElementVNode"])("div",{innerHTML:t.description,class:"links-blue"},null,8,k)]})),_:1},8,["fields","data","sort"])):(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",h," No log entries to display ")),Object(r["createVNode"])(d,{modelValue:o.editingEntry,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.editingEntry=e}),title:"Edit log entry"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(u,{"log-entry":o.selectedEntry,"api-url":n.apiUrl,onSaved:o.closeEntryForm,onCanceled:o.closeEntryForm},null,8,["log-entry","api-url","onSaved","onCanceled"])]})),_:1},8,["modelValue"]),Object(r["createVNode"])(d,{modelValue:o.showDeleteConfirmation,"onUpdate:modelValue":t[2]||(t[2]=function(e){return o.showDeleteConfirmation=e}),title:"Delete this log entry?"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(p,{logEntry:o.selectedEntry,"api-url":n.apiUrl,onCanceled:o.closeDeleteConfirmation,onDeleted:o.closeDeleteConfirmation},null,8,["logEntry","api-url","onCanceled","onDeleted"])]})),_:1},8,["modelValue"])])}var x=Object(r["createElementVNode"])("hr",null,null,-1);function C(e,t,n,o,c,i){var a=Object(r["resolveComponent"])("input-row"),l=Object(r["resolveComponent"])("rich-text-editor"),s=Object(r["resolveComponent"])("button-row"),u=Object(r["resolveComponent"])("form-container");return Object(r["openBlock"])(),Object(r["createBlock"])(u,{class:"log-entry-form",ref:"form-container"},{default:Object(r["withCtx"])((function(){return[x,Object(r["createVNode"])(a,{label:"Log Date",modelValue:o.newEntry.log_date,"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.newEntry.log_date=e}),errors:o.errors.log_date,type:"date",ref:"logdate"},null,8,["modelValue","errors"]),Object(r["createVNode"])(a,{label:"Entry",errors:o.errors.entry},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{modelValue:o.newEntry.entry,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.newEntry.entry=e})},null,8,["modelValue"])]})),_:1},8,["errors"]),Object(r["createVNode"])(s,null,{default:Object(r["withCtx"])((function(){return[Object(r["createElementVNode"])("button",{class:"btn",onClick:t[2]||(t[2]=function(){return o.cancel&&o.cancel.apply(o,arguments)})},"Cancel"),Object(r["createElementVNode"])("button",{class:"btn blue",onClick:t[3]||(t[3]=function(){return o.save&&o.save.apply(o,arguments)})},"Save")]})),_:1})]})),_:1},512)}n("99af");var E=n("85fe"),N={name:"LogEntryForm",components:{RichTextEditor:E["default"]},props:{logEntry:{required:!1,default:function(){return{log_date:new Date,step:null,entry:""}}},apiUrl:{required:!0,type:String}},setup:function(e,t){var n=Object(r["ref"])({log_date:new Date,step:null,entry:""}),o=Object(r["ref"])({}),c=function(e){e&&e.created_at&&(n.value={id:e.id,log_date:new Date(Date.parse(e.created_at)),step:e.properties?e.properties.step:null,entry:e.description})},i=function(){n.value={log_date:new Date,step:null,entry:""}},a=function(){var r=Object(f["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(r.prev=0,!n.value.id){r.next=6;break}return r.next=4,Object(O["e"])("".concat(e.apiUrl,"/").concat(n.value.id),n.value);case 4:r.next=8;break;case 6:return r.next=8,Object(O["d"])(e.apiUrl,n.value);case 8:return r.next=10,Object(O["b"])(e.apiUrl);case 10:i(),t.emit("saved",n.value),r.next=19;break;case 14:if(r.prev=14,r.t0=r["catch"](0),!r.t0.response||422!=r.t0.response.status||!r.t0.response.data.errors){r.next=19;break}return o.value=r.t0.response.data.errors,r.abrupt("return");case 19:case"end":return r.stop()}}),r,null,[[0,14]])})));return function(){return r.apply(this,arguments)}}(),l=function(){i(),t.emit("canceled")};return Object(r["watch"])((function(){return e.logEntry}),(function(e){c(e)}),{immediate:!0}),{newEntry:n,errors:o,syncEntry:c,initNewEntry:i,save:a,cancel:l}},mounted:function(){}};N.render=C;var _=N,B=(n("b0c0"),Object(r["createElementVNode"])("p",null,"You are about to delete the following log entry:",-1)),M={class:"border-y py-2"},S=["innerHTML"],D={key:0,class:"ml-4 mt-2 mb-4 text-gray-700 text-sm"},R=Object(r["createElementVNode"])("div",null,"This can not be undone. Are you sure you want to continue?",-1),P={key:0,class:"bg-red-200 text-red-900 rounded p-2 my-2"};function G(e,t,n,o,c,i){var a=Object(r["resolveComponent"])("button-row");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[B,Object(r["createElementVNode"])("div",M,[Object(r["createElementVNode"])("blockquote",null,[Object(r["createElementVNode"])("div",{innerHTML:n.logEntry.description},null,8,S)]),n.logEntry.causer?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",D,"Logged by "+Object(r["toDisplayString"])(n.logEntry.causer.name)+", "+Object(r["toDisplayString"])(o.logDate),1)):Object(r["createCommentVNode"])("",!0)]),R,o.flattenedErrors.length>0?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",P,[Object(r["createElementVNode"])("ul",null,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(o.flattenedErrors,(function(e,t){return Object(r["openBlock"])(),Object(r["createElementBlock"])("li",{key:t},Object(r["toDisplayString"])(e),1)})),128))])])):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(a,{onCanceled:t[0]||(t[0]=function(t){return e.$emit("canceled")}),onSubmitted:o.deleteLogEntry,submitText:"Delete Log Entry"},null,8,["onSubmitted"])])}n("0481"),n("07ac");var I=n("e328"),L=n("033d"),F={name:"ConfirmDeleteLogEntry",props:{logEntry:{required:!0,type:Object},apiUrl:{required:!0,type:String}},emits:["deleted","canceled"],setup:function(e,t){var n=Object(r["ref"])({}),o=Object(r["computed"])((function(){return Object(I["a"])(e.logEntry.properties.log_date)})),c=Object(r["computed"])((function(){return Object.values(n.value).flat()})),i=function(){var r=Object(f["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(O["a"])(e.apiUrl,e.logEntry.id);case 3:return t.emit("deleted"),r.next=6,Object(O["b"])(e.apiUrl);case 6:r.next=14;break;case 8:if(r.prev=8,r.t0=r["catch"](0),!Object(L["a"])(r.t0)){r.next=13;break}return n.value=r.t0.response.data.errors,r.abrupt("return");case 13:n.value={a:r.t0.message};case 14:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(){return r.apply(this,arguments)}}();return{errors:n,logDate:o,flattenedErrors:c,deleteLogEntry:i}}};n("8c58");F.render=G;var U=F,$=[{name:"created_at",label:"Created",sortName:"created_at",sortable:!0,type:Date},{name:"description",label:"Entry",sortable:!0,type:String},{name:"causer.name",label:"User",sortable:!0},{name:"id",label:"",sortable:!1}],T={components:{LogEntryForm:_,ActivityLogDeleteConfirmation:U},props:{logEntries:{required:!0,type:Array},apiUrl:{required:!0,type:String}},setup:function(e){var t=Object(r["ref"])({field:"created_at",desc:!0}),n=Object(r["ref"])({}),o=Object(r["ref"])(!1),c=Object(r["computed"])((function(){return e.logEntries.length>0})),i=function(e){o.value=!0,n.value=e},a=function(){o.value=!1,n.value={}},l=Object(r["ref"])(!1),s=function(e){n.value=e,l.value=!0},u=function(){l.value=!1,n.value={}};return{fields:Object(r["ref"])($),sort:t,selectedEntry:n,editingEntry:o,hasLogEntries:c,editLogEntry:i,closeEntryForm:a,showDeleteConfirmation:l,confirmDelete:s,closeDeleteConfirmation:u}}};n("b5c7");T.render=V;var A=T,q={key:0,class:"p-4 my-4 mb-8 border rounded-xl bg-white"},H={class:"mb-2"},z=Object(r["createTextVNode"])(" Application Summary "),K={key:0},J={class:"px-8"},Y={key:2},Q=Object(r["createTextVNode"])("Approved"),W={key:0,class:"flex-1"},X={key:0,class:"mt-4"},Z=Object(r["createElementVNode"])("button",{class:"btn blue btn-lg"},"Go to application",-1);function ee(e,t,n,o,c,i){var a=Object(r["resolveComponent"])("requirements-badge"),l=Object(r["resolveComponent"])("icon-lock"),s=Object(r["resolveComponent"])("badge"),u=Object(r["resolveComponent"])("router-link");return n.group.isEp()?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",q,[Object(r["createElementVNode"])("h2",H,[z,i.applicationStarted&&n.group.isVcep()?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",K," - "+Object(r["toDisplayString"])(this.currentMenuItem.title),1)):Object(r["createCommentVNode"])("",!0)]),Object(r["createElementVNode"])("ul",J,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(i.menu,(function(e,t){return Object(r["openBlock"])(),Object(r["createElementBlock"])("li",{key:t,class:"py-1 flex justify-between border-b border-gray-300 my-2"},[Object(r["createElementVNode"])("div",{class:Object(r["normalizeClass"])(["flex justify-between",{"w-full":!i.isStep(e)}])},[Object(r["createElementVNode"])("div",{class:Object(r["normalizeClass"])(["w-56 text-lg",{"text-gray-400":i.isStep(e)&&e.isDisabled(n.group)}])},Object(r["toDisplayString"])(e.title),3),Object(r["createElementVNode"])("div",null,[i.isStep(e)?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createBlock"])(a,{key:0,section:e},null,8,["section"])),i.isStep(e)&&e.isDisabled(n.group)?(Object(r["openBlock"])(),Object(r["createBlock"])(l,{key:1,class:"inline text-gray-400",height:14,width:14})):Object(r["createCommentVNode"])("",!0),i.isStep(e)&&e.isComplete(n.group)?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",Y,[Object(r["createVNode"])(s,{color:"green"},{default:Object(r["withCtx"])((function(){return[Q]})),_:1})])):Object(r["createCommentVNode"])("",!0)])],2),i.isCurrentStep(e)?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",W,[Object(r["createElementVNode"])("ul",null,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(e.sections,(function(e,t){return Object(r["openBlock"])(),Object(r["createElementBlock"])("li",{key:t,class:"pb-2 flex justify-between my-2"},[Object(r["createElementVNode"])("div",null,Object(r["toDisplayString"])(e.title),1),Object(r["createVNode"])(a,{section:e},null,8,["section"])])})),128))])])):Object(r["createCommentVNode"])("",!0)])})),128))]),e.hasAnyPermission(["ep-applications-manage",["application-edit",n.group]])?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",X,[n.group.uuid?(Object(r["openBlock"])(),Object(r["createBlock"])(u,{key:0,to:i.applicationRoute},{default:Object(r["withCtx"])((function(){return[Z]})),_:1},8,["to"])):Object(r["createCommentVNode"])("",!0)])):Object(r["createCommentVNode"])("",!0)])):Object(r["createCommentVNode"])("",!0)}var te=n("3a9d"),ne=n("5313"),re={name:"ApplicationSummary",components:{RequirementsBadge:te["a"]},props:{group:{required:!0,type:Object}},data:function(){return{}},computed:{applicationStarted:function(){return!0},application:function(){return this.group.isVcep()?ne["c"]:ne["a"]},currentStep:function(){return this.group.expert_panel.current_step},applicationRoute:function(){return{name:"GroupApplication",params:{uuid:this.group.uuid},hash:"#".concat(this.currentMenuItem.id)}},currentMenuItem:function(){return this.application.getStep(this.group.expert_panel.current_step)},menu:function(){return this.application.steps.length>1?this.application.steps:this.application.steps[0].sections}},methods:{isStep:function(e){return Boolean(e.sections)},isCurrentStep:function(e){return!(!this.isStep(e)||this.application.getStep(this.group.expert_panel.current_step)!=e)}}};re.render=ee;var oe=re,ce=n("8fec"),ie=n("3926"),ae=n("a266"),le=n("abba"),se=n("324b"),ue=n("206f"),de=n("6ca3"),pe=n("268c"),be=(n("a15b"),n("d81d"),{class:"pb-4"}),me=Object(r["createTextVNode"])("Groups"),fe={class:"flex justify-between items-center"},je={key:0},Oe=Object(r["createElementVNode"])("strong",null,"Chairs:",-1),ge={key:0},he={key:1,class:"text-gray-500"},ve=Object(r["createElementVNode"])("strong",null,"Coordinators:",-1),we={key:0},ye={key:1,class:"text-gray-500"};function ke(e,t,n,o,c,i){var a=Object(r["resolveComponent"])("router-link"),l=Object(r["resolveComponent"])("badge"),s=Object(r["resolveComponent"])("note"),u=Object(r["resolveComponent"])("dictionary-row");return Object(r["openBlock"])(),Object(r["createElementBlock"])("header",be,[Object(r["createVNode"])(a,{class:"note",to:{name:"GroupList"}},{default:Object(r["withCtx"])((function(){return[me]})),_:1}),Object(r["createElementVNode"])("h1",fe,[Object(r["createElementVNode"])("div",null,[Object(r["createTextVNode"])(Object(r["toDisplayString"])(n.group.displayName)+" ",1),Object(r["createVNode"])(l,{color:n.group.statusColor,class:"text-xs"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(n.group.status?n.group.status.name:"loading..."),1)]})),_:1},8,["color"]),e.hasRole("super-user")?(Object(r["openBlock"])(),Object(r["createBlock"])(s,{key:0,class:"font-normal"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(" group.id: "+Object(r["toDisplayString"])(n.group.id)+" ",1),n.group.isEp()?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",je," | expertPanel.id: "+Object(r["toDisplayString"])(n.group.expert_panel.id),1)):Object(r["createCommentVNode"])("",!0)]})),_:1})):Object(r["createCommentVNode"])("",!0)]),e.hasAnyPermission(["groups-manage",["info-edit",n.group]])?(Object(r["openBlock"])(),Object(r["createElementBlock"])("button",{key:0,onClick:t[0]||(t[0]=function(t){return e.$emit("showEdit")}),class:"btn btn-xs"}," Edit ")):Object(r["createCommentVNode"])("",!0)]),Object(r["createVNode"])(u,{label:"Chairs:"},{label:Object(r["withCtx"])((function(){return[Oe]})),default:Object(r["withCtx"])((function(){return[n.group.chairs.length>0?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",ge,Object(r["toDisplayString"])(n.group.chairs.map((function(e){return e.person.name})).join(", ")),1)):(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",he," None assigned "))]})),_:1}),Object(r["createVNode"])(u,{label:"Coordinators:"},{label:Object(r["withCtx"])((function(){return[ve]})),default:Object(r["withCtx"])((function(){return[i.coordinators.length>0?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",we,Object(r["toDisplayString"])(i.coordinators.map((function(e){return e.person.name})).join(", ")),1)):(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",ye," None assigned "))]})),_:1})])}n("4de4");var Ve=n("ae23"),xe={name:"GroupDetailHeader",props:{group:{type:Ve["a"],required:!0}},emits:["showEdit"],computed:{coordinators:function(){return this.group?this.group.members.filter((function(e){return e.hasRole("coordinator")})):[]}}};xe.render=ke;var Ce=xe,Ee=n("0945"),Ne=n("4d1a"),_e=n("a8af"),Be=n("62a2"),Me=n("1d7f"),Se=n("db04"),De={name:"GroupDetail",components:{ActivityLog:A,ApplicationSummary:oe,AttestationGcep:ce["a"],AttestationNhgri:ie["a"],AttestationReanalysis:ae["a"],CspecSummary:le["a"],GroupForm:pe["a"],GroupDetailHeader:Ce,EvidenceSummaries:se["a"],GcepGeneList:ue["a"],GcepOngoingPlansForm:de["a"],MemberList:Ee["a"],MembershipDescriptionForm:Ne["a"],ScopeDescriptionForm:_e["a"],VcepGeneList:Be["a"],VcepOngoingPlansForm:Me["a"]},props:{uuid:{type:String,required:!0}},data:function(){return{showInfoEdit:!1,editingExpertise:!1,editingScopeDescription:!1,editingGenes:!1,showConfirmDelete:!1,ongoingPlansErrors:{},errors:{}}},setup:function(e){var t=Object(j["d"])(),n=Object(r["ref"])(!1),o=Object(r["computed"])({get:function(){return t.getters["groups/currentItemOrNew"]},set:function(e){t.commit("groups/addItem",e)}}),c=Object(r["computed"])((function(){return o.value.isEp()?o.value.isVcep()?Be["a"]:ue["a"]:null})),i=Object(r["computed"])((function(){return o.value.isVcep()?Me["a"]:de["a"]})),a=function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(O["b"])("/api/groups/".concat(e.uuid,"/activity-logs"));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(r["onMounted"])(Object(f["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.dispatch("groups/find",e.uuid).then((function(){t.commit("groups/setCurrentItemIndexByUuid",e.uuid),t.dispatch("groups/getGenes",o.value),o.value.isVcep()&&t.dispatch("groups/getEvidenceSummaries",o.value)}));case 1:case"end":return n.stop()}}),n)})))),{group:o,groupGeneList:c,showModal:n,ongoingPlansFormComponent:i,logEntries:O["c"],getLogEntries:a}},watch:{$route:function(){this.showModal=!!this.$route.meta.showModal&&Boolean(this.$route.meta.showModal)}},methods:{hideModal:function(){this.$router.replace({name:"GroupDetail",params:{uuid:this.uuid}})},handleModalClosed:function(e){this.clearModalForm(e),this.$router.push({name:"GroupDetail",params:{uuid:this.uuid}})},clearModalForm:function(){"function"===typeof this.$refs.modalView.clearForm&&this.$refs.modalView.clearForm()},showEdit:function(){this.showInfoEdit=!0},cancelForm:function(e){this[e]=!1,this.errors={},this.revertGroupChanges()},submitForm:function(e,t){var n=this;return Object(f["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,n[e].apply(n.group);case 3:n[t]=!1,r.next=12;break;case 6:if(r.prev=6,r.t0=r["catch"](0),!Object(Se["b"])(r.t0)){r.next=11;break}return n.errors=r.t0.response.data.errors,r.abrupt("return");case 11:throw r.t0;case 12:case"end":return r.stop()}}),r,null,[[0,6]])})))()},saveMembershipDescription:function(){var e=this;return this.$store.dispatch("groups/membershipDescriptionUpdate",{uuid:this.group.uuid,membershipDescription:this.group.expert_panel.membership_description}).then((function(){e.$store.commit("pushSuccess","Description of expertise updated.")}))},saveScopeDescription:function(){var e=this;return this.$store.dispatch("groups/scopeDescriptionUpdate",{uuid:this.group.uuid,scopeDescription:this.group.expert_panel.scope_description}).then((function(t){return e.$store.commit("pushSuccess","Description of scope updated."),t}))},saveOngoingPlansForm:function(){var e=this,t=this.group,n=t.uuid,r=t.expert_panel;return this.$store.dispatch("groups/curationReviewProtocolUpdate",{uuid:n,expertPanel:r}).then((function(){e.$store.commit("pushSuccess","Curation review protocol updated.")}))},revertGroupChanges:function(){var e=this;return this.errors={},this.$store.dispatch("groups/find",this.group.uuid).then((function(){e.$store.commit("pushInfo","Update canceled.")}))},handleTabChange:function(e){"Log"==e&&Object(g["b"])("groups-manage")&&this.getLogEntries()},initDelete:function(){this.showConfirmDelete=!0},deleteGroup:function(){this.$store.dispatch("groups/delete",this.group.uuid),this.$store.commit("pushSuccess","Group deleted."),this.$router.push({name:"GroupList"})}},mounted:function(){this.showModal=Boolean(this.$route.meta.showModal),this.showConfirmDelete=!1},beforeUnmount:function(){this.$store.commit("groups/clearCurrentItem")}};De.render=m;t["default"]=De},b5c7:function(e,t,n){"use strict";n("8067")},bc5a:function(e,t,n){}}]);
//# sourceMappingURL=group-detail.ac8f6ee2.js.map