(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["group-detail"],{"03c4":function(e,t,n){"use strict";n("768b")},"206f":function(e,t,n){"use strict";var o=n("7a23"),r={class:"flex justify-between mb-2"},c=Object(o["createTextVNode"])(" Gene List "),a={key:0},i={key:1},l={key:0,style:{"text-indent":"1rem"}};function u(e,t,n,u,s,d){var p=Object(o["resolveComponent"])("edit-icon-button"),b=Object(o["resolveComponent"])("input-row");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[Object(o["createElementVNode"])("h4",r,[c,!e.hasAnyPermission(["groups-manage",["application-edit",u.group]])||n.editing||n.readonly?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])(p,{key:0,onClick:d.showForm},null,8,["onClick"]))]),n.editing?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",a,[Object(o["createVNode"])(b,{modelValue:u.genesAsText,"onUpdate:modelValue":[t[0]||(t[0]=function(e){return u.genesAsText=e}),t[1]||(t[1]=function(t){e.$emit("geneschanged"),e.$emit("update")})],type:"large-text",label:"List the gene symbols for the genes the Expert Panel plans to curate.  Separate genes by commas, spaces, or new lines.",errors:u.errors.genes,placeholder:"ABC, DEF1, BEAN",vertical:""},null,8,["modelValue","errors"])])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",i,[u.genesAsText?(Object(o["openBlock"])(),Object(o["createElementBlock"])("p",l,Object(o["toDisplayString"])(u.genesAsText),1)):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:1,class:"well cursor-pointer",onClick:t[2]||(t[2]=function(){return d.showForm&&d.showForm.apply(d,arguments)})},Object(o["toDisplayString"])(u.loading?"Loading...":"No genes have been added to the gene list."),1))]))])}var s=n("0d21");n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0");function d(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,c=[],a=!0,i=!1;try{for(n=n.call(e);!(a=(o=n.next()).done);a=!0)if(c.push(o.value),t&&c.length===t)break}catch(l){i=!0,r=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(i)throw r}}return c}}var p=n("06c5"),b=n("3d8c");function m(e,t){return Object(s["a"])(e)||d(e,t)||Object(p["a"])(e,t)||Object(b["a"])()}var O=n("1da1"),j=(n("96cf"),n("a15b"),n("d81d"),n("4de4"),n("ac1f"),n("1276"),n("4d63"),n("c607"),n("2c3e"),n("25f0"),n("159b"),n("b64b"),n("99af"),n("5502")),f=n("a75a"),g=n("033d"),h=n("f96b"),v={name:"GcepGeneList",components:{},props:{editing:{type:Boolean,required:!1,default:!0},readonly:{type:Boolean,required:!1,default:!1}},computed:{canEdit:function(){return this.hasAnyPermission(["groups-manage",["application-edit",this.group]])}},emits:["saved","canceled","update:editing","geneschanged","update"],methods:{showForm:function(){this.canEdit&&(this.resetErrors(),this.$emit("update:editing",!0))}},setup:function(e,t){var n=Object(j["d"])(),r=Object(o["ref"])(!1),c=Object(o["ref"])(null),a=Object(f["a"])(e,t),i=a.errors,l=a.resetErrors,u=Object(o["computed"])({get:function(){return n.getters["groups/currentItemOrNew"]},set:function(e){n.commit("groups/addItem",e)}}),s=function(){t.emit("update:editing",!1),i.value={}},d=function(){l(),b(),s(),t.emit("canceled")},p=function(){u.value.expert_panel&&(c.value=u.value.expert_panel.genes?u.value.expertPanel.genes.join(", "):null)},b=function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(u.value.uuid){e.next=2;break}return e.abrupt("return");case 2:return r.value=!0,e.prev=3,e.next=6,n.dispatch("groups/getGenes",u.value);case 6:c.value=u.value.expert_panel.genes.map((function(e){return e.gene_symbol})).join(", "),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](3),n.commit("pushError",e.t0.response.data);case 12:r.value=!1;case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var o,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=c.value?c.value.split(new RegExp(/[, \n]/)).filter((function(e){return""!==e})):[],e.prev=1,e.next=4,h["a"].post("/api/groups/".concat(u.value.uuid,"/expert-panel/genes"),{genes:o});case 4:s(),t.emit("saved"),b(),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),Object(g["a"])(e.t0)&&(r=e.t0.response.data.errors,r.group&&r.group.forEach((function(e){n.pushError(e)})),a=Object.keys(r).map((function(e){var t=e.split("."),n=m(t,2),c=n[0],a=n[1];if("genes"==c)return a?"Gene #".concat(parseInt(a)+1,', "').concat(o[a],"\" wasn't found in our records.  Please confirm it is currently an approved HGNC gene symbol."):r[e]})),i.value={genes:a});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return Object(o["watch"])((function(){return n.getters["groups/currentItem"]}),(function(e,t){!e.id||t&&e.id==t.id||b()})),Object(o["onMounted"])((function(){b()})),Object(o["watch"])((function(){return u.value.expert_panel.genes}),(function(){})),{group:u,genesAsText:c,loading:r,errors:i,resetErrors:l,hideForm:s,cancel:d,syncGenesAsText:p,save:v}}},V=n("6b0d"),k=n.n(V);const w=k()(v,[["render",u]]);t["a"]=w},3926:function(e,t,n){"use strict";var o=n("7a23"),r={key:0},c=Object(o["createTextVNode"])(" Curated variants and genes are expected to be approved and posted for the community as soon as possible as described in Section 2.4 of the "),a=Object(o["createTextVNode"])(". Note that upon approval, a VCEP must finalize their set of variants for upload to the ClinGen Evidence Repository within 30 days. "),i={key:1},l={class:"my-4"},u={key:2},s=Object(o["createTextVNode"])(" Please review the "),d=Object(o["createTextVNode"])(" and refer to guidance on submissions to a preprint server (e.g. bioRxiv or medRxiv). "),p={key:3},b=Object(o["createElementVNode"])("em",null,"It is expected that, whenever possible, Expert Panel manuscripts will be pre-published (e.g. medRXiv) . If the authors do not anticipate submitting their manuscript to a prepublication resource they must provide a written justification.",-1),m=[b];function O(e,t,n,b,O,j){var f=Object(o["resolveComponent"])("vcep-protocol-link"),g=Object(o["resolveComponent"])("checkbox"),h=Object(o["resolveComponent"])("input-row"),v=Object(o["resolveComponent"])("publication-policy-link");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[j.group.isVcep()?(Object(o["openBlock"])(),Object(o["createElementBlock"])("p",r,[c,Object(o["createVNode"])(f),a])):Object(o["createCommentVNode"])("",!0),j.group.isGcep()?(Object(o["openBlock"])(),Object(o["createElementBlock"])("p",i," Curated genes and variants are expected to be approved and posted for the community as soon as possible and should not wait for the publication of a manuscript. ")):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("p",l,[Object(o["createVNode"])(h,{label:"",vertical:!0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(g,{disabled:n.disabled,modelValue:j.attestation,"onUpdate:modelValue":t[0]||(t[0]=function(e){return j.attestation=e}),id:"nhgri-checkbox",label:j.checkboxLabel},null,8,["disabled","modelValue","label"])]})),_:1})]),j.group.isVcep()?(Object(o["openBlock"])(),Object(o["createElementBlock"])("p",u,[s,Object(o["createVNode"])(v),d])):Object(o["createCommentVNode"])("",!0),j.group.isGcep()?(Object(o["openBlock"])(),Object(o["createElementBlock"])("p",p,m)):Object(o["createCommentVNode"])("",!0)])}var j=n("1da1"),f=(n("96cf"),n("f96b")),g=n("033d"),h={name:"NHGRIDataAvailability",props:{disabled:{type:Boolean,required:!1,default:!1}},emits:["update"],data:function(){return{errors:{}}},computed:{group:{get:function(){return this.$store.getters["groups/currentItemOrNew"]},set:function(e){this.$store.commit("groups/addItem",e)}},attestation:{get:function(){return Boolean(this.group.expert_panel.nhgri_attestation_date)},set:function(e){this.group.expert_panel.nhgri_attestation_date=e?new Date:null,this.$emit("update")}},checkboxLabel:function(){return this.group.isVcep()?"I understand that once a variant is approved in the VCI it will become publicly available in the Evidence Repository. They should not be held for publication.":"Please check box to confirm your understanding that once a gene is approved in the GCI, the group should utilize the “publish” functionality within the GCI to make the curation publicly available on the ClinGen website (https://clinicalgenome.org/). They should not be held for publication."}},methods:{save:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.attestation){t.next=9;break}return t.prev=1,t.next=4,f["a"].post("/api/groups/".concat(e.group.uuid,"/application/attestations/nhgri"),{attestation:e.attestation});case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](1),Object(g["a"])(t.t0)&&(e.errors=t.t0.response.data.errors);case 9:case"end":return t.stop()}}),t,null,[[1,6]])})))()}}},v=n("6b0d"),V=n.n(v);const k=V()(h,[["render",O]]);t["a"]=k},"494c":function(e,t,n){},"4d1a":function(e,t,n){"use strict";var o=n("7a23"),r={class:"flex justify-between items-center"},c=Object(o["createElementVNode"])("h4",null,"Description of Expertise",-1),a={class:"mt-4"},i={key:1},l={key:1,class:"well"};function u(e,t,n,u,s,d){var p=Object(o["resolveComponent"])("edit-icon-button"),b=Object(o["resolveComponent"])("input-row"),m=Object(o["resolveComponent"])("markdown-block");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[Object(o["createElementVNode"])("header",r,[c,e.hasAnyPermission(["groups-manage"],["edit-info",d.group])&&!n.editing?(Object(o["openBlock"])(),Object(o["createBlock"])(p,{key:0,onClick:t[0]||(t[0]=function(t){return e.$emit("update:editing",!0)})})):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("div",a,[Object(o["createVNode"])(o["Transition"],{name:"fade",mode:"out-in"},{default:Object(o["withCtx"])((function(){return[n.editing?(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:0,modelValue:d.group.expert_panel.membership_description,"onUpdate:modelValue":[t[1]||(t[1]=function(e){return d.group.expert_panel.membership_description=e}),d.emitUpdate],label:"Describe the expertise of VCEP members who regularly use the ACMG/AMP guidelines to classify variants and/or review variants during clinical laboratory case sign-out.",errors:n.errors.membership_description,type:"large-text",vertical:""},null,8,["modelValue","errors","onUpdate:modelValue"])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",i,[d.group.expert_panel.membership_description?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,markdown:d.group.expert_panel.membership_description},null,8,["markdown"])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("p",l," A description of expertise has not yet been provided. "))]))]})),_:1})])])}var s={name:"MembershipDescriptionForm",props:{editing:{type:Boolean,required:!1,default:!1},errors:{type:Object,required:!1,default:function(){return{}}}},emits:["update:editing","saved","canceled","update"],computed:{group:{get:function(){return this.$store.getters["groups/currentItemOrNew"]},set:function(e){this.$store.commit("groups/addItem",e)}}},methods:{emitUpdate:function(){this.$emit("update")}}},d=n("6b0d"),p=n.n(d);const b=p()(s,[["render",u]]);t["a"]=b},"4f50":function(e,t,n){"use strict";var o=n("7a23"),r={class:"flex space-x-2 items-center mb-3"},c={key:0},a=Object(o["createTextVNode"])(" has"),i={key:1},l=Object(o["createTextVNode"])(" an "),u=Object(o["createTextVNode"])(" due on "),s=Object(o["createTextVNode"])(". "),d=Object(o["createTextVNode"])(" Complete the Annual Update ");function p(e,t,n,p,b,m){var O=Object(o["resolveComponent"])("icon-review"),j=Object(o["resolveComponent"])("router-link"),f=Object(o["resolveComponent"])("static-alert");return m.isPending&&b.annualReview.id?(Object(o["openBlock"])(),Object(o["createBlock"])(f,{key:0,variant:m.variant},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",r,[Object(o["createVNode"])(O,{height:"30",width:"30"}),Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("p",null,[n.showGroupName?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",c,[Object(o["createElementVNode"])("strong",null,Object(o["toDisplayString"])(n.group.displayName),1),a])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",i,"You have")),l,Object(o["createElementVNode"])("strong",null,"annual update for "+Object(o["toDisplayString"])(m.window.for_year),1),u,Object(o["createElementVNode"])("strong",null,Object(o["toDisplayString"])(e.formatDate(m.window.end)),1),s]),n.group.uuid?(Object(o["openBlock"])(),Object(o["createBlock"])(j,{key:0,class:"btn font-bold",to:{name:"AnnualUpdate",params:{uuid:n.group.uuid}}},{default:Object(o["withCtx"])((function(){return[d]})),_:1},8,["to"])):Object(o["createCommentVNode"])("",!0)])])]})),_:1},8,["variant"])):Object(o["createCommentVNode"])("",!0)}var b=n("db04"),m={name:"AnnualUpdateAlert",props:{group:{type:Object,required:!0},showGroupName:{type:Boolean,default:!1}},data:function(){return{annualReview:{},loading:!1}},computed:{window:function(){return this.annualReview.window?this.annualReview.window:{}},isPending:function(){return!this.annualReview.completed_at},variant:function(){var e=new Date;if(!this.window.end)return"warning";var t=new Date(Date.parse(this.window.end));return e>this.addDays(t,-7)?"danger":"warning"}},watch:{group:{immediate:!0,handler:function(){this.getAnnualUpdate()}}},methods:{getAnnualUpdate:function(){var e=this;this.group.uuid&&this.group.expert_panel.definition_is_approved&&(this.loading=!0,b["a"].get("/api/groups/".concat(this.group.uuid,"/expert-panel/annual-updates"),{headers:{"X-Ignore-Missing":1}}).then((function(t){e.annualReview=t.data})).catch((function(e){console.log(e.response),404!=e.response.status||console.log("fuckety fuck fuck")})),this.loading=!1)}}},O=n("6b0d"),j=n.n(O);const f=j()(m,[["render",p]]);t["a"]=f},"62a2":function(e,t,n){"use strict";var o=n("7a23"),r=Object(o["createElementVNode"])("header",{class:"flex justify-between items-center"},[Object(o["createElementVNode"])("h4",null,"Gene/Disease List")],-1),c={class:"my-2"},a={key:0,class:"border-none"},i=Object(o["createElementVNode"])("th",{style:{"min-width":"10rem"}},"HGNC Symbol",-1),l=Object(o["createElementVNode"])("th",{style:{"min-width":"15rem"}},"Disease",-1),u={key:0,style:{width:"5rem"}},s={key:0},d={colspan:"4"},p={class:"p-2 text-center font-bold"},b={key:0},m={key:1},O=Object(o["createElementVNode"])("p",null,"There are no gene/disease pairs in the gene list.",-1),j=[O],f={key:1},g={key:0},h={key:0},v=Object(o["createElementVNode"])("button",{class:"btn btn-xs"},"…",-1),V=Object(o["createTextVNode"])("Edit"),k=Object(o["createTextVNode"])("Remove"),w=["onClick"],y=["onClick"],x={key:0},C={colspan:"4"};function N(e,t,n,O,N,_){var E=Object(o["resolveComponent"])("dropdown-item"),B=Object(o["resolveComponent"])("dropdown-menu"),D=Object(o["resolveComponent"])("gene-search-select"),S=Object(o["resolveComponent"])("input-row"),T=Object(o["resolveComponent"])("disease-search-select"),U=Object(o["resolveComponent"])("button-row"),G=Object(o["resolveComponent"])("modal-dialog");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[r,Object(o["createElementVNode"])("div",c,[O.genes?(Object(o["openBlock"])(),Object(o["createElementBlock"])("table",a,[Object(o["createElementVNode"])("thead",null,[Object(o["createElementVNode"])("tr",null,[i,l,O.canEdit?(Object(o["openBlock"])(),Object(o["createElementBlock"])("th",u)):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(o["Transition"],{name:"fade",mode:"out-in"},{default:Object(o["withCtx"])((function(){return[0==O.genes.length?(Object(o["openBlock"])(),Object(o["createElementBlock"])("tbody",s,[Object(o["createElementVNode"])("tr",null,[Object(o["createElementVNode"])("td",d,[Object(o["createElementVNode"])("div",p,[O.loading?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",b,"Loading...")):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",m,j))])])])])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("tbody",f,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(O.orderedGenes,(function(e){return Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",{key:e.id},[e.edit?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:1},[Object(o["createElementVNode"])("td",null,[Object(o["createVNode"])(S,{label:"",errors:O.errors.hgnc_id,vertical:!0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(D,{modelValue:e.gene,"onUpdate:modelValue":function(t){return e.gene=t}},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1032,["errors"])]),Object(o["createElementVNode"])("td",null,[Object(o["createVNode"])(S,{label:"",errors:O.errors.mondo_id,vertical:!0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(T,{modelValue:e.disease,"onUpdate:modelValue":function(t){return e.disease=t}},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1032,["errors"])]),Object(o["createElementVNode"])("td",null,[Object(o["createElementVNode"])("button",{class:"btn btn-xs",onClick:function(t){return O.updateCancel(e)}},"Cancel",8,w),Object(o["createElementVNode"])("button",{class:"btn blue btn-xs",onClick:function(t){return O.updateGene(e)}},"Save",8,y)])],64)):(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[Object(o["createElementVNode"])("td",null,Object(o["toDisplayString"])(e.gene_symbol),1),Object(o["createElementVNode"])("td",null,Object(o["toDisplayString"])(e.disease_name),1),O.canEdit?(Object(o["openBlock"])(),Object(o["createElementBlock"])("td",g,[e.edit?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",h,[e.toDelete?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])(B,{key:0,"hide-cheveron":!0,class:"relative"},{label:Object(o["withCtx"])((function(){return[v]})),default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(E,{onClick:function(t){return O.edit(e)}},{default:Object(o["withCtx"])((function(){return[V]})),_:2},1032,["onClick"]),Object(o["createVNode"])(E,{onClick:function(t){return O.confirmRemove(e)}},{default:Object(o["withCtx"])((function(){return[k]})),_:2},1032,["onClick"])]})),_:2},1024))]))])):Object(o["createCommentVNode"])("",!0)],64))])})),128))]))]})),_:1}),O.canEdit?(Object(o["openBlock"])(),Object(o["createElementBlock"])("tbody",x,[Object(o["createElementVNode"])("tr",null,[Object(o["createElementVNode"])("td",null,[Object(o["createVNode"])(S,{label:"",errors:O.errors["genes.0.hgnc_id"],vertical:!0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(D,{modelValue:O.newGene.gene,"onUpdate:modelValue":[t[0]||(t[0]=function(e){return O.newGene.gene=e}),O.debounceSave]},null,8,["modelValue","onUpdate:modelValue"])]})),_:1},8,["errors"])]),Object(o["createElementVNode"])("td",C,[Object(o["createVNode"])(S,{label:"",errors:O.errors["diseases.0.hgnc_id"],vertical:!0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(T,{modelValue:O.newGene.disease,"onUpdate:modelValue":[t[1]||(t[1]=function(e){return O.newGene.disease=e}),O.debounceSave]},null,8,["modelValue","onUpdate:modelValue"])]})),_:1},8,["errors"])])])])):Object(o["createCommentVNode"])("",!0)])):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])(G,{modelValue:O.showConfirmRemove,"onUpdate:modelValue":t[3]||(t[3]=function(e){return O.showConfirmRemove=e}),title:"Confirm gene/disease pair delete."},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("p",null,"You are about to delete the gene/disease pair "+Object(o["toDisplayString"])(O.selectedGene.gene_symbol)+"/"+Object(o["toDisplayString"])(O.selectedGene.disease_name)+". Are you sure you want to continue?",1),Object(o["createVNode"])(U,{"submit-text":"Yes, delete it.","cancel-text":"No, cancel",onSubmitted:t[2]||(t[2]=function(e){return O.remove(O.selectedGene)}),onCanceled:O.cancelRemove},null,8,["onCanceled"])]})),_:1},8,["modelValue"])])}var _=n("1da1"),E=n("2909"),B=(n("96cf"),n("b0c0"),n("4e82"),n("99af"),n("db04")),D=n("2ef0"),S=n("5502"),T=n("ce1b"),U=n("53b7"),G=n("033d"),R=n("1874"),A={name:"VcepGeneList",components:{GeneSearchSelect:T["default"],DiseaseSearchSelect:U["default"]},props:{readonly:{type:Boolean,required:!1,default:!1}},emits:["saved","canceled","editing"],computed:{selectedGeneSymbol:function(){return this.selectedGene&&this.selectedGene.gene?this.selectedGene.gene.gene_symbol:"Unknown Gene Symbols"},selectedDiseaseName:function(){return this.selectedGene&&this.selectedGene.disease?this.selectedGene.disease.name:"Unknown Disease Name"}},setup:function(e,t){var n=Object(S["d"])(),r=Object(o["ref"])(!1),c=Object(o["ref"])({gene:{},disease:{}}),a=Object(o["computed"])((function(){return n.getters["groups/currentItemOrNew"]})),i=Object(o["ref"])({gene:null,disease:null}),l=Object(o["ref"])(!1),u=Object(o["ref"])({}),s=Object(o["ref"])([]),d=Object(o["computed"])((function(){var e=Object(E["a"])(s.value);return e.sort((function(e,t){return e.gene_symbol==t.gene_symbol?0:e.gene_symbol>t.gene_symbol?1:-1})),e})),p=function(){i.value={gene:null,disease:null},u.value={}},b=function(e){e.edit=!0},m=function(e){e.removeTimeout&&(clearTimeout(e.removeTimeout),clearInterval(e.removeInterval),e.removeCountdown=10)},O=function(e){delete e.toDelete,delete e.removeInterval,delete e.removeTimeout},j=function(e){m(e),O(e)},f=function(e){c.value=e,r.value=!0},g=function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B["a"].delete("/api/groups/".concat(a.value.uuid,"/expert-panel/genes/").concat(t.id));case 3:return e.next=5,v();case 5:h(),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),n.commit("pushError",e.t0.response.data);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){c.value={gene:{},disease:{}},r.value=!1},v=function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a.value.uuid){e.next=2;break}return e.abrupt("return");case 2:return l.value=!0,e.prev=3,e.next=6,B["a"].get("/api/groups/".concat(a.value.uuid,"/expert-panel/genes?with[]=gene&with[]=disease")).then((function(e){return e.data}));case 6:s.value=e.sent,a.value.expert_panel.genes=s.value,e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](3),console.log(e.t0),n.commit("pushError",e.t0.response.data);case 14:l.value=!1;case 15:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,null===i.value.gene||null===i.value.disease){e.next=7;break}return e.next=4,B["a"].post("/api/groups/".concat(a.value.uuid,"/expert-panel/genes"),{genes:[{hgnc_id:i.value.gene.hgnc_id,mondo_id:i.value.disease.mondo_id}]});case 4:return e.next=6,v();case 6:p();case 7:u.value={},t.emit("saved"),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),Object(G["a"])(e.t0)&&(u.value=e.t0.response.data.errors);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),k=Object(D["debounce"])(V,500),w=function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.hgnc_id=t.gene.hgnc_id,t.mondo_id=t.disease.mondo_id,e.next=5,B["a"].put("/api/groups/".concat(a.value.uuid,"/expert-panel/genes/").concat(t.id),t);case 5:return e.next=7,v();case 7:delete t.edit,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),Object(G["a"])(e.t0)&&(u.value=e.t0.response.data.errors);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),y=function(e){delete e.edit},x=function(){p()},C=Object(o["computed"])((function(){return Object(R["b"])(["ep-applications-manage",["application-edit",a.value]])&&!e.readonly}));return Object(o["onMounted"])((function(){v()})),{group:a,genes:s,newGene:i,orderedGenes:d,errors:u,loading:l,updateGene:w,updateCancel:y,save:V,debounceSave:k,cancel:x,edit:b,remove:g,cancelPendingRemove:j,canEdit:C,showConfirmRemove:r,confirmRemove:f,cancelRemove:h,selectedGene:c}}},F=n("6b0d"),I=n.n(F);const $=I()(A,[["render",N]]);t["a"]=$},"768b":function(e,t,n){},"7f00":function(e,t,n){"use strict";n("f200")},"8fec":function(e,t,n){"use strict";var o=n("7a23"),r=Object(o["createElementVNode"])("p",null," The Gene Curation Expert Panel (GCEP) leaders(s) will complete the checkbox attestations document below on behalf of the GCEP. ",-1),c={class:"ml-4 mt-2"},a=Object(o["createTextVNode"])(" This GCEP will utilize the ClinGen Gene Tracker for documentation of all precuration information, consistent with the current Lumping and Splitting working group guidance, for gene-disease relationships. "),i=Object(o["createTextVNode"])(" This GCEP will utilize the ClinGen Gene Curation Interface for documentation of all gene-disease validity classifications. "),l=Object(o["createTextVNode"])(" All curations completed by this group will be made publicly available through the ClinGen website immediately upon completion. "),u=Object(o["createTextVNode"])(" The "),s=Object(o["createTextVNode"])(" has been reviewed and a manuscript concept sheet will be submitted to the NHGRI and ClinGen Steering Committee before the group prepares a publication for submission. "),d=Object(o["createTextVNode"])(" Draft manuscripts will be submitted to the ClinGen Gene Curation WG for review prior to submission. Email: "),p=Object(o["createElementVNode"])("a",{href:"mailto:genecuration@clinicalgenome.org"},"genecuration@clinicalgenome.org",-1),b=Object(o["createTextVNode"])(" The ClinGen "),m=Object(o["createTextVNode"])("Gene-Disease Validity Recuration Process"),O=Object(o["createTextVNode"])(" has been reviewed. "),j=Object(o["createTextVNode"])(" Biocurators are expected to become familiar with the ClinGen "),f=Object(o["createTextVNode"])(" located on "),g=Object(o["createTextVNode"])("ClinicalGenome.org"),h=Object(o["createTextVNode"])(". Biocurators are requested to join the mailing list for ClinGen Biocurator Working Group, and expected to attend those calls that focus on gene curation SOP and/or framework updates. "),v={class:"ml-4 mt-2"},V=Object(o["createTextVNode"])(" Biocurators have received all appropriate training. "),k=Object(o["createTextVNode"])(" Biocurators are trained on the use of the Gene Curation Interface (GCI). "),w=Object(o["createTextVNode"])(" Biocurators have joined the Biocurator WG mailing list. "),y=Object(o["createElementVNode"])("br",null,null,-1),x=Object(o["createTextVNode"])("The calls occur on the 2nd and 4th Thursdays from 12-1pm. ");function C(e,t,n,C,N,_){var E=Object(o["resolveComponent"])("checkbox"),B=Object(o["resolveComponent"])("input-row"),D=Object(o["resolveComponent"])("publication-policy-link"),S=Object(o["resolveComponent"])("gcep-recuration-process-link"),T=Object(o["resolveComponent"])("training-materials-link");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[r,Object(o["createElementVNode"])("ul",c,[Object(o["createElementVNode"])("li",null,[Object(o["createVNode"])(B,{errors:N.errors.utilize_gt,"hide-label":!0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(E,{modelValue:_.group.expert_panel.utilize_gt,"onUpdate:modelValue":[t[0]||(t[0]=function(e){return _.group.expert_panel.utilize_gt=e}),t[1]||(t[1]=function(e){return _.emitUpdate(),_.checkCompleteness()})],disabled:n.disabled},{default:Object(o["withCtx"])((function(){return[a]})),_:1},8,["modelValue","disabled"])]})),_:1},8,["errors"])]),Object(o["createElementVNode"])("li",null,[Object(o["createVNode"])(B,{errors:N.errors.utilize_gci,"hide-label":!0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(E,{modelValue:_.group.expert_panel.utilize_gci,"onUpdate:modelValue":[t[2]||(t[2]=function(e){return _.group.expert_panel.utilize_gci=e}),t[3]||(t[3]=function(e){return _.emitUpdate(),_.checkCompleteness()})],disabled:n.disabled},{default:Object(o["withCtx"])((function(){return[i]})),_:1},8,["modelValue","disabled"])]})),_:1},8,["errors"])]),Object(o["createElementVNode"])("li",null,[Object(o["createVNode"])(B,{errors:N.errors.curations_publicly_available,"hide-label":!0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(E,{modelValue:_.group.expert_panel.curations_publicly_available,"onUpdate:modelValue":[t[4]||(t[4]=function(e){return _.group.expert_panel.curations_publicly_available=e}),t[5]||(t[5]=function(e){return _.emitUpdate(),_.checkCompleteness()})],disabled:n.disabled},{default:Object(o["withCtx"])((function(){return[l]})),_:1},8,["modelValue","disabled"])]})),_:1},8,["errors"])]),Object(o["createElementVNode"])("li",null,[Object(o["createVNode"])(B,{errors:N.errors.pub_policy_reviewed,"hide-label":!0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(E,{modelValue:_.group.expert_panel.pub_policy_reviewed,"onUpdate:modelValue":[t[6]||(t[6]=function(e){return _.group.expert_panel.pub_policy_reviewed=e}),t[7]||(t[7]=function(e){return _.emitUpdate(),_.checkCompleteness()})],disabled:n.disabled},{default:Object(o["withCtx"])((function(){return[u,Object(o["createVNode"])(D),s]})),_:1},8,["modelValue","disabled"])]})),_:1},8,["errors"])]),Object(o["createElementVNode"])("li",null,[Object(o["createVNode"])(B,{errors:N.errors.draft_manuscripts,"hide-label":!0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(E,{modelValue:_.group.expert_panel.draft_manuscripts,"onUpdate:modelValue":[t[8]||(t[8]=function(e){return _.group.expert_panel.draft_manuscripts=e}),t[9]||(t[9]=function(e){return _.emitUpdate(),_.checkCompleteness()})],disabled:n.disabled},{default:Object(o["withCtx"])((function(){return[d,p]})),_:1},8,["modelValue","disabled"])]})),_:1},8,["errors"])]),Object(o["createElementVNode"])("li",null,[Object(o["createVNode"])(B,{errors:N.errors.recuration_process_review,"hide-label":!0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(E,{modelValue:_.group.expert_panel.recuration_process_review,"onUpdate:modelValue":[t[10]||(t[10]=function(e){return _.group.expert_panel.recuration_process_review=e}),t[11]||(t[11]=function(e){return _.emitUpdate(),_.checkCompleteness()})],disabled:n.disabled},{default:Object(o["withCtx"])((function(){return[b,Object(o["createVNode"])(S,null,{default:Object(o["withCtx"])((function(){return[m]})),_:1}),O]})),_:1},8,["modelValue","disabled"])]})),_:1},8,["errors"])])]),Object(o["createElementVNode"])("p",null,[j,Object(o["createVNode"])(T),f,Object(o["createVNode"])(T,null,{default:Object(o["withCtx"])((function(){return[g]})),_:1}),h]),Object(o["createElementVNode"])("ul",v,[Object(o["createElementVNode"])("li",null,[Object(o["createVNode"])(B,{errors:N.errors.biocurator_training,"hide-label":!0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(E,{modelValue:_.group.expert_panel.biocurator_training,"onUpdate:modelValue":[t[12]||(t[12]=function(e){return _.group.expert_panel.biocurator_training=e}),t[13]||(t[13]=function(e){return _.emitUpdate(),_.checkCompleteness()})],disabled:n.disabled},{default:Object(o["withCtx"])((function(){return[V]})),_:1},8,["modelValue","disabled"])]})),_:1},8,["errors"])]),Object(o["createElementVNode"])("li",null,[Object(o["createVNode"])(E,{modelValue:N.gci_training,"onUpdate:modelValue":[t[14]||(t[14]=function(e){return N.gci_training=e}),t[15]||(t[15]=function(e){return _.emitUpdate(),_.checkCompleteness()})],disabled:n.disabled},{default:Object(o["withCtx"])((function(){return[k]})),_:1},8,["modelValue","disabled"]),Object(o["withDirectives"])(Object(o["createVNode"])(B,{modelValue:_.group.expert_panel.gci_training_date,"onUpdate:modelValue":[t[16]||(t[16]=function(e){return _.group.expert_panel.gci_training_date=e}),t[17]||(t[17]=function(e){return _.emitUpdate(),_.checkCompleteness()})],errors:_.gciTrainingErrors,label:"Date Trained",type:"date",class:"ml-6"},null,8,["modelValue","errors"]),[[o["vShow"],N.gci_training]])]),Object(o["createElementVNode"])("li",null,[Object(o["createVNode"])(B,{errors:N.errors.biocurator_mailing_list,"hide-label":!0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(E,{modelValue:_.group.expert_panel.biocurator_mailing_list,"onUpdate:modelValue":[t[18]||(t[18]=function(e){return _.group.expert_panel.biocurator_mailing_list=e}),t[19]||(t[19]=function(e){return _.emitUpdate(),_.checkCompleteness()})],disabled:n.disabled},{default:Object(o["withCtx"])((function(){return[w,y,x]})),_:1},8,["modelValue","disabled"])]})),_:1},8,["errors"])])])])}var N=n("1da1"),_=n("2909"),E=(n("96cf"),n("99af"),n("db04")),B={name:"AttestationGcep",props:{disabled:{type:Boolean,required:!1,default:!1}},emits:["update"],data:function(){return{errors:{},gci_training:!1}},computed:{group:{get:function(){return this.$store.getters["groups/currentItemOrNew"]},set:function(e){this.$store.commit("groups/addItem",e)}},gciTrainingErrors:function(){var e=this.errors.gci_training||[],t=this.errors.gci_training_date||[];return[].concat(Object(_["a"])(e),Object(_["a"])(t))},gci_training_comp:function(){return Boolean(this.group.expert_panel.gci_training_date)}},watch:{group:{immediate:!0,handler:function(e){this.gci_training=Boolean(e.expert_panel.gci_training_date)}}},methods:{save:function(){var e=this;return Object(N["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.errors={},t.next=4,E["a"].post("/api/groups/".concat(e.group.uuid,"/application/attestations/gcep"),e.group.expert_panel.attributes);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),Object(E["b"])(t.t0)&&(e.errors=t.t0.response.data.errors);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},emitUpdate:function(){this.$emit("update")},checkCompleteness:function(){this.group.expert_panel.utilize_gt&&this.group.expert_panel.utilize_gci&&this.group.expert_panel.curations_publicly_available&&this.group.expert_panel.pub_policy_reviewed&&this.group.expert_panel.draft_manuscripts&&this.group.expert_panel.recuration_process_review&&this.group.expert_panel.biocurator_training&&null!==this.group.expert_panel.gci_training_date&&this.group.expert_panel.biocurator_mailing_list&&null===this.group.expert_panel.gcep_attestation_date?this.group.expert_panel.gcep_attestation_date=new Date:this.group.expert_panel.gcep_attestation_date=null}}},D=n("6b0d"),S=n.n(D);const T=S()(B,[["render",C]]);t["a"]=T},a266:function(e,t,n){"use strict";var o=n("7a23"),r=Object(o["createElementVNode"])("p",null,[Object(o["createTextVNode"])(" Expert Panels are expected to keep their variant interpretations up-to-date and to expedite the re-review of variants that have a conflicting assertion submitted to ClinVar after the Expert Panel submission. Please check all 3 boxes below to attest that the VCEP will follow the ClinGen-approved schedule described below "),Object(o["createElementVNode"])("strong",null,[Object(o["createElementVNode"])("em",null,"or")]),Object(o["createTextVNode"])(" describe other plans at the bottom of the section. ")],-1),c={class:"ml-4 mt-2"},a=Object(o["createTextVNode"])(" VCEPs are expected to reassess any newly submitted conflicting assertion in ClinVar from a one star submitter or above and attempt to resolve or address the conflict within 6 months of being notified about the conflict from ClinGen. Please reach out to the submitter if you need additional information about the conflicting assertion. "),i=Object(o["createTextVNode"])(" VCEPs are expected to re-review all LP and VUS classifications made by the EP at least every 2 years to see if new evidence has emerged to re-classify the variants "),l=Object(o["createTextVNode"])(" VCEPs are expected to re-review any LB classifications when new evidence is available or when requested by the public via the ClinGen website. "),u=Object(o["createTextVNode"])(" Plans differ from the expectations above. "),s={key:0,class:"ml-4"},d=Object(o["createElementVNode"])("label",{for:"reanalysis-other-textarea"},"Explain differences:",-1),p=["disabled"];function b(e,t,n,b,m,O){var j=Object(o["resolveComponent"])("checkbox"),f=Object(o["resolveComponent"])("input-row");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[r,Object(o["createElementVNode"])("ul",c,[Object(o["createElementVNode"])("li",null,[Object(o["createVNode"])(f,{errors:m.errors.reanalysis_conflicting,"hide-label":!0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(j,{modelValue:O.group.expert_panel.reanalysis_conflicting,"onUpdate:modelValue":[t[0]||(t[0]=function(e){return O.group.expert_panel.reanalysis_conflicting=e}),t[1]||(t[1]=function(t){return e.$emit("update"),O.checkCompleteness()})],disabled:n.disabled},{default:Object(o["withCtx"])((function(){return[a]})),_:1},8,["modelValue","disabled"])]})),_:1},8,["errors"])]),Object(o["createElementVNode"])("li",null,[Object(o["createVNode"])(f,{errors:m.errors.reanalysis_review_lp,"hide-label":!0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(j,{modelValue:O.group.expert_panel.reanalysis_review_lp,"onUpdate:modelValue":[t[2]||(t[2]=function(e){return O.group.expert_panel.reanalysis_review_lp=e}),t[3]||(t[3]=function(t){return e.$emit("update"),O.checkCompleteness()})],disabled:n.disabled},{default:Object(o["withCtx"])((function(){return[i]})),_:1},8,["modelValue","disabled"])]})),_:1},8,["errors"])]),Object(o["createElementVNode"])("li",null,[Object(o["createVNode"])(f,{errors:m.errors.reanalysis_review_lb,"hide-label":!0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(j,{modelValue:O.group.expert_panel.reanalysis_review_lb,"onUpdate:modelValue":[t[4]||(t[4]=function(e){return O.group.expert_panel.reanalysis_review_lb=e}),t[5]||(t[5]=function(t){return e.$emit("update"),O.checkCompleteness()})],disabled:n.disabled},{default:Object(o["withCtx"])((function(){return[l]})),_:1},8,["modelValue","disabled"])]})),_:1},8,["errors"])]),Object(o["createElementVNode"])("li",null,[Object(o["createVNode"])(f,{errors:m.errors.reanalysis_other,"hide-label":!0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(j,{modelValue:m.otherCheckbox,"onUpdate:modelValue":[t[6]||(t[6]=function(e){return m.otherCheckbox=e}),t[7]||(t[7]=function(t){return e.$emit("update"),O.checkCompleteness()})],disabled:n.disabled},{default:Object(o["withCtx"])((function(){return[u]})),_:1},8,["modelValue","disabled"]),Object(o["createVNode"])(o["Transition"],{name:"slide-fade-down"},{default:Object(o["withCtx"])((function(){return[m.otherCheckbox?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",s,[d,Object(o["withDirectives"])(Object(o["createElementVNode"])("textarea",{"onUpdate:modelValue":[t[8]||(t[8]=function(e){return O.group.expert_panel.reanalysis_other=e}),t[9]||(t[9]=function(t){return e.$emit("update"),O.checkCompleteness()})],class:"w-full",id:"reanalysis-other-textarea",disabled:n.disabled},null,8,p),[[o["vModelText"],O.group.expert_panel.reanalysis_other]])])):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1},8,["errors"])])])])}var m=n("1da1"),O=(n("96cf"),n("f96b")),j=n("033d"),f={name:"ReanalysisForm",props:{disabled:{type:Boolean,required:!1,default:!1}},emits:["update"],data:function(){return{errors:{},otherCheckbox:!1}},computed:{group:{get:function(){return this.$store.getters["groups/currentItemOrNew"]},set:function(e){this.$store.commit("groups/addItem",e)}}},watch:{otherCheckbox:function(e){e||(this.group.expert_panel.reanalysis_other=null)}},methods:{save:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.errors={},t.next=4,O["a"].post("/api/groups/".concat(e.group.uuid,"/application/attestations/reanalysis"),e.group.expert_panel);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),Object(j["a"])(t.t0)&&(e.errors=t.t0.response.data.errors);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},checkCompleteness:function(){var e=this.group.expert_panel.reanalysis_conflicting&&this.group.expert_panel.reanalysis_review_lp&&this.group.expert_panel.reanalysis_review_lb;e||this.otherCheckbox&&Boolean(this.group.expert_panel.reanalysis_other)&&null===this.group.expert_panel.gcep_attestation_date?this.group.expert_panel.reanalysis_attestation_date=new Date:this.group.expert_panel.reanalysis_attestation_date=null}}},g=n("6b0d"),h=n.n(g);const v=h()(f,[["render",b]]);t["a"]=v},a8af:function(e,t,n){"use strict";var o=n("7a23"),r={class:"flex justify-between items-center"},c=Object(o["createElementVNode"])("h4",null,"Description of Scope",-1),a={class:"mt-2"},i={key:1};function l(e,t,n,l,u,s){var d=Object(o["resolveComponent"])("edit-icon-button"),p=Object(o["resolveComponent"])("input-row"),b=Object(o["resolveComponent"])("markdown-block");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[Object(o["createElementVNode"])("header",r,[c,e.hasAnyPermission(["groups-manage",["application-edit",s.group]])&&!n.editing?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:0,onClick:t[0]||(t[0]=function(t){return e.$emit("update:editing",!0)})})):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("div",a,[Object(o["createVNode"])(o["Transition"],{name:"fade",mode:"out-in"},{default:Object(o["withCtx"])((function(){return[n.editing?(Object(o["openBlock"])(),Object(o["createBlock"])(p,{key:0,modelValue:s.group.expert_panel.scope_description,"onUpdate:modelValue":[t[1]||(t[1]=function(e){return s.group.expert_panel.scope_description=e}),t[2]||(t[2]=function(t){return e.$emit("update")})],errors:n.errors.scope_description,type:"large-text",label:"Describe the scope of work of the Expert Panel including the disease area(s), genes being addressed, and any specific rational for choosing the condition(s).",vertical:""},null,8,["modelValue","errors"])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",i,[s.group.expert_panel.scope_description?(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:0,markdown:s.group.expert_panel.scope_description},null,8,["markdown"])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("p",{key:1,class:"well cursor-pointer",onClick:t[3]||(t[3]=function(){return e.showForm&&e.showForm.apply(e,arguments)})}," A description of expertise has not yet been provided. "))]))]})),_:1})])])}var u=n("ae23"),s={name:"scopeDescriptionForm",props:{editing:{type:Boolean,required:!1,default:!0},errors:{type:Object,required:!1,default:function(){return{}}}},emits:["update:editing","update:group","update"],computed:{group:{get:function(){return this.$store.getters["groups/currentItem"]||new u["a"]},set:function(e){this.$store.commit("groups/addItem",e)}},scopeDescription:{get:function(){return this.group.expert_panel.scope_description},set:function(e){var t=this.group.clone();t.expert_panel.scope_description=e,this.$emit("update:group",t)}}}},d=n("6b0d"),p=n.n(d);const b=p()(s,[["render",l]]);t["a"]=b},b47e:function(e,t,n){"use strict";n.r(t);var o=n("7a23"),r={class:"flex space-x-4"},c={class:"flex-grow mt-4"},a=Object(o["createElementVNode"])("h3",null," Plans for Ongoing Gene Review and Reanalysis and Discrepancy Resolution ",-1),i=Object(o["createElementVNode"])("br",null,null,-1),l={key:0,class:"bg-white bg-opacity-50 absolute top-0 left-0 right-0 bottom-0"},u=Object(o["createTextVNode"])(" You can complete these sections after your first Specifications Pilot has been approved. "),s={key:2},d=Object(o["createElementVNode"])("header",null,[Object(o["createElementVNode"])("h3",null,"Example Evidence Summaries")],-1),p={class:"relative"},b={key:0,class:"bg-white bg-opacity-50 absolute top-0 left-0 right-0 bottom-0"},m=Object(o["createTextVNode"])(" You can complete these sections after your Group Definition has been approved. "),O=Object(o["createTextVNode"])("Documents are only available to members of this group."),j=Object(o["createTextVNode"])("The attestations below are read only. Attestations can only be completed during the application process."),f=Object(o["createElementVNode"])("h3",null,"Reanalysis & Discrepancy Resolution",-1),g=Object(o["createElementVNode"])("h3",null,"NHGRI Data Availability",-1),h={key:0},v=Object(o["createElementVNode"])("h2",{class:"pb-2 border-b mb-4"},"Application",-1),V=Object(o["createElementVNode"])("hr",null,null,-1),k={class:"border my-4 p-4 rounded"},w=Object(o["createElementVNode"])("h2",{class:"mb-4"},"Annual Update",-1),y=["href"],x={class:"border my-4 p-4 bg-red-100 border-red-200 rounded"},C=Object(o["createElementVNode"])("h2",{class:"mb-4 text-red-800"}," Here be dragons. Proceed with caution. ",-1),N={key:1,class:"border my-4 p-4 rounded"},_=Object(o["createElementVNode"])("h2",{class:"mb-4"},[Object(o["createTextVNode"])(" Dev tools "),Object(o["createElementVNode"])("span",{class:"text-gray-500"}," - don't use if you don't know.")],-1),E={key:0,class:"md:w-1/5 lg:w-1/4"},B={class:"text-lg"},D=Object(o["createElementVNode"])("p",null,"This cannot be undone.",-1);function S(e,t,n,S,T,U){var G=this,R=Object(o["resolveComponent"])("annual-update-alert"),A=Object(o["resolveComponent"])("sustained-curation-review-alert"),F=Object(o["resolveComponent"])("group-detail-header"),I=Object(o["resolveComponent"])("application-summary"),$=Object(o["resolveComponent"])("member-list"),P=Object(o["resolveComponent"])("membership-description-form"),L=Object(o["resolveComponent"])("submission-wrapper"),M=Object(o["resolveComponent"])("tab-item"),q=Object(o["resolveComponent"])("scope-description-form"),z=Object(o["resolveComponent"])("static-alert"),H=Object(o["resolveComponent"])("evidence-summaries"),Y=Object(o["resolveComponent"])("specifications-section"),W=Object(o["resolveComponent"])("group-documents"),J=Object(o["resolveComponent"])("note"),X=Object(o["resolveComponent"])("attestation-gcep"),K=Object(o["resolveComponent"])("attestation-reanalysis"),Q=Object(o["resolveComponent"])("attestation-nhgri"),Z=Object(o["resolveComponent"])("activity-log"),ee=Object(o["resolveComponent"])("progress-chart"),te=Object(o["resolveComponent"])("step-tabs"),ne=Object(o["resolveComponent"])("tabs-container"),oe=Object(o["resolveComponent"])("subgroup-list"),re=Object(o["resolveComponent"])("router-view"),ce=Object(o["resolveComponent"])("modal-dialog"),ae=Object(o["resolveComponent"])("group-form"),ie=Object(o["resolveComponent"])("button-row");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[e.hasAnyPermission(["annual-updates-mange",["annual-update-manage",S.group]])?(Object(o["openBlock"])(),Object(o["createBlock"])(R,{key:0,group:S.group,class:"mb-2"},null,8,["group"])):Object(o["createCommentVNode"])("",!0),S.needsToReviewSustainedCuration&&e.hasAnyPermission(["ep-applications-manage",["application-edit",S.group]])?(Object(o["openBlock"])(),Object(o["createBlock"])(A,{key:1,group:S.group,class:"mb-2"},null,8,["group"])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(F,{group:S.group,onShowEdit:U.showEdit},null,8,["group","onShowEdit"]),Object(o["createElementVNode"])("div",r,[Object(o["createElementVNode"])("div",c,[S.group.isApplying?(Object(o["openBlock"])(),Object(o["createBlock"])(I,{key:0,group:S.group},null,8,["group"])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(ne,{onTabChanged:U.handleTabChange},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(M,{label:"Members"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])($,{group:S.group},null,8,["group"]),S.group.isVcep()?(Object(o["openBlock"])(),Object(o["createBlock"])(L,{key:0,onSubmitted:t[1]||(t[1]=function(e){return U.submitForm("saveMembershipDescription","editingExpertise")}),onCanceled:t[2]||(t[2]=function(e){return U.cancelForm("editingExpertise")}),"show-controls":T.editingExpertise},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(P,{ref:"membershipDescriptionFormRef",class:"mt-8",editing:T.editingExpertise,"onUpdate:editing":t[0]||(t[0]=function(e){return T.editingExpertise=e}),errors:T.errors},null,8,["editing","errors"])]})),_:1},8,["show-controls"])):Object(o["createCommentVNode"])("",!0)]})),_:1}),Object(o["createVNode"])(M,{label:"Scope",visible:S.group.isEp()},{default:Object(o["withCtx"])((function(){return[a,S.group.isEp()?(Object(o["openBlock"])(),Object(o["createBlock"])(L,{key:0,onSubmitted:t[4]||(t[4]=function(t){return e.$refs.groupGeneListRef.save()}),onCanceled:t[5]||(t[5]=function(t){return e.$refs.groupGeneListRef.cancel()}),"show-controls":T.editingGenes},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(),Object(o["createBlock"])(Object(o["resolveDynamicComponent"])(S.groupGeneList),{ref:"groupGeneListRef",editing:T.editingGenes,"onUpdate:editing":t[3]||(t[3]=function(e){return T.editingGenes=e})},null,8,["editing"]))]})),_:1},8,["show-controls"])):Object(o["createCommentVNode"])("",!0),i,Object(o["createVNode"])(L,{visible:S.group.isEp(),onSubmitted:t[7]||(t[7]=function(e){return U.submitForm("saveScopeDescription","editingScopeDescription")}),onCanceled:t[8]||(t[8]=function(e){return U.cancelForm("editingScopeDescription")}),"show-controls":T.editingScopeDescription},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(q,{ref:"scopeDescriptionRef",editing:T.editingScopeDescription,"onUpdate:editing":t[6]||(t[6]=function(e){return T.editingScopeDescription=e}),errors:T.errors},null,8,["editing","errors"])]})),_:1},8,["visible","show-controls"])]})),_:1},8,["visible"]),Object(o["createVNode"])(M,{label:"Sustained Curation",visible:S.group.isEp(),class:"relative"},{default:Object(o["withCtx"])((function(){return[!S.group.expert_panel.pilotSpecificationsIsApproved&&S.group.isVcep()?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",l)):Object(o["createCommentVNode"])("",!0),!S.group.expert_panel.pilotSpecificationsIsApproved&&S.group.isVcep()?(Object(o["openBlock"])(),Object(o["createBlock"])(z,{key:1,variant:"info"},{default:Object(o["withCtx"])((function(){return[u]})),_:1})):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(L,{onSubmitted:t[9]||(t[9]=function(e){return U.submitForm("saveOngoingPlansForm")}),onCanceled:t[10]||(t[10]=function(e){return U.cancelForm()}),class:"pb-4",showControls:e.hasAnyPermission(["ep-applications-manage",["application-edit",S.group]])&&S.group.expert_panel.pilotSpecificationsIsApproved},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(),Object(o["createBlock"])(Object(o["resolveDynamicComponent"])(S.ongoingPlansFormComponent),{ref:"ongoingPlansForm",errors:T.errors,readonly:!S.group.expert_panel.pilotSpecificationsIsApproved},null,8,["errors","readonly"]))]})),_:1},8,["showControls"]),S.group.isVcep()?(Object(o["openBlock"])(),Object(o["createElementBlock"])("section",s,[d,Object(o["createVNode"])(H,{group:S.group,readonly:!S.group.expert_panel.pilotSpecificationsIsApproved,class:"pb-2 mb-4 border-b"},null,8,["group","readonly"])])):Object(o["createCommentVNode"])("",!0)]})),_:1},8,["visible"]),Object(o["createVNode"])(M,{label:"Specifications",visible:S.group.isVcep()},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",p,[!S.group.expert_panel.defIsApproved&&S.group.isVcep()?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",b)):Object(o["createCommentVNode"])("",!0),!S.group.expert_panel.defIsApproved&&S.group.isVcep()?(Object(o["openBlock"])(),Object(o["createBlock"])(z,{key:1,variant:"info"},{default:Object(o["withCtx"])((function(){return[m]})),_:1})):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(Y,{"doc-type-id":S.group.expert_panel.draftSpecApproved?[2,3,4,7]:2,step:S.group.expert_panel.draftSpecApproved?3:2},null,8,["doc-type-id","step"])])])]})),_:1},8,["visible"]),e.userInGroup(S.group)||e.hasPermission("groups-manage")?(Object(o["openBlock"])(),Object(o["createBlock"])(M,{key:0,label:"Documents"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(W),Object(o["createVNode"])(J,null,{default:Object(o["withCtx"])((function(){return[O]})),_:1})]})),_:1})):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(M,{label:"Attestations",visible:S.group.isEp()},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(J,null,{default:Object(o["withCtx"])((function(){return[j]})),_:1}),S.group.isGcep()?(Object(o["openBlock"])(),Object(o["createBlock"])(X,{key:0,class:"pb-2 mb-4 border-b",disabled:!0})):Object(o["createCommentVNode"])("",!0),f,S.group.isVcep()?(Object(o["openBlock"])(),Object(o["createBlock"])(K,{key:1,class:"pb-2 mb-4 border-b",disabled:!0})):Object(o["createCommentVNode"])("",!0),g,Object(o["createVNode"])(Q,{class:"pb-2 mb-4 border-b",disabled:!0})]})),_:1},8,["visible"]),Object(o["createVNode"])(M,{label:"Log",visible:e.hasPermission("groups-manage")||e.userInGroup(S.group)},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(Z,{"log-entries":S.logEntries,"api-url":"/api/groups/".concat(S.group.uuid,"/activity-logs"),"log-updated":S.getLogEntries},null,8,["log-entries","api-url","log-updated"]),Object(o["createElementVNode"])("button",{class:"btn btn-xs mt-1",onClick:t[11]||(t[11]=function(){return S.getLogEntries&&S.getLogEntries.apply(S,arguments)})},"Refresh")]})),_:1},8,["visible"]),Object(o["createVNode"])(M,{label:"Admin",visible:e.hasPermission("groups-manage")},{default:Object(o["withCtx"])((function(){return[S.group.isApplying&&S.group.isEp()?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",h,[v,Object(o["createVNode"])(ee,{application:S.group.expert_panel,class:"pb-4 border-b border-gray-300 mb-6"},null,8,["application"]),S.group.isEp()?(Object(o["openBlock"])(),Object(o["createBlock"])(te,{key:0,application:S.group.expert_panel,onStepApproved:S.getGroup},null,8,["application","onStepApproved"])):Object(o["createCommentVNode"])("",!0),V])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("section",k,[w,U.showCreateAnnualUpdateButton?(Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{key:0,class:"btn",onClick:t[12]||(t[12]=function(){return U.createAnnualUpdateForLatestWindow&&U.createAnnualUpdateForLatestWindow.apply(U,arguments)})}," Create Annual Update for latest window. ")):S.group.expert_panel.annualUpdate?(Object(o["openBlock"])(),Object(o["createElementBlock"])("a",{key:1,href:"/annual-updates/".concat(G.group.expert_panel.annualUpdate.id),target:"annual update"}," View Annual Update for "+Object(o["toDisplayString"])(G.group.expert_panel.annualUpdate.window.for_year),9,y)):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("section",x,[C,Object(o["createElementVNode"])("button",{class:"btn btn red",onClick:t[13]||(t[13]=function(){return U.initDelete&&U.initDelete.apply(U,arguments)})},"Delete Group")]),"production"!==e.$store.state.systemInfo.env?(Object(o["openBlock"])(),Object(o["createElementBlock"])("section",N,[_,S.group.isVcep()&&S.group.expert_panel.has_approved_pilot?(Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{key:0,class:"btn",onClick:t[14]||(t[14]=function(){return U.fakeCspecPilotApproved&&U.fakeCspecPilotApproved.apply(U,arguments)})}," Fake a Pilot Approved Message ")):Object(o["createCommentVNode"])("",!0)])):Object(o["createCommentVNode"])("",!0)]})),_:1},8,["visible"])]})),_:1},8,["onTabChanged"])]),S.group.hasChildren?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",E,[Object(o["createVNode"])(oe)])):Object(o["createCommentVNode"])("",!0)]),(Object(o["openBlock"])(),Object(o["createBlock"])(o["Teleport"],{to:"body"},[Object(o["createVNode"])(ce,{modelValue:S.showModal,"onUpdate:modelValue":t[15]||(t[15]=function(e){return S.showModal=e}),onClosed:U.handleModalClosed,title:this.$route.meta.title},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(re,{ref:"modalView",onSaved:U.hideModal,onCanceled:U.hideModal},null,8,["onSaved","onCanceled"])]})),_:1},8,["modelValue","onClosed","title"]),Object(o["createVNode"])(ce,{modelValue:T.showInfoEdit,"onUpdate:modelValue":t[20]||(t[20]=function(e){return T.showInfoEdit=e}),onClosed:t[21]||(t[21]=function(e){return T.showInfoEdit=!1}),title:"Edit Group Info",size:"sm"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(L,{onSubmitted:t[18]||(t[18]=function(t){return e.$refs.infoForm.save()}),onCanceled:t[19]||(t[19]=function(t){return e.$refs.infoForm.cancel()})},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(ae,{ref:"infoForm",onCanceled:t[16]||(t[16]=function(e){return T.showInfoEdit=!1}),onSaved:t[17]||(t[17]=function(e){return T.showInfoEdit=!1})},null,512)]})),_:1})]})),_:1},8,["modelValue"]),Object(o["createVNode"])(ce,{modelValue:T.showConfirmDelete,"onUpdate:modelValue":t[23]||(t[23]=function(e){return T.showConfirmDelete=e}),title:"Delete This Group?"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",B,[Object(o["createElementVNode"])("p",null," You are about to delete "+Object(o["toDisplayString"])(S.group.displayName)+" and all associated data. ",1),D]),Object(o["createVNode"])(ie,{"submit-text":"Delete this group.",onSubmitted:U.deleteGroup,onCanceled:t[22]||(t[22]=function(e){return T.showConfirmDelete=!1})},null,8,["onSubmitted"])]})),_:1},8,["modelValue"])]))])}var T=n("1da1"),U=(n("4de4"),n("d3b7"),n("ac1f"),n("5319"),n("96cf"),n("5502")),G=n("831e"),R=n("1874"),A=n("ffb2"),F={key:0,class:"p-4 my-4 mb-8 border rounded-xl bg-white"},I={class:"mb-2"},$=Object(o["createTextVNode"])(" Application Summary "),P={key:0},L={class:"px-8"},M={key:2},q=Object(o["createTextVNode"])("Approved"),z={key:0,class:"flex-1"},H={key:0,class:"mt-4"},Y=Object(o["createElementVNode"])("button",{class:"btn blue btn-lg"},"Go to application",-1);function W(e,t,n,r,c,a){var i=Object(o["resolveComponent"])("requirements-badge"),l=Object(o["resolveComponent"])("icon-lock"),u=Object(o["resolveComponent"])("badge"),s=Object(o["resolveComponent"])("router-link");return n.group.isEp()?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",F,[Object(o["createElementVNode"])("h2",I,[$,a.applicationStarted&&n.group.isVcep()?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",P," - "+Object(o["toDisplayString"])(this.currentMenuItem.title),1)):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("ul",L,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(a.menu,(function(e,t){return Object(o["openBlock"])(),Object(o["createElementBlock"])("li",{key:t,class:"py-1 flex justify-between border-b border-gray-300 my-2"},[Object(o["createElementVNode"])("div",{class:Object(o["normalizeClass"])(["flex justify-between",{"w-full":!a.isStep(e)}])},[Object(o["createElementVNode"])("div",{class:Object(o["normalizeClass"])(["w-56 text-lg",{"text-gray-400":a.isStep(e)&&e.isDisabled(n.group)}])},Object(o["toDisplayString"])(e.title),3),Object(o["createElementVNode"])("div",null,[a.isStep(e)?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,section:e},null,8,["section"])),a.isStep(e)&&e.isDisabled(n.group)?(Object(o["openBlock"])(),Object(o["createBlock"])(l,{key:1,class:"inline text-gray-400",height:14,width:14})):Object(o["createCommentVNode"])("",!0),a.isStep(e)&&e.isComplete(n.group)?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",M,[Object(o["createVNode"])(u,{color:"green"},{default:Object(o["withCtx"])((function(){return[q]})),_:1})])):Object(o["createCommentVNode"])("",!0)])],2),a.isCurrentStep(e)?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",z,[Object(o["createElementVNode"])("ul",null,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.sections,(function(e,t){return Object(o["openBlock"])(),Object(o["createElementBlock"])("li",{key:t,class:"pb-2 flex justify-between my-2"},[Object(o["createElementVNode"])("div",null,Object(o["toDisplayString"])(e.title),1),Object(o["createVNode"])(i,{section:e},null,8,["section"])])})),128))])])):Object(o["createCommentVNode"])("",!0)])})),128))]),e.hasAnyPermission(["ep-applications-manage",["application-edit",n.group]])?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",H,[n.group.uuid?(Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:0,to:a.applicationRoute},{default:Object(o["withCtx"])((function(){return[Y]})),_:1},8,["to"])):Object(o["createCommentVNode"])("",!0)])):Object(o["createCommentVNode"])("",!0)])):Object(o["createCommentVNode"])("",!0)}var J=n("3a9d"),X=n("5313"),K={name:"ApplicationSummary",components:{RequirementsBadge:J["a"]},props:{group:{required:!0,type:Object}},data:function(){return{}},computed:{applicationStarted:function(){return!0},application:function(){return this.group.isVcep()?X["d"]:X["a"]},currentStep:function(){return this.group.expert_panel.current_step},applicationRoute:function(){return{name:"GroupApplication",params:{uuid:this.group.uuid},hash:"#".concat(this.currentMenuItem.id)}},currentMenuItem:function(){return this.application.getStep(this.group.expert_panel.current_step)},menu:function(){return this.application.steps.length>1?this.application.steps:this.application.steps[0].sections}},methods:{isStep:function(e){return Boolean(e.sections)},isCurrentStep:function(e){return!(!this.isStep(e)||this.application.getStep(this.group.expert_panel.current_step)!=e)}}},Q=n("6b0d"),Z=n.n(Q);const ee=Z()(K,[["render",W]]);var te=ee,ne=n("8fec"),oe=n("3926"),re=n("a266"),ce=n("fefd"),ae=n("324b"),ie=n("206f"),le=n("6ca3"),ue=n("268c"),se=(n("b0c0"),n("a15b"),n("d81d"),{class:"flex justify-between items-start"}),de={class:"text-sm text-gray-800 mt-1 font-normal"},pe={key:0},be=Object(o["createTextVNode"])("Short Name: "),me=Object(o["createTextVNode"])(" | "),Oe={key:1},je=Object(o["createTextVNode"])(" Affiliation ID: "),fe={key:2},ge=Object(o["createTextVNode"])(" | Part of the "),he={key:0},ve=Object(o["createElementVNode"])("strong",null,"Chairs:",-1),Ve={key:0},ke={key:1,class:"text-gray-500"},we=Object(o["createElementVNode"])("strong",null,"Coordinators:",-1),ye={key:0},xe={key:1,class:"text-gray-500"};function Ce(e,t,n,r,c,a){var i=Object(o["resolveComponent"])("group-breadcrumbs"),l=Object(o["resolveComponent"])("badge"),u=Object(o["resolveComponent"])("router-link"),s=Object(o["resolveComponent"])("note"),d=Object(o["resolveComponent"])("dictionary-row");return Object(o["openBlock"])(),Object(o["createElementBlock"])("header",null,[Object(o["createVNode"])(i),Object(o["createElementVNode"])("h1",se,[Object(o["createElementVNode"])("div",null,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.group.displayName)+" ",1),Object(o["createVNode"])(l,{color:n.group.statusColor,class:"text-xs"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.group.status?n.group.status.name:"loading..."),1)]})),_:1},8,["color"]),Object(o["createElementVNode"])("div",de,[n.group.isEp()&&a.showShortName?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",pe,[be,Object(o["createElementVNode"])("strong",null,Object(o["toDisplayString"])(n.group.expert_panel.full_short_base_name||"--"),1),me])):Object(o["createCommentVNode"])("",!0),n.group.isEp()?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",Oe,[je,Object(o["createElementVNode"])("strong",null,Object(o["toDisplayString"])(n.group.expert_panel.affiliation_id||"--"),1)])):Object(o["createCommentVNode"])("",!0),n.group.parent_id?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",fe,[ge,Object(o["createVNode"])(u,{to:{name:"GroupDetail",params:{uuid:n.group.parent.uuid}}},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.group.parent.name),1)]})),_:1},8,["to"])])):Object(o["createCommentVNode"])("",!0)]),e.hasRole("super-user")?(Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:0,class:"font-normal mt-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(" group.id: "+Object(o["toDisplayString"])(n.group.id)+" ",1),n.group.isEp()?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",he," | expertPanel.id: "+Object(o["toDisplayString"])(n.group.expert_panel.id),1)):Object(o["createCommentVNode"])("",!0)]})),_:1})):Object(o["createCommentVNode"])("",!0)]),e.hasAnyPermission(["groups-manage",["info-edit",n.group]])?(Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{key:0,onClick:t[0]||(t[0]=function(t){return e.$emit("showEdit")}),class:"btn btn-xs"}," Edit Group Info ")):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])(d,{label:"Chairs:"},{label:Object(o["withCtx"])((function(){return[ve]})),default:Object(o["withCtx"])((function(){return[n.group.chairs.length>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ve,Object(o["toDisplayString"])(n.group.chairs.map((function(e){return e.person.name})).join(", ")),1)):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ke," None assigned "))]})),_:1}),Object(o["createVNode"])(d,{label:"Coordinators:"},{label:Object(o["withCtx"])((function(){return[we]})),default:Object(o["withCtx"])((function(){return[n.group.coordinators.length>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ye,Object(o["toDisplayString"])(n.group.coordinators.map((function(e){return e.person.name})).join(", ")),1)):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",xe," None assigned "))]})),_:1})])}var Ne=n("ae23"),_e={name:"GroupDetailHeader",props:{group:{type:Ne["a"],required:!0}},emits:["showEdit"],computed:{showShortName:function(){return this.group.expert_panel.short_base_name!==this.group.expert_panel.long_base_name}}};const Ee=Z()(_e,[["render",Ce]]);var Be=Ee,De=n("0945"),Se=n("4d1a"),Te=n("a8af"),Ue=n("62a2"),Ge=n("1d7f");function Re(e,t,n,r,c,a){var i=Object(o["resolveComponent"])("document-list");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[Object(o["createVNode"])(i,{documents:a.displayDocuments,documentUpdater:a.updateDocument,documentCreator:a.createDocument,documentDeleter:a.deleteDocument,canManage:a.canManageDocuments},null,8,["documents","documentUpdater","documentCreator","documentDeleter","canManage"])])}n("4e82");var Ae={class:"flex justify-between py-2"},Fe={class:"flex space-x-2"},Ie=Object(o["createTextVNode"])(" Search: "),$e=Object(o["createTextVNode"])(" Type:   "),Pe=Object(o["createElementVNode"])("option",{value:null},"Any",-1),Le=["value"],Me=["onClick"],qe={class:"note"},ze={key:0},He={key:1},Ye=Object(o["createElementVNode"])("button",{class:"btn btn-xs"},"…",-1),We=Object(o["createTextVNode"])("Download"),Je=Object(o["createTextVNode"])("Update"),Xe=Object(o["createTextVNode"])("Delete"),Ke={class:"px-4 pb-4 border"},Qe={key:0,class:"flex space-x-2 pt-2 border-t"},Ze=["onClick"],et=["onClick"],tt=["onClick"],nt={key:0},ot={key:0,class:"mb-3"},rt=Object(o["createElementVNode"])("p",null,"Are you sure you want to continue?",-1);function ct(e,t,n,r,c,a){var i=this,l=Object(o["resolveComponent"])("icon-cheveron-right"),u=Object(o["resolveComponent"])("icon-cheveron-down"),s=Object(o["resolveComponent"])("dropdown-item"),d=Object(o["resolveComponent"])("dropdown-menu"),p=Object(o["resolveComponent"])("object-dictionary"),b=Object(o["resolveComponent"])("data-table"),m=Object(o["resolveComponent"])("document-edit-form"),O=Object(o["resolveComponent"])("modal-dialog"),j=Object(o["resolveComponent"])("document-upload-form"),f=Object(o["resolveComponent"])("button-row");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[Object(o["renderSlot"])(e.$slots,"heading",{},(function(){return[Object(o["createElementVNode"])("div",Ae,[Object(o["createElementVNode"])("div",Fe,[Object(o["createElementVNode"])("label",null,[Ie,Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"text",placeholder:"Filter","onUpdate:modelValue":t[0]||(t[0]=function(e){return c.keyword=e}),class:"sm"},null,512),[[o["vModelText"],c.keyword]])]),Object(o["createElementVNode"])("label",null,[$e,Object(o["withDirectives"])(Object(o["createElementVNode"])("select",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.filterType=e})},[Pe,(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(c.documentTypes,(function(e){return Object(o["openBlock"])(),Object(o["createElementBlock"])("option",{key:e.id,value:e.id},Object(o["toDisplayString"])(e.long_name),9,Le)})),128))],512),[[o["vModelSelect"],c.filterType]])])]),n.canManage?(Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{key:0,class:"btn btn-xs",onClick:t[2]||(t[2]=function(){return a.initUpload&&a.initUpload.apply(a,arguments)})},"Upload")):Object(o["createCommentVNode"])("",!0)])]})),Object(o["createVNode"])(b,{fields:c.fields,data:a.filteredDocuments,sort:c.sort,"onUpdate:sort":t[3]||(t[3]=function(e){return c.sort=e}),detailRows:!0},{"cell-cheveron":Object(o["withCtx"])((function(e){var t=e.item;return[t.metadata?(Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{key:0,onClick:Object(o["withModifiers"])((function(e){return a.toggleItemDetails(t)}),["stop"]),class:"w-9 align-center block -mx-3"},[t.showDetails?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])(l,{key:0,class:"m-auto cursor-pointer"})),t.showDetails?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:1,class:"m-auto cursor-pointer"})):Object(o["createCommentVNode"])("",!0)],8,Me)):Object(o["createCommentVNode"])("",!0)]})),"cell-filename":Object(o["withCtx"])((function(e){var t=e.item;return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(t.filename)+" ",1),Object(o["createElementVNode"])("span",qe,[t.type.is_versioned&&t.version?(Object(o["openBlock"])(),Object(o["createElementBlock"])("em",ze,"(version "+Object(o["toDisplayString"])(t.version)+")",1)):Object(o["createCommentVNode"])("",!0),t.is_final?(Object(o["openBlock"])(),Object(o["createElementBlock"])("em",He," FINAL")):Object(o["createCommentVNode"])("",!0)])]})),"cell-actions":Object(o["withCtx"])((function(e){var t=e.item;return[Object(o["createVNode"])(d,{hideCheveron:""},{label:Object(o["withCtx"])((function(){return[Ye]})),default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{onClick:function(e){return a.initDownload(t)}},{default:Object(o["withCtx"])((function(){return[We]})),_:2},1032,["onClick"]),n.canManage?(Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:0,onClick:function(e){return a.initUpdate(t)}},{default:Object(o["withCtx"])((function(){return[Je]})),_:2},1032,["onClick"])):Object(o["createCommentVNode"])("",!0),n.canManage?(Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:1,onClick:function(e){return a.initDelete(t)}},{default:Object(o["withCtx"])((function(){return[Xe]})),_:2},1032,["onClick"])):Object(o["createCommentVNode"])("",!0)]})),_:2},1024)]})),detail:Object(o["withCtx"])((function(e){var t=e.item;return[Object(o["createElementVNode"])("div",Ke,[Object(o["createVNode"])(p,{obj:t.metadata},null,8,["obj"]),n.canManage?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Qe,[Object(o["createElementVNode"])("button",{class:"btn btn-xs",onClick:function(e){return a.initDownload(t)}},"Download",8,Ze),Object(o["createElementVNode"])("button",{class:"btn btn-xs",onClick:function(e){return a.initUpdate(t)}},"Update",8,et),Object(o["createElementVNode"])("button",{class:"btn btn-xs red",onClick:function(e){return a.initDelete(t)}},"Delete",8,tt)])):Object(o["createCommentVNode"])("",!0)])]})),_:1},8,["fields","data","sort"]),(Object(o["openBlock"])(),Object(o["createBlock"])(o["Teleport"],{to:"body"},[Object(o["createVNode"])(O,{modelValue:c.showEditForm,"onUpdate:modelValue":t[5]||(t[5]=function(e){return c.showEditForm=e}),title:"Update ".concat(c.activeDocument.filename)},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{document:c.activeDocument,"save-function":i.commitUpdate,onSaved:t[4]||(t[4]=function(t){return e.$emit("updated")})},null,8,["document","save-function"])]})),_:1},8,["modelValue","title"]),Object(o["createVNode"])(O,{modelValue:c.showUploadForm,"onUpdate:modelValue":t[7]||(t[7]=function(e){return c.showUploadForm=e}),title:"Upload a new document"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(j,{"save-function":i.commitCreate,onSaved:t[6]||(t[6]=function(t){return e.$emit("updated")})},null,8,["save-function"])]})),_:1},8,["modelValue"]),Object(o["createVNode"])(O,{modelValue:c.showDeleteConfirmation,"onUpdate:modelValue":t[8]||(t[8]=function(e){return c.showDeleteConfirmation=e}),title:"You are about to delete ".concat(c.activeDocument.filename)},{default:Object(o["withCtx"])((function(){return[c.activeDocument?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",nt,[c.activeDocument.is_final?(Object(o["openBlock"])(),Object(o["createElementBlock"])("p",ot," This version has been tagged as the final version of the document. ")):Object(o["createCommentVNode"])("",!0),rt,Object(o["createVNode"])(f,{"submit-text":"Delete Document",onCanceled:a.cancelDelete,onSubmitted:a.commitDelete},null,8,["onCanceled","onSubmitted"])])):Object(o["createCommentVNode"])("",!0)]})),_:1},8,["modelValue","title"])]))])}var at=n("2909"),it=(n("4d63"),n("c607"),n("2c3e"),n("25f0"),n("466d"),n("db04")),lt={type:"file",ref:"fileInput"},ut=Object(o["createElementVNode"])("option",{value:null},"Select...",-1),st=["value"];function dt(e,t,n,r,c,a){var i=Object(o["resolveComponent"])("input-row"),l=Object(o["resolveComponent"])("button-row"),u=Object(o["resolveComponent"])("form-container");return Object(o["openBlock"])(),Object(o["createBlock"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{label:"Document",errors:c.errors.file},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("input",lt,null,512)]})),_:1},8,["errors"]),Object(o["createVNode"])(i,{label:"Type",errors:c.errors.document_type_id},{default:Object(o["withCtx"])((function(){return[Object(o["withDirectives"])(Object(o["createElementVNode"])("select",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.newDocument.document_type_id=e})},[ut,(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.documentTypes,(function(e){return Object(o["openBlock"])(),Object(o["createElementBlock"])("option",{value:e.id,key:e.id},Object(o["toDisplayString"])(e.long_name),9,st)})),128))],512),[[o["vModelSelect"],c.newDocument.document_type_id]])]})),_:1},8,["errors"]),Object(o["createVNode"])(i,{errors:c.errors.notes,label:"Notes"},{default:Object(o["withCtx"])((function(){return[Object(o["withDirectives"])(Object(o["createElementVNode"])("textarea",{name:"notes","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.newDocument.notes=e}),cols:"30",rows:"10"},null,512),[[o["vModelText"],c.newDocument.notes]])]})),_:1},8,["errors"]),Object(o["createVNode"])(l,null,{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("button",{class:"btn white",onClick:t[2]||(t[2]=function(){return a.cancel&&a.cancel.apply(a,arguments)})},"Cancel"),Object(o["createElementVNode"])("button",{class:"btn blue",onClick:t[3]||(t[3]=function(){return a.save&&a.save.apply(a,arguments)})},"Save")]})),_:1})]})),_:1})}var pt=n("5530"),bt=(n("159b"),n("b64b"),{props:{saveFunction:{type:Function,required:!0}},data:function(){return{newDocument:{file:null,document_type_id:this.documentTypeId,notes:null},errors:{}}},computed:Object(pt["a"])(Object(pt["a"])({},Object(U["c"])({documentTypes:function(e){return e.doctypes.items}})),{},{group:function(){return this.$store.getters["groups/currentItemOrNew"]},application:function(){return this.group.expert_panel},isReviewed:function(){return Boolean(this.newDocument.date_reviewed)},documentType:function(){return 0==this.documentTypes.length?{}:this.$store.getters["doctypes/getItemById"](this.documentTypeId)}}),methods:{save:function(){var e=this;return Object(T["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n=new FormData,Object.keys(e.newDocument).forEach((function(t){var o=e.newDocument[t];null!=o&&n.append(t,o)})),n.append("file",e.$refs.fileInput.files[0]),t.next=6,e.saveFunction(n);case 6:e.clearForm(),e.$emit("saved"),t.next=15;break;case 10:if(t.prev=10,t.t0=t["catch"](0),!Object(it["b"])(t.t0)){t.next=15;break}return e.errors=t.t0.response.data.errors,t.abrupt("return");case 15:case"end":return t.stop()}}),t,null,[[0,10]])})))()},cancel:function(){this.clearForm(),this.$emit("canceled")},clearForm:function(){this.initNewDocument(),this.clearErrors()},initNewDocument:function(){this.$refs.fileInput.value=null,this.newDocument={file:null,document_type_id:this.documentTypeId,notes:null}},clearErrors:function(){this.errors={}}},mounted:function(){this.$store.dispatch("doctypes/getItems")}});const mt=Z()(bt,[["render",dt]]);var Ot=mt,jt=["value"];function ft(e,t,n,r,c,a){var i=Object(o["resolveComponent"])("dictionary-row"),l=Object(o["resolveComponent"])("input-row"),u=Object(o["resolveComponent"])("button-row"),s=Object(o["resolveComponent"])("form-container");return Object(o["openBlock"])(),Object(o["createBlock"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{label:"File"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.document.filename),1)]})),_:1}),Object(o["createVNode"])(l,{label:"Type",errors:c.errors.document_type_id},{default:Object(o["withCtx"])((function(){return[Object(o["withDirectives"])(Object(o["createElementVNode"])("select",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.docProxy.document_type_id=e})},[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.documentTypes,(function(e){return Object(o["openBlock"])(),Object(o["createElementBlock"])("option",{value:e.id,key:e.id},Object(o["toDisplayString"])(e.long_name),9,jt)})),128))],512),[[o["vModelSelect"],c.docProxy.document_type_id]])]})),_:1},8,["errors"]),Object(o["createVNode"])(l,{errors:c.errors.notes,label:"Notes"},{default:Object(o["withCtx"])((function(){return[Object(o["withDirectives"])(Object(o["createElementVNode"])("textarea",{name:"notes","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.docProxy.notes=e}),cols:"30",rows:"10"},null,512),[[o["vModelText"],c.docProxy.notes]])]})),_:1},8,["errors"]),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("button",{class:"btn",onClick:t[2]||(t[2]=function(){return a.cancel&&a.cancel.apply(a,arguments)})},"Cancel"),Object(o["createElementVNode"])("button",{class:"btn blue",onClick:t[3]||(t[3]=function(){return a.save&&a.save.apply(a,arguments)})},"Save")]})),_:1})]})),_:1})}n("e9c4");var gt={name:"DocumentEditForm",props:{document:{required:!0,type:Object},saveFunction:{required:!0,type:Function}},emits:["saved"],data:function(){return{docProxy:{},errors:{}}},computed:Object(pt["a"])({},Object(U["c"])({documentTypes:function(e){return e.doctypes.items}})),watch:{document:{immediate:!0,handler:function(){this.docProxy=JSON.parse(JSON.stringify(this.document))}}},methods:{cancel:function(){this.docProxy={},this.$emit("canceled")},save:function(){var e=this;return Object(T["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.prev=0,e.saveFunction(e.docProxy),e.$emit("saved"),t.next=9;break;case 5:throw t.prev=5,t.t0=t["catch"](0),Object(it["b"])(t.t0)&&(e.errors=t.t0.response.data.errors),t.t0;case 9:case"end":return t.stop()}}),t,null,[[0,5]])})))()}},mounted:function(){this.$store.dispatch("doctypes/getItems")}};const ht=Z()(gt,[["render",ft]]);var vt=ht,Vt={name:"DocumentList",components:{DocumentUploadForm:Ot,DocumentEditForm:vt},emits:["updated"],props:{documents:{type:Array,required:!0},documentCreator:{type:Function,required:!1},documentUpdater:{type:Function,required:!1},documentDeleter:{type:Function,required:!1},canManage:{type:Boolean,default:!1}},data:function(){return{fields:[{name:"cheveron",label:"",sortable:!1},{name:"filename",label:"File",type:String,sortable:!0},{name:"type.long_name",label:"Type",type:String,sortable:!0},{name:"notes",type:String,sortable:!0},{name:"actions",label:"",type:String,sortable:!1}],sort:{field:"filename",desc:!1},keyword:null,filterType:null,documentTypes:[],activeDocument:{type:{}},showDeleteConfirmation:!1,showEditForm:!1,showUploadForm:!1}},computed:{filteredDocuments:function(){var e=this,t=Object(at["a"])(this.documents);if(this.keyword){var n=new RegExp(".*"+this.keyword+".*","i");t=t.filter((function(e){return e.filename.match(n)||e.notes&&e.notes.match(n)||e.type.name.match(n)}))}return this.filterType&&(t=t.filter((function(t){return t.document_type_id==e.filterType}))),t}},methods:{toggleItemDetails:function(e){e.showDetails=!e.showDetails},initDownload:function(e){window.location=e.download_url},initUpdate:function(e){this.showEditForm=!0,this.activeDocument=e},commitUpdate:function(e){this.documentUpdater?this.documentUpdater(e):alert("we need a default document upload function"),this.$emit("updated"),this.showUploadForm=!1},initDelete:function(e){this.activeDocument=e,this.showDeleteConfirmation=!0},cancelDelete:function(){this.showDeleteConfirmation=!1,this.resetActiveDocument()},commitDelete:function(){var e=this;return Object(T["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.documentDeleter?e.documentDeleter(e.activeDocument):alert("we need to add a default document deleter."),e.showDeleteConfirmation=!1,e.resetActiveDocument(),e.$emit("updated");case 4:case"end":return t.stop()}}),t)})))()},initUpload:function(){this.showUploadForm=!0},commitCreate:function(e){this.documentCreator?this.documentCreator(e):alert("we need a default document upload function"),this.$emit("updated"),this.showUploadForm=!1},resetActiveDocument:function(){this.activeDocument={type:{}}}},mounted:function(){var e=this;it["a"].get("/api/document-types").then((function(t){return e.documentTypes=t.data}))}};const kt=Z()(Vt,[["render",ct]]);var wt=kt,yt={name:"GroupDocuments",components:{DocumentList:wt},props:{},data:function(){return{}},computed:{group:{get:function(){return this.$store.getters["groups/currentItemOrNew"]}},displayDocuments:function(){return this.group.documents},canManageDocuments:function(){return this.hasAnyPermission(["groups-manage","ep-applications-manage",["info-edit",this.group]])}},methods:{updateDocument:function(e){var t=this;return Object(T["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.canManageDocuments){n.next=3;break}return t.$store.pushError("Permission denied"),n.abrupt("return");case 3:return n.next=5,t.$store.dispatch("groups/updateDocument",{group:t.group,document:e});case 5:case"end":return n.stop()}}),n)})))()},createDocument:function(e){var t=this;return Object(T["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.canManageDocuments){n.next=3;break}return t.$store.pushError("Permission denied"),n.abrupt("return");case 3:return n.next=5,t.$store.dispatch("groups/addDocument",{group:t.group,data:e});case 5:case"end":return n.stop()}}),n)})))()},deleteDocument:function(e){var t=this;return Object(T["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.canManageDocuments){n.next=3;break}return t.$store.pushError("Permission denied"),n.abrupt("return");case 3:return n.next=5,t.$store.dispatch("groups/deleteDocument",{group:t.group,document:e});case 5:case"end":return n.stop()}}),n)})))()}}};const xt=Z()(yt,[["render",Re]]);var Ct=xt,Nt=n("4f50"),_t=n("f8c8"),Et=n("2242"),Bt=n("f142"),Dt=function(e){return Object(o["pushScopeId"])("data-v-239ac768"),e=e(),Object(o["popScopeId"])(),e},St={class:"flex justify-between"},Tt=Dt((function(){return Object(o["createElementVNode"])("h2",{class:"mb-4"},"Subgroups",-1)})),Ut={class:"btn btn-icon"},Gt=Object(o["createTextVNode"])("Downloads:"),Rt=["href"],At=Object(o["createTextVNode"])(" (CSV)"),Ft={class:"text-xs"};function It(e,t,n,r,c,a){var i=Object(o["resolveComponent"])("icon-download"),l=Object(o["resolveComponent"])("dropdown-item"),u=Object(o["resolveComponent"])("note"),s=Object(o["resolveComponent"])("dropdown-menu"),d=Object(o["resolveComponent"])("dictionary-row"),p=Object(o["resolveComponent"])("router-link"),b=Object(o["resolveComponent"])("popover");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[Object(o["createElementVNode"])("div",St,[Tt,Object(o["createVNode"])(s,{"hide-cheveron":"",orientation:"right"},{label:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("button",Ut,[Object(o["createVNode"])(i,{width:"16",height:"16"})])]})),default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(l,{class:"text-right font-bold"},{default:Object(o["withCtx"])((function(){return[Gt]})),_:1}),a.showMemberReportButton?(Object(o["openBlock"])(),Object(o["createBlock"])(l,{key:0,class:"text-right"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("a",{href:a.exportUrl},"Member Export",8,Rt),Object(o["createVNode"])(u,{class:"inline"},{default:Object(o["withCtx"])((function(){return[At]})),_:1})]})),_:1})):Object(o["createCommentVNode"])("",!0)]})),_:1})]),Object(o["createElementVNode"])("ul",null,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(a.group.children,(function(e){return Object(o["openBlock"])(),Object(o["createElementBlock"])("li",{class:"child-group",key:e.id},[Object(o["createVNode"])(b,{hover:"",arrow:"",placement:"left",class:"block w-full"},{content:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",Ft,[Object(o["createVNode"])(d,{label:"Status","label-class":"font-bold","label-width":"8em"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.status.name),1)]})),_:2},1024),e.chairs.length>0?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:0,label:"Chairs","label-class":"font-bold","label-width":"8em",class:"my-1"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.coordinators.map((function(e){return e.person.name})).join(", ")),1)]})),_:2},1024)):Object(o["createCommentVNode"])("",!0),e.coordinators.length>0?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:1,label:"Coordinators","label-class":"font-bold","label-width":"8em"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.coordinators.map((function(e){return e.person.name})).join(", ")),1)]})),_:2},1024)):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(d,{label:"# Members","label-width":"8em","label-class":"font-bold"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.members_count),1)]})),_:2},1024)])]})),default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{to:{name:"GroupDetail",params:{uuid:e.uuid}},class:"block w-full"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.name),1)]})),_:2},1032,["to"])]})),_:2},1024)])})),128))])])}var $t={name:"SubgroupList",props:{},data:function(){return{}},computed:{group:function(){return this.$store.getters["groups/currentItemOrNew"]},showMemberReportButton:function(){return this.hasAnyPermission([["members-invite",this.group],"groups-manage","ep-applications-manage","annual-updates-manage"])&&this.$store.state.systemInfo.app.features.member_export},exportUrl:function(){return"/api/report/groups/".concat(this.group.uuid,"/subgroup-member-export")}}};n("7f00");const Pt=Z()($t,[["render",It],["__scopeId","data-v-239ac768"]]);var Lt=Pt,Mt={name:"GroupDetail",components:{ActivityLog:A["a"],ApplicationSummary:te,AttestationGcep:ne["a"],AttestationNhgri:oe["a"],AttestationReanalysis:re["a"],SpecificationsSection:ce["a"],GroupDocuments:Ct,GroupForm:ue["a"],GroupDetailHeader:Be,EvidenceSummaries:ae["a"],GcepGeneList:ie["a"],GcepOngoingPlansForm:le["a"],MemberList:De["a"],MembershipDescriptionForm:Se["a"],ScopeDescriptionForm:Te["a"],VcepGeneList:Ue["a"],VcepOngoingPlansForm:Ge["a"],AnnualUpdateAlert:Nt["a"],StepTabs:_t["a"],ProgressChart:Et["a"],SustainedCurationReviewAlert:Bt["default"],SubgroupList:Lt},props:{uuid:{type:String,required:!0}},data:function(){return{showInfoEdit:!1,editingExpertise:!1,editingScopeDescription:!1,editingGenes:!1,showConfirmDelete:!1,ongoingPlansErrors:{},errors:{}}},computed:{showCreateAnnualUpdateButton:function(){return this.hasPermission("annual-updates-manage")&&this.group.expert_panel&&!this.group.expert_panel.annualUpdate}},setup:function(e){var t=Object(U["d"])(),n=Object(o["ref"])(!1),r=Object(o["computed"])({get:function(){return t.getters["groups/currentItemOrNew"]},set:function(e){t.commit("groups/addItem",e)}}),c=Object(o["computed"])((function(){return r.value.isEp()?r.value.isVcep()?Ue["a"]:ie["a"]:null})),a=Object(o["computed"])((function(){return r.value.isVcep()?Ge["a"]:le["a"]})),i=function(){var t=Object(T["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(G["b"])("/api/groups/".concat(e.uuid,"/activity-logs"));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),l=function(){t.dispatch("groups/find",e.uuid).then((function(){t.commit("groups/setCurrentItemIndexByUuid",e.uuid),t.dispatch("groups/getChildren",r.value),r.value.isEp()&&(t.dispatch("groups/getGenes",r.value),t.dispatch("groups/getDocuments",r.value),r.value.isVcep()&&t.dispatch("groups/getEvidenceSummaries",r.value),t.dispatch("groups/getPendingTasks",r.value),t.dispatch("groups/getAnnualUpdate",r.value))}))},u=Object(o["computed"])((function(){return r.value.pendingTasks&&r.value.pendingTasks.filter((function(e){return 1===e.task_type_id})).length>0}));return Object(o["watch"])((function(){return e.uuid}),(function(){return l()}),{immediate:!0}),Object(o["onMounted"])(Object(T["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))),{group:r,groupGeneList:c,showModal:n,ongoingPlansFormComponent:a,logEntries:G["c"],needsToReviewSustainedCuration:u,getLogEntries:i,getGroup:l}},watch:{$route:function(){this.showModal=!!this.$route.meta.showModal&&Boolean(this.$route.meta.showModal)}},methods:{hideModal:function(){this.$router.replace({name:"GroupDetail",params:{uuid:this.uuid}})},handleModalClosed:function(e){this.clearModalForm(e),this.$router.push({name:"GroupDetail",params:{uuid:this.uuid}})},clearModalForm:function(){"function"===typeof this.$refs.modalView.clearForm&&this.$refs.modalView.clearForm()},showEdit:function(){this.showInfoEdit=!0},cancelForm:function(e){this[e]=!1,this.errors={},this.revertGroupChanges()},submitForm:function(e,t){var n=this;return Object(T["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,n[e].apply(n.group);case 3:n[t]=!1,o.next=12;break;case 6:if(o.prev=6,o.t0=o["catch"](0),!Object(it["b"])(o.t0)){o.next=11;break}return n.errors=o.t0.response.data.errors,o.abrupt("return");case 11:throw o.t0;case 12:case"end":return o.stop()}}),o,null,[[0,6]])})))()},saveMembershipDescription:function(){var e=this;return this.$store.dispatch("groups/membershipDescriptionUpdate",{uuid:this.group.uuid,membershipDescription:this.group.expert_panel.membership_description}).then((function(){e.$store.commit("pushSuccess","Description of expertise updated.")}))},saveScopeDescription:function(){var e=this;return this.$store.dispatch("groups/scopeDescriptionUpdate",{uuid:this.group.uuid,scopeDescription:this.group.expert_panel.scope_description}).then((function(t){return e.$store.commit("pushSuccess","Description of scope updated."),t}))},saveOngoingPlansForm:function(){var e=this,t=this.group,n=t.uuid,o=t.expert_panel;return this.$store.dispatch("groups/curationReviewProtocolUpdate",{uuid:n,expertPanel:o}).then((function(){e.$store.commit("pushSuccess","Curation review protocol updated.")}))},revertGroupChanges:function(){var e=this;return this.errors={},this.$store.dispatch("groups/find",this.group.uuid).then((function(){e.$store.commit("pushInfo","Update canceled.")}))},handleTabChange:function(e){"Log"==e&&Object(R["c"])("groups-manage")&&this.getLogEntries()},initDelete:function(){this.showConfirmDelete=!0},deleteGroup:function(){this.$store.dispatch("groups/delete",this.group.uuid),this.$store.commit("pushSuccess","Group deleted."),this.$router.push({name:"GroupList"})},fakeCspecPilotApproved:function(){var e=this;return Object(T["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("fake-pilot-approved"),t.prev=1,t.next=4,it["a"].post("/api/groups/".concat(e.uuid,"/dev/fake-pilot-approved"));case 4:e.$store.dispatch("groups/getPendingTasks",e.group),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),418==t.t0.response.status&&e.$store.commit("pushError",t.t0.response.data);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})))()},createAnnualUpdateForLatestWindow:function(){this.$store.dispatch("groups/createAnnualUpdateForLatestWindow",this.group)}},mounted:function(){this.showModal=Boolean(this.$route.meta.showModal),this.showConfirmDelete=!1},beforeUnmount:function(){this.$store.commit("groups/clearCurrentItem")}};const qt=Z()(Mt,[["render",S]]);t["default"]=qt},ba20:function(e,t,n){"use strict";n("494c")},f200:function(e,t,n){},ffb2:function(e,t,n){"use strict";n("4e82"),n("a4d3"),n("e01a");var o=n("7a23"),r={key:0,class:"px-3 py-2 rounded border border-gray-300 text-gray-500 bg-gray-200"},c={key:0,class:"flex space-x-1"},a=["onClick"],i=["onClick"],l=["innerHTML"];function u(e,t,n,u,s,d){var p=Object(o["resolveComponent"])("icon-edit"),b=Object(o["resolveComponent"])("icon-trash"),m=Object(o["resolveComponent"])("data-table"),O=Object(o["resolveComponent"])("log-entry-form"),j=Object(o["resolveComponent"])("modal-dialog"),f=Object(o["resolveComponent"])("activity-log-delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[u.hasLogEntries?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:1,fields:u.fields,data:n.logEntries,sort:u.sort,"onUpdate:sort":t[0]||(t[0]=function(e){return u.sort=e})},{"cell-id":Object(o["withCtx"])((function(t){var n=t.item;return[e.hasPermission("groups-manage")?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",c,[Object(o["createElementVNode"])("button",{class:"btn btn-xs inline-block",onClick:function(e){return u.editLogEntry(n)}},[Object(o["createVNode"])(p,{width:"12"})],8,a),null===n.activity_type?(Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{key:0,onClick:function(e){return u.confirmDelete(n)},class:"btn btn-xs inline-block"},[Object(o["createVNode"])(b,{width:"12"})],8,i)):Object(o["createCommentVNode"])("",!0)])):Object(o["createCommentVNode"])("",!0)]})),"cell-description":Object(o["withCtx"])((function(e){var t=e.item;return[Object(o["createElementVNode"])("div",{innerHTML:t.description,class:"links-blue"},null,8,l)]})),_:1},8,["fields","data","sort"])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",r," No log entries to display ")),Object(o["createVNode"])(j,{modelValue:u.editingEntry,"onUpdate:modelValue":t[1]||(t[1]=function(e){return u.editingEntry=e}),title:"Edit log entry"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(O,{"log-entry":u.selectedEntry,"api-url":n.apiUrl,onSaved:u.closeEntryForm,onCanceled:u.closeEntryForm},null,8,["log-entry","api-url","onSaved","onCanceled"])]})),_:1},8,["modelValue"]),Object(o["createVNode"])(j,{modelValue:u.showDeleteConfirmation,"onUpdate:modelValue":t[2]||(t[2]=function(e){return u.showDeleteConfirmation=e}),title:"Delete this log entry?"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{logEntry:u.selectedEntry,"api-url":n.apiUrl,onCanceled:u.closeDeleteConfirmation,onDeleted:u.closeDeleteConfirmation},null,8,["logEntry","api-url","onCanceled","onDeleted"])]})),_:1},8,["modelValue"])])}var s=n("1da1"),d=(n("96cf"),n("99af"),n("5502")),p=n("85fe"),b=n("a06a"),m=n("831e"),O={props:{logEntry:{required:!1,default:function(){return{log_date:(new Date).toISOString(),step:null,entry:""}}},apiUrl:{required:!0,type:String}},emits:["saved"],setup:function(e,t){var n=t.emit,r=e,c=Object(d["d"])(),a=Object(o["ref"])({log_date:(new Date).toISOString(),step:null,entry:""}),i=Object(o["ref"])({}),l=Object(o["computed"])((function(){return c.getters["groups/currentItemOrNew"]})),u=function(e){e&&e.created_at&&(a.value={id:e.id,log_date:new Date(Date.parse(e.created_at)).toISOString(),step:e.step,entry:e.description})},O=function(){a.value={log_date:(new Date).toISOString(),step:null,entry:""}},j=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!a.value.id){e.next=6;break}return e.next=4,Object(m["e"])("".concat(r.apiUrl,"/").concat(a.value.id),a.value);case 4:e.next=8;break;case 6:return e.next=8,Object(m["d"])(r.apiUrl,a.value);case 8:return e.next=10,Object(m["b"])(r.apiUrl);case 10:O(),n("saved",a.value),e.next=19;break;case 14:if(e.prev=14,e.t0=e["catch"](0),!e.t0.response||422!=e.t0.response.status||!e.t0.response.data.errors){e.next=19;break}return i.value=e.t0.response.data.errors,e.abrupt("return");case 19:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),f=function(){O(),n("canceled")};return Object(o["watch"])((function(){return r.logEntry}),(function(e){u(e)}),{immediate:!0}),function(e,t){var n=Object(o["resolveComponent"])("input-row"),r=Object(o["resolveComponent"])("button-row"),c=Object(o["resolveComponent"])("form-container");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{class:"log-entry-form",ref:"form-container"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(n,{label:"Log Date",modelValue:a.value.log_date,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.value.log_date=e}),errors:i.value.log_date,type:"date",ref:"logdate"},null,8,["modelValue","errors"]),Object(o["unref"])(l).isVcep()?(Object(o["openBlock"])(),Object(o["createBlock"])(b["default"],{key:0,errors:i.value.step,modelValue:a.value.step,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.value.step=e})},null,8,["errors","modelValue"])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(n,{label:"Entry",errors:i.value.entry},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p["default"],{modelValue:a.value.entry,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.value.entry=e})},null,8,["modelValue"])]})),_:1},8,["errors"]),Object(o["createVNode"])(r,null,{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("button",{class:"btn",onClick:f},"Cancel"),Object(o["createElementVNode"])("button",{class:"btn blue",onClick:j},"Save")]})),_:1})]})),_:1},512)}}};const j=O;var f=j,g=(n("b0c0"),Object(o["createElementVNode"])("p",null,"You are about to delete the following log entry:",-1)),h={class:"border-y py-2"},v=["innerHTML"],V={key:0,class:"ml-4 mt-2 mb-4 text-gray-700 text-sm"},k=Object(o["createElementVNode"])("div",null,"This can not be undone. Are you sure you want to continue?",-1),w={key:0,class:"bg-red-200 text-red-900 rounded p-2 my-2"};function y(e,t,n,r,c,a){var i=Object(o["resolveComponent"])("button-row");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[g,Object(o["createElementVNode"])("div",h,[Object(o["createElementVNode"])("blockquote",null,[Object(o["createElementVNode"])("div",{innerHTML:n.logEntry.description},null,8,v)]),n.logEntry.causer?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",V,"Logged by "+Object(o["toDisplayString"])(n.logEntry.causer.name)+", "+Object(o["toDisplayString"])(r.logDate),1)):Object(o["createCommentVNode"])("",!0)]),k,r.flattenedErrors.length>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",w,[Object(o["createElementVNode"])("ul",null,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(r.flattenedErrors,(function(e,t){return Object(o["openBlock"])(),Object(o["createElementBlock"])("li",{key:t},Object(o["toDisplayString"])(e),1)})),128))])])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(i,{onCanceled:t[0]||(t[0]=function(t){return e.$emit("canceled")}),onSubmitted:r.deleteLogEntry,submitText:"Delete Log Entry"},null,8,["onSubmitted"])])}n("0481"),n("4069"),n("07ac");var x=n("e328"),C=n("033d"),N={name:"ConfirmDeleteLogEntry",props:{logEntry:{required:!0,type:Object},apiUrl:{required:!0,type:String}},emits:["deleted","canceled"],setup:function(e,t){var n=Object(o["ref"])({}),r=Object(o["computed"])((function(){return Object(x["b"])(e.logEntry.log_date)})),c=Object(o["computed"])((function(){return Object.values(n.value).flat()})),a=function(){var o=Object(s["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,Object(m["a"])(e.apiUrl,e.logEntry.id);case 3:return t.emit("deleted"),o.next=6,Object(m["b"])(e.apiUrl);case 6:o.next=14;break;case 8:if(o.prev=8,o.t0=o["catch"](0),!Object(C["a"])(o.t0)){o.next=13;break}return n.value=o.t0.response.data.errors,o.abrupt("return");case 13:n.value={a:o.t0.message};case 14:case"end":return o.stop()}}),o,null,[[0,8]])})));return function(){return o.apply(this,arguments)}}();return{errors:n,logDate:r,flattenedErrors:c,deleteLogEntry:a}}},_=(n("ba20"),n("6b0d")),E=n.n(_);const B=E()(N,[["render",y]]);var D=B,S=[{name:"created_at",label:"Date & Time",sortName:"created_at",sortable:!0,resolveValue:function(e){var t=e.created_at;return t?Object(x["b"])(t):null},type:Date,colspan:2,class:"w-16"},{name:"created_at",label:"Time",sortName:"created_at",hideHeader:!0,sortable:!1,resolveValue:function(e){var t=e.created_at;return t?Object(x["d"])(t):null},class:"w-28",type:Date},{name:"description",label:"Entry",sortable:!0,type:String},{name:"causer.name",label:"User",sortable:!0},{name:"id",label:"",sortable:!1}],T={components:{LogEntryForm:f,ActivityLogDeleteConfirmation:D},props:{logEntries:{required:!0,type:Array},apiUrl:{required:!0,type:String}},setup:function(e){var t=Object(o["ref"])({field:"created_at",desc:!0}),n=Object(o["ref"])({}),r=Object(o["ref"])(!1),c=Object(o["ref"])(!1),a=Object(o["computed"])((function(){return e.logEntries.length>0})),i=function(e){r.value=!0,n.value=e},l=function(){r.value=!1,n.value={}},u=function(e){n.value=e,c.value=!0},s=function(){c.value=!1,n.value={}};return{fields:Object(o["ref"])(S),sort:t,selectedEntry:n,editingEntry:r,hasLogEntries:a,editLogEntry:i,closeEntryForm:l,showDeleteConfirmation:c,confirmDelete:u,closeDeleteConfirmation:s}}};n("03c4");const U=E()(T,[["render",u]]);t["a"]=U}}]);
//# sourceMappingURL=group-detail.666472b6.js.map