(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["confirm-delete-log-entry"],{"033d":function(e,t,n){"use strict";t["a"]=function(e){return e.response&&422==e.response.status&&e.response.data.errors}},"0481":function(e,t,n){"use strict";var r=n("23e7"),o=n("a2bf"),c=n("7b0b"),a=n("50c4"),i=n("a691"),l=n("65f0");r({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=c(this),n=a(t.length),r=l(t,0);return r.length=o(r,t,t,n,0,void 0===e?1:i(e)),r}})},"33d8":function(e,t,n){"use strict";n.r(t);n("a4d3"),n("e01a"),n("b0c0");var r=n("7a23"),o=Object(r["createVNode"])("h2",null,"You are about to delete the following log entry:",-1),c={class:"border-y py-2"},a={key:0,class:"ml-4 mt-2 mb-4 text-gray-700 text-sm"},i=Object(r["createVNode"])("div",null,"This can not be undone. Are you sure you want to continue?",-1),l={key:0,class:"bg-red-200 text-red-900 rounded p-2 my-2"};function s(e,t,n,s,u,d){var b=Object(r["resolveComponent"])("button-row");return Object(r["openBlock"])(),Object(r["createBlock"])("div",null,[o,Object(r["createVNode"])("div",c,[Object(r["createVNode"])("blockquote",null,[Object(r["createVNode"])("div",{innerHTML:d.logEntry.description},null,8,["innerHTML"])]),d.logEntry.causer?(Object(r["openBlock"])(),Object(r["createBlock"])("div",a,"Logged by "+Object(r["toDisplayString"])(d.logEntry.causer.name)+", "+Object(r["toDisplayString"])(d.logDate),1)):Object(r["createCommentVNode"])("",!0)]),i,d.flattenedErrors.length>0?(Object(r["openBlock"])(),Object(r["createBlock"])("div",l,[Object(r["createVNode"])("ul",null,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(d.flattenedErrors,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])("li",{key:t},Object(r["toDisplayString"])(e),1)})),128))])])):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(b,{onCanceled:t[1]||(t[1]=function(t){return e.$router.go(-1)}),onSubmitted:d.deleteEntry,submitText:"Delete Log Entry"},null,8,["onSubmitted"])])}n("7db0"),n("0481"),n("4069"),n("07ac"),n("96cf");var u=n("1da1"),d=n("5530"),b=n("5502"),p=n("e328"),m=n("033d"),g={name:"ConfirmDeleteLogEntry",props:{id:{required:!0,type:String}},data:function(){return{errors:{}}},computed:Object(d["a"])(Object(d["a"])({},Object(b["b"])({application:"applications/currentItem"})),{},{logEntry:function(){var e=this,t=this.application.log_entries.find((function(t){return t.id==e.id}));return t||{}},logDate:function(){return Object(p["a"])(this.logEntry.properties.log_date)},flattenedErrors:function(){return Object.values(this.errors).flat()}}),watch:{logEntry:{immediate:!0,handler:function(){console.info("logEntry watch handler",this.logEntry.id),this.logEntry.id||this.$router.go(-1)}}},methods:{deleteEntry:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("applications/deleteLogEntry",{application:e.application,logEntry:e.logEntry});case 3:e.$router.go(-1),t.next=10;break;case 6:t.prev=6,t.t0=t["catch"](0),Object(m["a"])(t.t0)&&(e.errors=t.t0.response.data.errors),e.errors={a:t.t0.message};case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))()}}};n("9b6b");g.render=s;t["default"]=g},4069:function(e,t,n){var r=n("44d2");r("flat")},"48a9":function(e,t,n){"use strict";n("f059")},"9b6b":function(e,t,n){"use strict";n("a5cd")},a2bf:function(e,t,n){"use strict";var r=n("e8b5"),o=n("50c4"),c=n("0366"),a=function(e,t,n,i,l,s,u,d){var b,p=l,m=0,g=!!u&&c(u,d,3);while(m<i){if(m in n){if(b=g?g(n[m],m,t):n[m],s>0&&r(b))p=a(e,t,b,o(b.length),p,s-1)-1;else{if(p>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[p]=b}p++}m++}return p};e.exports=a},a5cd:function(e,t,n){},d80c:function(e,t,n){"use strict";n.r(t);n("b0c0");var r=n("7a23"),o=Object(r["createVNode"])("h2",null,"You are about to delete the following next action:",-1),c={key:0,class:"border-y py-2"},a={class:"ml-4 my-3 text-sm"},i=Object(r["createTextVNode"])(" Created on: "),l={class:"mb-4"},s={key:0,class:"ml-4 my-1 text-sm"},u=Object(r["createTextVNode"])(" Assigned to: "),d={key:0},b={key:1,class:"ml-4 mt-1 mb-4 text-sm"},p=Object(r["createTextVNode"])(" Target Date: "),m=Object(r["createVNode"])("div",null,"This can not be undone. Are you sure you want to continue?",-1);function g(e,t,n,g,j,O){var f=Object(r["resolveComponent"])("button-row");return Object(r["openBlock"])(),Object(r["createBlock"])("div",null,[o,O.nextAction?(Object(r["openBlock"])(),Object(r["createBlock"])("div",c,[Object(r["createVNode"])("div",a,[i,Object(r["createVNode"])("strong",null,Object(r["toDisplayString"])(O.formatDate(O.nextAction.created_at)),1)]),Object(r["createVNode"])("blockquote",l,[Object(r["createVNode"])("div",{innerHTML:O.nextAction.entry},null,8,["innerHTML"])]),O.nextAction.assignee?(Object(r["openBlock"])(),Object(r["createBlock"])("div",s,[u,Object(r["createVNode"])("strong",null,[O.nextAction.assigned_to_name?(Object(r["openBlock"])(),Object(r["createBlock"])("span",d,Object(r["toDisplayString"])(O.nextAction.assigned_to_name)+" in ",1)):Object(r["createCommentVNode"])("",!0),Object(r["createTextVNode"])(" "+Object(r["toDisplayString"])(O.nextAction.assignee.name),1)])])):Object(r["createCommentVNode"])("",!0),O.nextAction.target_date?(Object(r["openBlock"])(),Object(r["createBlock"])("div",b,[p,Object(r["createVNode"])("strong",null,Object(r["toDisplayString"])(O.formatDate(O.nextAction.target_date)),1)])):Object(r["createCommentVNode"])("",!0)])):Object(r["createCommentVNode"])("",!0),m,Object(r["createVNode"])(f,{onCanceled:t[1]||(t[1]=function(t){return e.$router.go(-1)}),onSubmitted:O.commitDelete,submitText:"Delete Log Entry"},null,8,["onSubmitted"])])}n("7db0"),n("0481"),n("4069"),n("07ac"),n("96cf");var j=n("1da1"),O=n("5530"),f=n("5502"),y=n("e328"),h=n("033d"),v={name:"ConfirmDeleteNextAction",props:{uuid:{required:!0,type:String},id:{required:!0,type:String}},data:function(){return{errors:{}}},computed:Object(O["a"])(Object(O["a"])({},Object(f["b"])({application:"applications/currentItem"})),{},{nextAction:function(){var e=this;if(!this.application.next_actions)return{};var t=this.application.next_actions.find((function(t){return t.id==e.id}));return t||{}},flattenedErrors:function(){return Object.values(this.errors).flat()},targetDate:function(){return Object(y["a"])(this.nextAction.targetDate)}}),watch:{nextAction:{immediate:!0,handler:function(){this.nextAction.id||this.$router.go(-1)}}},methods:{formatDate:function(e){return Object(y["a"])(e)},commitDelete:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("committing delete"),t.prev=1,t.next=4,e.$store.dispatch("applications/deleteNextAction",{application:e.application,nextAction:e.nextAction});case 4:e.$router.go(-1),t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](1),Object(h["a"])(t.t0)&&(e.errors=t.t0.response.data.errors),e.errors={a:t.t0.message};case 11:case"end":return t.stop()}}),t,null,[[1,7]])})))()}}};n("48a9");v.render=g;t["default"]=v},f059:function(e,t,n){}}]);
//# sourceMappingURL=confirm-delete-log-entry.70945baa.js.map