"use strict";(self["webpackChunkepam"]=self["webpackChunkepam"]||[]).push([[86],{8397:function(e,s,o){o.d(s,{Z:function(){return _}});var l=o(6252),t=o(3577);const n={key:0},r={class:"block-title"},i=(0,l.Uk)(" COI response for "),a={key:0},p={class:"text-sm response-data"},d={class:"flex-0"},u=(0,l._)("p",{class:"mb-2"},"This is a legacy response.",-1),c={key:1,class:"response-data"};function m(e,s,o,m,b,w){const f=(0,l.up)("dictionary-row");return w.response?((0,l.wg)(),(0,l.iD)("div",n,[(0,l._)("h2",r,[i,o.coi.data.first_name?((0,l.wg)(),(0,l.iD)("span",a,(0,t.zw)(e.titleCase(`${o.coi.data.first_name} ${o.coi.data.last_name}`))+" in ",1)):(0,l.kq)("",!0),(0,l.Uk)(" "+(0,t.zw)(o.group.name),1)]),(0,l._)("div",p,[(0,l.Wm)(f,{label:"Name","label-class":"font-bold"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,t.zw)(o.coi.data.first_name)+" "+(0,t.zw)(o.coi.data.last_name),1)])),_:1}),(0,l.Wm)(f,{label:"Email","label-class":"font-bold"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,t.zw)(o.coi.data.email),1)])),_:1}),w.response.document_uuid?((0,l.wg)(),(0,l.j4)(f,{key:0,label:"COI File","label-class":"font-bold"},{default:(0,l.w5)((()=>[(0,l._)("div",d,[u,(0,l._)("button",{class:"btn btn-xs",onClick:s[0]||(s[0]=e=>w.downloadDocument(w.response.download_url.response))}," Download the COI. ")])])),_:1})):(0,l.kq)("",!0),w.response.document_uuid?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",c,[(0,l.Wm)(f,{label:w.response.work_fee_lab.question,vertical:!0,"label-class":"font-bold"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,t.zw)(w.getQuestionValue(w.response.work_fee_lab.response)),1)])),_:1},8,["label"]),(0,l.Wm)(f,{label:w.response.contributions_to_gd_in_ep.question,vertical:!0,"label-class":"font-bold"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,t.zw)(w.getQuestionValue(w.response.contributions_to_gd_in_ep.response))+" ",1),1==w.response.contributions_to_gd_in_ep.response?((0,l.wg)(),(0,l.j4)(f,{key:0,label:w.response.contributions_to_genes.question,vertical:!0,class:"pb-1 mb-1 ml-4","label-class":"font-bold"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,t.zw)(w.getQuestionValue(w.response.contributions_to_genes.response)),1)])),_:1},8,["label"])):(0,l.kq)("",!0)])),_:1},8,["label"]),(0,l.Wm)(f,{label:w.response.independent_efforts.question,vertical:!0,"label-class":"font-bold"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,t.zw)(w.getQuestionValue(w.response.independent_efforts.response))+" ",1),[1,2].indexOf(w.response.independent_efforts.response)>-1?((0,l.wg)(),(0,l.j4)(f,{key:0,label:w.response.independent_efforts_details.question,vertical:!0,class:"pb-1 mb-1 ml-4 border-none","label-class":"font-bold"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,t.zw)(w.getQuestionValue(w.response.independent_efforts_details.response)),1)])),_:1},8,["label"])):(0,l.kq)("",!0)])),_:1},8,["label"]),(0,l.Wm)(f,{label:w.response.coi.question,vertical:!0,class:"pb-1 mb-1","label-class":"font-bold"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,t.zw)(w.getQuestionValue(w.response.coi.response))+" ",1),[1,2].indexOf(w.response.coi.response)>-1?((0,l.wg)(),(0,l.j4)(f,{key:0,label:w.response.coi_details.question,vertical:!0,class:"pb-1 mb-1 ml-4","label-class":"font-bold"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,t.zw)(w.getQuestionValue(w.response.coi_details.response)),1)])),_:1},8,["label"])):(0,l.kq)("",!0)])),_:1},8,["label"])]))])])):(0,l.kq)("",!0)}var b={props:{coi:{type:Object,required:!0},group:{type:Object,required:!0}},data(){return{}},computed:{isLegacy(){return!1},response(){return this.coi.response_document}},methods:{getQuestionValue(e){return 1===e?"Yes":0===e?"No":2===e?"Unsure":e},downloadDocument(e){window.location=e}}},w=o(3744);const f=(0,w.Z)(b,[["render",m]]);var _=f},1971:function(e,s,o){o.d(s,{Z:function(){return F}});var l=o(6252),t=o(3577);const n={key:0},r={key:0,class:"mb-4"},i={key:0},a=(0,l._)("h3",null,"You must complete a Conflict of Interest Disclosure for the following memberships:",-1),p={class:"my-2"},d={key:1},u=(0,l._)("h3",null,"Outstanding COI disclosures:",-1),c={key:1},m=(0,l._)("h3",null,"Completed & Current COI Disclosures",-1),b={key:0},w=["onClick"],f=(0,l.Uk)("   "),_=(0,l.Uk)("Update COI"),g={key:2},k=(0,l._)("h3",null,"Past COI Disclosures",-1),h={key:0},y=["onClick"],C=(0,l.Uk)("   "),v=(0,l.Uk)("Update COI"),D={key:3,class:"well"},q={key:1,class:"well"};function U(e,s,o,U,P,z){const W=(0,l.up)("router-link"),I=(0,l.up)("data-table"),x=(0,l.up)("coi-detail"),V=(0,l.up)("modal-dialog");return(0,l.wg)(),(0,l.iD)("div",null,[o.person.membershipsWithCoiRequirement.length>0?((0,l.wg)(),(0,l.iD)("div",n,[o.person.hasPendingCois?((0,l.wg)(),(0,l.iD)("div",r,[e.userIsPerson(o.person)?((0,l.wg)(),(0,l.iD)("div",i,[a,(0,l._)("div",p,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.person.membershipsWithPendingCois,(e=>((0,l.wg)(),(0,l.j4)(W,{key:e.id,class:"block my-0 font-bold p-2 border border-gray-300 first:rounded-t-lg last:rounded-b-lg cursor-pointer hover:bg-blue-50 link",to:U.getCoiRoute(e)},{default:(0,l.w5)((()=>[(0,l.Uk)((0,t.zw)(e.group.expert_panel.display_name),1)])),_:2},1032,["to"])))),128))])])):((0,l.wg)(),(0,l.iD)("div",d,[u,(0,l._)("ul",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.person.membershipsWithPendingCois,(e=>((0,l.wg)(),(0,l.iD)("li",{class:"list-disc ml-6",key:e.id},(0,t.zw)(e.group.expert_panel.display_name),1)))),128))])]))])):(0,l.kq)("",!0),o.person.hasCompletedCois?((0,l.wg)(),(0,l.iD)("section",c,[m,(0,l.Wm)(I,{fields:U.fields,data:o.person.membershipsWithCompletedCois,sort:U.coiSort,"onUpdate:sort":s[0]||(s[0]=e=>U.coiSort=e),class:"my-2"},{"cell-actions":(0,l.w5)((({item:s})=>[s.coi_last_completed?((0,l.wg)(),(0,l.iD)("div",b,[(0,l._)("button",{class:"btn btn-xs",onClick:e=>U.showCoiResponse(s)}," View response ",8,w),f,e.userIsPerson(o.person)?((0,l.wg)(),(0,l.j4)(W,{key:0,to:{name:"alt-coi",params:{code:s.group.expert_panel.coi_code,name:this.kebabCase(s.group.name)}},class:"btn btn-xs"},{default:(0,l.w5)((()=>[_])),_:2},1032,["to"])):(0,l.kq)("",!0)])):(0,l.kq)("",!0)])),_:1},8,["fields","data","sort"])])):(0,l.kq)("",!0),o.person.hasOutdatedCois?((0,l.wg)(),(0,l.iD)("section",g,[k,(0,l.Wm)(I,{fields:U.fields,data:o.person.membershipsWithOutdatedCois,sort:U.coiSort,"onUpdate:sort":s[1]||(s[1]=e=>U.coiSort=e),class:"my-2"},{"cell-actions":(0,l.w5)((({item:s})=>[s.coi_last_completed?((0,l.wg)(),(0,l.iD)("div",h,[(0,l._)("button",{class:"btn btn-xs",onClick:e=>U.showCoiResponse(s)},"View response",8,y),C,e.userIsPerson(o.person)?((0,l.wg)(),(0,l.j4)(W,{key:0,to:{name:"alt-coi",params:{code:s.group.expert_panel.coi_code,name:this.kebabCase(s.group.name)}},class:"btn btn-xs"},{default:(0,l.w5)((()=>[v])),_:2},1032,["to"])):(0,l.kq)("",!0)])):(0,l.kq)("",!0)])),_:1},8,["fields","data","sort"])])):(0,l.kq)("",!0),o.person.hasPending||o.person.completedCois?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",D," None of your memberships require a conflict of interest disclosure "))])):((0,l.wg)(),(0,l.iD)("div",q,"You are not required to complete conflict of interest disclsoures.")),((0,l.wg)(),(0,l.j4)(l.lR,{to:"body"},[(0,l.Wm)(V,{modelValue:U.showResponseDialog,"onUpdate:modelValue":s[2]||(s[2]=e=>U.showResponseDialog=e),size:"xl"},{default:(0,l.w5)((()=>[U.currentCoi?((0,l.wg)(),(0,l.j4)(x,{key:0,coi:U.currentCoi,group:U.currentGroup},null,8,["coi","group"])):(0,l.kq)("",!0)])),_:1},8,["modelValue"])]))])}var P=o(2262),z=o(8397),W=o(284),I=o(8661),x=o(865),V={name:"CoiList",components:{CoiDetail:z.Z},props:{person:{type:W.Z,required:!0}},setup(e){const s=(0,l.Fl)((()=>e.person.membershipsWithCompletedCois.map((e=>e.cois.map((s=>(s.group=e.group,s))))).filter((e=>null!==e.completed_at)).flat())),o=(0,l.Fl)((()=>!!e.person.memberships&&e.person.memberships.filter((e=>!(null!==e.cois&&0!==e.cois.length||!e.group.expert_panel))))),t=[{name:"group.name",label:"Group",type:String,sortable:!0},{name:"coi_last_completed",label:"Completed",sortable:!1,type:Date}],n=(0,l.Fl)((()=>{const s={name:"actions",sortable:!1},o={name:"latest_coi.id",label:"ID",sortable:!0};let l=[...t];return(0,x.Fs)("people-manage")?[o,...l,s]:(0,x.eS)(e.person)?[...l,s]:t})),r=(0,P.iH)({field:"group.name",desc:!1}),i=e=>({name:"alt-coi",params:{name:(0,I.GL)(e.group.name),code:e.group.expert_panel.coi_code}}),a=(0,P.iH)(null),p=(0,P.iH)(null),d=(0,P.iH)(!1),u=e=>{const s=e.cois[e.cois.length-1];a.value=s,p.value=e.group,d.value=!0};return{needsCoi:o,cois:s,coiFields:t,coiSort:r,currentCoi:a,currentGroup:p,showResponseDialog:d,showCoiResponse:u,getCoiRoute:i,fields:n}}},Z=o(3744);const j=(0,Z.Z)(V,[["render",U]]);var F=j},8944:function(e,s,o){o.d(s,{Z:function(){return x}});var l=o(6252),t=o(3577);const n=(0,l.Uk)(" Edit Info "),r={class:"flex space-x-4"},i={class:"mt-4 border-t pt-4"},a=(0,l._)("h3",null,"Profile",-1),p={class:"mt-4 border-t pt-4"},d={key:0},u={key:1},c={key:0},m=(0,l.Uk)(),b={key:1},w=(0,l.Uk)(),f={key:2},_={key:0,class:"mt-4 border-t pt-4"},g=(0,l._)("h3",null,"Metadata",-1),k={key:0},h={key:1,class:"pt-4 border-t mt-4"};function y(e,s,o,y,C,v){const D=(0,l.up)("edit-icon-button"),q=(0,l.up)("dictionary-row"),U=(0,l.up)("CredentialsView"),P=(0,l.up)("ExpertisesView"),z=(0,l.up)("profile-form"),W=(0,l.up)("modal-dialog");return(0,l.wg)(),(0,l.iD)("div",null,[e.userIsPerson(o.person)||e.hasPermission("people-manage")?((0,l.wg)(),(0,l.j4)(D,{key:0,class:"btn btn-sm float-right",onClick:v.editPerson},{default:(0,l.w5)((()=>[n])),_:1},8,["onClick"])):(0,l.kq)("",!0),(0,l._)("div",r,[(0,l._)("div",null,[((0,l.wg)(),(0,l.j4)((0,l.LL)(v.profilePhotoComponent),{person:o.person,style:{width:"120px"}},null,8,["person"]))]),(0,l._)("div",null,[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)(["name","email"],(s=>(0,l.Wm)(q,{class:"pb-2","label-class":"w-40",key:s,label:e.titleCase(s)},{default:(0,l.w5)((()=>[(0,l.Uk)((0,t.zw)(o.person[s]),1)])),_:2},1032,["label"]))),64)),(0,l._)("section",i,[a,(0,l._)("div",null,[(0,l.Wm)(q,{class:"pb-2","label-class":"w-40",label:"Institution"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,t.zw)(o.person.institutionName),1)])),_:1}),(0,l.Wm)(q,{class:"pb-2","label-class":"w-40",label:"Credentials"},{default:(0,l.w5)((()=>[(0,l.Wm)(U,{person:o.person},null,8,["person"])])),_:1}),(0,l.Wm)(q,{class:"pb-2","label-class":"w-40",label:"Expertise"},{default:(0,l.w5)((()=>[(0,l.Wm)(P,{person:o.person},null,8,["person"])])),_:1}),(0,l.Wm)(q,{class:"pb-2","label-class":"w-40",label:"Biography"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,t.zw)(o.person.biography),1)])),_:1})])]),(0,l._)("section",p,[(0,l.Wm)(q,{class:"pb-2",label:"Timezone"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,t.zw)(o.person.timezone),1)])),_:1}),(0,l.Wm)(q,{class:"pb-2","label-class":"w-40",label:"Address"},{default:(0,l.w5)((()=>[(0,l._)("div",null,[o.person.street1?((0,l.wg)(),(0,l.iD)("div",d,(0,t.zw)(o.person.street1),1)):(0,l.kq)("",!0),o.person.street2?((0,l.wg)(),(0,l.iD)("div",u,(0,t.zw)(o.person.street2),1)):(0,l.kq)("",!0),(0,l._)("div",null,[o.person.city?((0,l.wg)(),(0,l.iD)("span",c,(0,t.zw)(o.person.city)+",",1)):(0,l.kq)("",!0),m,o.person.state?((0,l.wg)(),(0,l.iD)("span",b,(0,t.zw)(o.person.state),1)):(0,l.kq)("",!0),w,o.person.zip?((0,l.wg)(),(0,l.iD)("span",f,(0,t.zw)(o.person.zip),1)):(0,l.kq)("",!0)])])])),_:1}),(0,l.Wm)(q,{class:"pb-2","label-class":"w-40",label:"Country"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,t.zw)(o.person.country?o.person.country.name:""),1)])),_:1}),(0,l.Wm)(q,{class:"pb-2","label-class":"w-40",label:"Phone"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,t.zw)(o.person.phone),1)])),_:1})]),e.hasPermission("people-manage")?((0,l.wg)(),(0,l.iD)("section",_,[g,(0,l.Wm)(q,{class:"pb-2","label-class":"w-40",label:"Uuid"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,t.zw)(o.person.uuid),1)])),_:1}),(0,l.Wm)(q,{class:"pb-2","label-class":"w-40",label:"Numeric ID"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,t.zw)(o.person.id),1)])),_:1}),(0,l.Wm)(q,{class:"pb-2","label-class":"w-40",label:"User ID"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,t.zw)(o.person.user_id||"Account not activated."),1)])),_:1}),o.person.invite?((0,l.wg)(),(0,l.j4)(q,{key:0,class:"pb-2","label-class":"w-40",label:"Invite Code"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,t.zw)(o.person.invite.code)+"   ",1),o.person.invite.redeemed_at?((0,l.wg)(),(0,l.iD)("span",k," redeemed on "+(0,t.zw)(e.formatDate(o.person.invite.redeemed_at)),1)):(0,l.kq)("",!0)])),_:1})):(0,l.kq)("",!0),((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)(["created_at","updated_at"],(s=>(0,l.Wm)(q,{class:"pb-2","label-class":"w-40",key:s,label:s},{default:(0,l.w5)((()=>[(0,l.Uk)((0,t.zw)(e.formatDate(o.person[s])),1)])),_:2},1032,["label"]))),64)),e.hasPermission("people-manage")||e.userIsPerson(o.person)?((0,l.wg)(),(0,l.iD)("div",h,[(0,l._)("button",{class:"btn btn-sm",onClick:s[0]||(s[0]=(...e)=>v.editPerson&&v.editPerson(...e))}," Edit Info ")])):(0,l.kq)("",!0)])):(0,l.kq)("",!0)])]),((0,l.wg)(),(0,l.j4)(l.lR,{to:"body"},[(0,l.Wm)(W,{modelValue:C.showEditForm,"onUpdate:modelValue":s[1]||(s[1]=e=>C.showEditForm=e),title:v.formDialogTitle},{default:(0,l.w5)((()=>[(0,l.Wm)(z,{person:o.person,onSaved:v.hideEditForm,onCanceled:v.hideEditForm},null,8,["person","onSaved","onCanceled"])])),_:1},8,["modelValue","title"])]))])}var C=o(284),v=o(2349),D=o(6570),q=o(5758),U=o(6350),P=o(4643),z={name:"PersonProfile",components:{ProfileForm:v.Z,ProfilePicture:D.Z,ProfilePhotoForm:q.Z,CredentialsView:U.Z,ExpertisesView:P.Z},props:{person:{type:C.Z,required:!0}},data(){return{showEditForm:!1}},computed:{formDialogTitle(){const e=this.userIsPerson(this.person)?"your":`${this.person.name}'s`;return`Edit ${e} information.`},profilePhotoComponent(){return this.hasPermission("people-manage")||this.userIsPerson(this.person)?q.Z:D.Z}},methods:{editPerson(){this.$store.commit("people/setCurrentItemIndex",this.person),this.showEditForm=!0},hideEditForm(){this.showEditForm=!1}}},W=o(3744);const I=(0,W.Z)(z,[["render",y]]);var x=I},6570:function(e,s,o){o.d(s,{Z:function(){return u}});var l=o(6252);const t={class:"border border-gray-300 bg-white overflow-hidden"},n=["src"];function r(e,s,o,r,i,a){return(0,l.wg)(),(0,l.iD)("div",t,[(0,l._)("img",{src:a.photoUrl,class:"w-full"},null,8,n)])}var i=o(284),a={name:"ProfilePicture",props:{person:{required:!0,type:i.Z}},data(){return{}},computed:{hasProfilePhoto(){return null!==this.person.profile_photo},photoUrl(){return this.hasProfilePhoto?`/profile-photos/${this.person.profile_photo}`:"/images/default_profile.jpg"}},methods:{}},p=o(3744);const d=(0,p.Z)(a,[["render",r]]);var u=d}}]);
//# sourceMappingURL=86.2f5b6899.js.map