{"version":3,"sources":["webpack:///./src/composables/router_aware_sort_and_filter.js","webpack:///./src/views/SummaryGcep.vue","webpack:///./src/views/SummaryGcep.vue?8ca6","webpack:///./src/views/SummaryVcep.vue","webpack:///./src/views/SummaryVcep.vue?b72d","webpack:///./src/components/applications/ApplicationsSummaryTable.vue","webpack:///./src/components/applications/ApplicationsSummaryTable.vue?d690"],"names":["defaultSort","router","useRouter","route","useRoute","console","log","field","desc","sort","computed","immediate","get","Object","keys","query","includes","Boolean","parseInt","set","sortObj","newSortQuery","newQuery","replace","path","filter","value","currentQuery","currentPath","updatedQuery","_createElementBlock","_createVNode","_component_applications_summary_table","ep-type-id","name","components","ApplicationsSummaryTable","__exports__","render","class","_createElementVNode","type","$setup","$event","placeholder","_component_checkbox","$options","label","_component_data_table","data","fields","filter-term","row-click-handler","row-class","style","ref","cell-contacts","_withCtx","item","_Fragment","_renderList","group","contacts","member","key","id","href","person","email","_hoisted_4","cell-latest_log_entry_description","innerHTML","_hoisted_5","cell-latest_pending_next_action_entry","_hoisted_6","props","expert_panel_type_id","Number","default","String","sortable","resolveValue","parent","isCompleted","current_step","resolveSort","Array","step","this","Date","mapGetters","applications","filteredData","showCompleted","date_completed","$route","$router","selectedFields","stepsToShow","showAllInfo","newValue","remainingHeight","height","methods","getApplications","params","with","where","length","$store","dispatch","goToApplication","push","uuid","mounted","setup","sortAndFilter"],"mappings":"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","file":"js/application-summary.59c79c18.js","sourcesContent":["import { useRouter, useRoute } from 'vue-router'\nimport {computed} from 'vue'\n\nexport default function (defaultSort = null) {\n    const router = useRouter()\n    const route = useRoute()\n    if (!defaultSort){\n        console.log('Warning: defaultSort is deprecated.  Please provide a sort object: {field: \"fieldname\", desc: boolean}')\n        defaultSort = (defaultSort) ? defaultSort : {field: 'name', desc: false}\n    }\n    \n    const sort = computed({\n        immediate: true,\n        get() {\n            if (Object.keys(route.query).includes('sort-field')) {\n                return {\n                    field: route.query['sort-field'],\n                    desc: Boolean(parseInt(route.query['sort-desc']))\n                }\n            }\n            return defaultSort;\n        },\n        set(sortObj) {\n            const newSortQuery = {'sort-field': sortObj.field, 'sort-desc': sortObj.desc ? 1 : 0}\n    \n            const newQuery = {\n                ...route.query, \n                ...newSortQuery\n            };\n    \n            router.replace({path: route.path, query: newQuery})\n        }\n    });\n    \n    const filter = computed({\n        set(value) {\n            let currentQuery = route.query;\n            let currentPath = route.path;\n    \n            let updatedQuery = {...currentQuery};\n    \n            if (!value) {\n                delete updatedQuery.filter;\n            } else {\n                updatedQuery = {...currentQuery, ...{'filter': value} };\n            }\n    \n            router.replace({path: currentPath, query: updatedQuery})\n        },\n        get() {\n            return route.query.filter\n        },\n        immediate: true\n    });\n\n    return {\n        sort,\n        filter\n    }\n}\n","<template>\n    <div>\n        <applications-summary-table :ep-type-id=\"1\"></applications-summary-table>\n    </div>\n</template>\n<script>\nimport ApplicationsSummaryTable from '@/components/applications/ApplicationsSummaryTable.vue'\n\nexport default {\n    name: 'GcepsSummary',\n    components: {\n        ApplicationsSummaryTable\n    },\n}\n</script>","import { render } from \"./SummaryGcep.vue?vue&type=template&id=e3b0923a\"\nimport script from \"./SummaryGcep.vue?vue&type=script&lang=js\"\nexport * from \"./SummaryGcep.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/yugen/code/epam/resources/app/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <div>\n        <applications-summary-table :ep-type-id=\"2\"></applications-summary-table>\n    </div>\n</template>\n<script>\nimport ApplicationsSummaryTable from '@/components/applications/ApplicationsSummaryTable.vue'\n\nexport default {\n    name: 'GcepsSummary',\n    components: {\n        ApplicationsSummaryTable\n    },\n}\n</script>","import { render } from \"./SummaryVcep.vue?vue&type=template&id=1b459891\"\nimport script from \"./SummaryVcep.vue?vue&type=script&lang=js\"\nexport * from \"./SummaryVcep.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/yugen/code/epam/resources/app/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <div>\n        <div class=\"flex justify-between\">\n            <div class=\"mb-1 flex space-x-2\">\n                <label>Filter: <input type=\"text\" class=\"sm\" v-model=\"filter\" placeholder=\"filter\"></label>\n                <checkbox \n                    v-model=\"showCompleted\"\n                    label=\"Show completed\"\n                />\n            </div>\n        </div>\n        <data-table \n            :data=\"filteredData\" \n            :fields=\"selectedFields\" \n            :filter-term=\"filter\" \n            :row-click-handler=\"goToApplication\"\n            row-class=\"cursor-pointer\"\n            v-model:sort=\"sort\"\n            :style=\"remainingHeight\"\n            class=\"overflow-auto text-xs\"\n            ref=\"table\"\n        >\n            <template v-slot:cell-contacts=\"{item}\">\n                <ul>\n                    <li v-for=\"member in item.group.contacts\" :key=\"member.id\">\n                        <small><a :href=\"`mailto:${member.person.email}`\" class=\"text-blue-500\">{{member.person.name}}</a></small>\n                    </li>\n                </ul>\n            </template>\n            <template v-slot:cell-latest_log_entry_description=\"{value}\">\n                <div v-html=\"value\"></div>\n            </template>\n            <template v-slot:cell-latest_pending_next_action_entry=\"{value}\">\n                <div v-html=\"value\"></div>\n            </template>\n        </data-table>\n    </div>\n</template>\n<script>\nimport { mapGetters } from 'vuex'\nimport sortAndFilter from '@/composables/router_aware_sort_and_filter'\n\nexport default {\n    name: 'SummaryVceps',\n    components: {\n    },\n    props: {\n        expert_panel_type_id: {\n            type: Number,\n            default: null\n        }\n    },\n    data() {\n        return {\n            fields: [\n                {\n                    name: 'name',\n                    label: 'Name',\n                    type: String,\n                    sortable: true\n                },\n                {\n                    name: 'group.parent.name',\n                    label: 'CDWG',\n                    type: String,\n                    sortable: true,\n                    resolveValue (item) {\n                        if (item.group && item.group.parent) {\n                            return item.group.parent.name\n                        }\n                        return '';\n                    }\n                },\n                {\n                    name: 'current_step',\n                    label: 'Step',\n                    type: Number,\n                    sortable: true,\n                    resolveValue (item) {\n                        return item.isCompleted ? 'Completed' : item.current_step\n                    },\n                    resolveSort (item) {\n                        return item.isCompleted ? 5 : item.current_step\n                    }\n                },\n                {\n                    name: 'contacts',\n                    label: 'Contacts',\n                    type: Array,\n                    sortable: false,\n                    class: ['min-w-40'],\n                    step: 1\n                },\n                {\n                    name: 'step_1_received_date',\n                    label: this.expert_panel_type_id == 2 ? 'Step 1 Received' : 'Application Received',\n                    type: Date,\n                    sortable: true,\n                    class: ['min-w-28'],\n                    step: 1\n\n                },\n                {\n                    name: 'step_1_approval_date',\n                    label: this.expert_panel_type_id == 2 ? 'Step 1 Approved' : 'Application Approved',\n                    type: Date,\n                    sortable: true,\n                    class: ['min-w-28'],\n                    step: 1\n                },\n                {\n                    name: 'step_2_approval_date',\n                    label: 'Step 2 Approved',\n                    type: Date,\n                    sortable: true,\n                    class: ['min-w-28'],\n                    step: 2\n                },\n                {\n                    name: 'step_3_approval_date',\n                    label: 'Step 3 Approved',\n                    type: Date,\n                    sortable: true,\n                    class: ['min-w-28'],\n                    step: 3\n                },\n                {\n                    name: 'step_4_received_date',\n                    label: 'Step 4 Received',\n                    type: Date,\n                    sortable: true,\n                    class: ['min-w-28'],\n                    step: 4\n                },\n                {\n                    name: 'step_4_approval_date',\n                    label: 'Step 4 Approved',\n                    type: Date,\n                    sortable: true,\n                    class: ['min-w-28'],\n                    step: 4\n                }\n            ]\n        }\n    },\n    computed: {\n        ...mapGetters({\n            applications: 'applications/all'\n        }),\n        filteredData() {\n            return this.applications\n                .filter(item => !this.expert_panel_type_id || item.expert_panel_type_id == this.expert_panel_type_id)\n                .filter(item => {\n                    if (!this.showCompleted) {\n                        return item.date_completed == null;\n                    }\n                    return true;\n                })\n        },\n        showCompleted: {\n            set(value) {\n                let currentQuery = this.$route.query;\n                let currentPath = this.$route.path;\n                \n                let updatedQuery = {...currentQuery};\n\n                if (!value) {\n                    delete updatedQuery['show-completed'];\n                } else {\n                    updatedQuery = {...currentQuery, ...{'show-completed': 1} };\n                }\n\n                this.$router.replace({path: currentPath, query: updatedQuery})\n            },\n            get() {\n                return Boolean(parseInt(this.$route.query['show-completed']))\n            },\n            immediate: true\n        },\n        selectedFields() {\n            const stepsToShow = this.expert_panel_type_id == 2 ? [1,2,3,4] : [1]\n            return this.fields.filter(field => !field.step || stepsToShow.includes(field.step))\n        },\n        showAllInfo: {\n            immediate: true,\n                get() {\n                    if (Object.keys(this.$route.query).includes('showAllInfo')) {\n                        return this.$route.query.showAllInfo\n                    }\n                    return 0\n                },\n                set(newValue) {\n                    const newQuery = {...this.$route.query};\n                    newQuery.showAllInfo = newValue\n\n                    this.$router.replace({path: this.$route.path, query: newQuery})\n                }            \n        },\n        remainingHeight () {\n            return {height: 'calc(100vh - 220px)'}\n        }\n    },\n    methods: {\n\n        getApplications () {\n            const params = {\n                with: [\n                    'group',\n                    'group.parent',\n                    'group.latestLogEntry',\n                    'latestPendingNextAction',\n                    'type',\n                    'group.contacts',\n                    'group.contacts.person',\n                ],\n            }\n\n            const where = {};\n\n            if (Object.keys(where).length > 0) {\n                params.where = where;\n            }\n\n            this.$store.dispatch('applications/getApplications', params);\n        },\n        goToApplication (item) {\n            this.$router.push({name: 'ApplicationDetail', params: {uuid: item.uuid}})\n        },\n    },\n    mounted () {\n        this.getApplications()\n    },\n    setup() {\n        const {sort, filter} = sortAndFilter();\n        // const showAllInfo = computedQueryParam('showAllInfo');\n\n        return {\n            sort,\n            filter,\n            // showAllInfo\n        }\n    }\n}\n</script>","import { render } from \"./ApplicationsSummaryTable.vue?vue&type=template&id=53f89991\"\nimport script from \"./ApplicationsSummaryTable.vue?vue&type=script&lang=js\"\nexport * from \"./ApplicationsSummaryTable.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/yugen/code/epam/resources/app/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}