"use strict";(self["webpackChunkepam"]=self["webpackChunkepam"]||[]).push([[105],{417:function(e,t,n){var a=n(2262),l=n(6252),o=n(3600);const r={internal:1,suggestion:2,requirement:3};t["Z"]=(e,t)=>{const n=(0,a.iH)([]),s=(0,l.Fl)((()=>n.value.filter((e=>!e.is_resolved)))),i=(0,l.Fl)((()=>s.value.filter((e=>e.comment_type_id==r.requirement)))),m=(0,l.Fl)((()=>s.value.filter((e=>e.comment_type_id==r.suggestion)))),c=(0,l.Fl)((()=>[...i.value,...m.value])),u=(0,l.Fl)((()=>s.value.filter((e=>e.comment_type_id==r.internal)))),d=e=>n.value.findIndex((t=>t.id==e.id)),p=async()=>{n.value=await o.Z.query({where:{subject_type:e,subject_id:t}})},v=e=>n.value.push(e),_=e=>n.value.splice(d(e),1),w=e=>n.value[d(e)]=e;return{subject:{type:e,id:t},comments:n,openComments:s,openRequirements:i,openSuggestions:m,openInternal:u,getComments:p,addComment:v,removeComment:_,updateComment:w,commentsForEp:c}}},6381:function(e,t,n){n.d(t,{Z:function(){return l}});var a=n(9028);class l{constructor(e,t={}){this.baseUrl=e,this.options=t}query(e){const t=(0,a.nZ)(e);return a.hi.get(this.baseUrl+t).then((e=>this.transformToEntity(e.data)))}find(e){return a.hi.get(`${this.baseUrl}/${e}`).then((e=>this.transformToEntity(e.data)))}save(e){return a.hi.post(this.baseUrl,e).then((e=>this.transformToEntity(e.data)))}update(e){return a.hi.put(`${this.baseUrl}/${e.id}`,e).then((e=>this.transformToEntity(e.data)))}destroy(e){return a.hi["delete"](`${this.baseUrl}/${e.id}`)}transformToEntity(e){return this.options.entityClass&&Array.isArray(e)?e.map((e=>new this.options.entityClass(e))):e}}},3600:function(e,t,n){var a=n(6381),l=n(9028);const o=new a.Z("/api/comments");o.resolve=e=>l.hi.post(`/api/comments/${e}/resolved`).then((e=>e.data)),o.unresolve=e=>l.hi.post(`/api/comments/${e}/unresolved`).then((e=>e.data)),t["Z"]=o},7411:function(e,t,n){n.d(t,{Z:function(){return W}});var a=n(6252),l=n(2262),o=n(3577),r=n(3907),s=n(1234),i=n(6350),m=n(4643),c={__name:"ReviewMembership",props:{members:{required:!0,type:Array}},setup(e){const t=e,n={Chair:1,Coordinator:2,Biocurator:3,Expert:4},r=e=>n[e.display_name]??1/0,s=(0,l.iH)({field:"roles",desc:!1}),c=(e,t)=>{let n=e.last_name.localeCompare(t.last_name);return 0===n&&(n=e.first_name.localeCompare(t.first_name)),n},u=(0,l.iH)([{name:"name",sortable:!0,label:"Name",sortFunction:c},{name:"legacy_credentials",sortable:!1,label:"Credentials"},{name:"roles",sortable:!0,label:"Roles",sortFunction:(e,t)=>e.role_priority-t.role_priority},{name:"legacy_expertise",sortable:!1,label:"Expertise"},{name:"institution",sortable:!1,label:"Institution"}]),d=(0,a.Fl)((()=>t.members.map((e=>{const t=e.roles.toSorted(((e,t)=>e.id-t.id));return{id:e.id,first_name:e.person.first_name,last_name:e.person.last_name,name:e.person.name,institution:e.person.institution?.name,legacy_credentials:e.person.legacy_credentials,legacy_expertise:e.legacy_expertise,roles:t,role_priority:Math.min(...t.map(r)),active:e.isActive,person:e.person}})).filter((e=>e.active)))),p=(e,t)=>{e[t]||(e[t]=0),e[t]++},v=(0,a.Fl)((()=>{const e={};return e["Total"]=d.value.length,console.log(d.value),Object.keys(n).forEach((t=>e[t]=0)),d.value.forEach((t=>{t.roles.forEach((t=>p(e,t.display_name))),0===t.roles.length&&p(e,"None")})),e}));return(e,t)=>{const n=(0,a.up)("data-table");return(0,a.wg)(),(0,a.iD)("div",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,l.SU)(v),((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t},[(0,a._)("span",null,(0,o.zw)(t)+": "+(0,o.zw)(e),1)])))),128)),(0,a.Wm)(n,{fields:u.value,data:(0,l.SU)(d),sort:s.value,"onUpdate:sort":t[0]||(t[0]=e=>s.value=e),class:"text-xs"},{"cell-roles":(0,a.w5)((({item:e})=>[(0,a._)("span",null,(0,o.zw)(e.roles.map((e=>e.display_name)).join(", ")),1)])),"cell-legacy_credentials":(0,a.w5)((({item:e})=>[(0,a.Wm)(i.Z,{person:e.person},null,8,["person"])])),"cell-legacy_expertise":(0,a.w5)((({item:e})=>[(0,a.Wm)(m.Z,{person:e.person,legacyExpertise:e.legacy_expertise},null,8,["person","legacyExpertise"])])),_:1},8,["fields","data","sort"])])}}};const u=c;var d=u,p=n(5699);const v={class:"space-y-4"},_={key:0,class:"mt-6"},w=(0,a._)("h4",null,"Expertise of VCEP members",-1),y=(0,a._)("h3",null,"Genes",-1),b={class:"mb-6"},g={key:0},f=(0,a._)("h3",null,"Description of scope",-1),h={class:"flex-none"},k={key:0,class:"mt-1"},U=(0,a._)("em",null,"Details:",-1);var S={__name:"DefinitionReview",setup(e){const t=(0,r.oR)(),n=(0,a.Fl)((()=>t.getters["groups/currentItemOrNew"])),i=(0,a.Fl)((()=>n.value.expert_panel)),m=(0,a.Fl)((()=>n.value?n.value.members:[])),c=(0,a.Fl)((()=>({type:n.value.type.name?n.value.type.name.toUpperCase():"",long_base_name:i.value.long_base_name,short_base_name:i.value.short_base_name})));return(e,t)=>{const r=(0,a.up)("object-dictionary"),u=(0,a.up)("dictionary-row"),S=(0,a.up)("markdown-block"),C=(0,a.up)("simple-table");return(0,a.wg)(),(0,a.iD)("div",v,[(0,a.Wm)(s.Z,{title:"Basic Information",name:"basic-info"},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{obj:(0,l.SU)(c),"label-class":"w-40 font-bold"},null,8,["obj"]),(0,a.Wm)(u,{label:"CDWG","label-class":"w-40 font-bold"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)((0,l.SU)(n).parent?(0,l.SU)(n).parent.name:"--"),1)])),_:1})])),_:1}),(0,a.Wm)(s.Z,{title:"Membership",name:"membership"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{members:(0,l.SU)(m)},null,8,["members"]),(0,l.SU)(n).isVcep()?((0,a.wg)(),(0,a.iD)("div",_,[w,(0,a._)("blockquote",null,[(0,a.Wm)(S,{markdown:(0,l.SU)(i).membership_description},null,8,["markdown"])])])):(0,a.kq)("",!0)])),_:1}),(0,a.Wm)(s.Z,{title:"Scope",name:"scope"},{default:(0,a.w5)((()=>[y,(0,a._)("div",b,[(0,l.SU)(n).isGcep()?((0,a.wg)(),(0,a.iD)("p",g,(0,o.zw)((0,l.SU)(i).genes.map((e=>e.gene_symbol)).join(", ")),1)):(0,a.kq)("",!0),(0,l.SU)(n).isVcep()?((0,a.wg)(),(0,a.j4)(C,{key:1,data:(0,l.SU)(i).genes.map((e=>({id:e.id,gene:e.gene_symbol,disease:e.disease_name}))),"key-by":"id","hide-columns":["id"]},null,8,["data"])):(0,a.kq)("",!0)]),f,(0,a._)("blockquote",null,[(0,a.Wm)(S,{markdown:(0,l.SU)(i).scope_description},null,8,["markdown"])])])),_:1}),(0,l.SU)(n).isGcep()?((0,a.wg)(),(0,a.j4)(s.Z,{key:0,title:"Plans",name:"plans"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{label:"Selected protocol","label-class":"w-48 font-bold"},{default:(0,a.w5)((()=>[(0,a._)("div",h,[(0,a.Uk)((0,o.zw)((0,l.SU)(i).curation_review_protocol?e.titleCase((0,l.SU)(i).curation_review_protocol.full_name):null)+" ",1),100==(0,l.SU)(i).curation_review_protocol_id?((0,a.wg)(),(0,a.iD)("p",k,[U,(0,a.Uk)(" "+(0,o.zw)((0,l.SU)(i).curation_review_protocol_other),1)])):(0,a.kq)("",!0)])])),_:1})])),_:1})):(0,a.kq)("",!0),(0,l.SU)(n).isGcep()?((0,a.wg)(),(0,a.j4)(s.Z,{key:1,title:"Attestations",name:"attestations"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{label:"GCEP Attestation Signed","label-class":"w-52 font-bold"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)((0,l.SU)(p.p6)((0,l.SU)(i).gcep_attestation_date)),1)])),_:1}),(0,a.Wm)(u,{label:"GCI Training Date","label-class":"w-52 font-bold"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)((0,l.SU)(p.p6)((0,l.SU)(i).gci_training_date)),1)])),_:1}),(0,a.Wm)(u,{label:"NHGRI Attestation Signed","label-class":"w-52 font-bold"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)((0,l.SU)(p.p6)((0,l.SU)(i).nhgri_attestation_date)),1)])),_:1})])),_:1})):(0,a.kq)("",!0),(0,l.SU)(n).isVcep()?((0,a.wg)(),(0,a.j4)(s.Z,{key:2,title:"Attestations",name:"attestations"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{label:"Reanalysis and Discrepancy Resolution Attestation Signed","label-class":"w-52 font-bold"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)((0,l.SU)(p.p6)((0,l.SU)(i).reanalysis_attestation_date)),1)])),_:1}),(0,a.Wm)(u,{label:"NHGRI Attestation Signed","label-class":"w-60 font-bold"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)((0,l.SU)(p.p6)((0,l.SU)(i).nhgri_attestation_date)),1)])),_:1})])),_:1})):(0,a.kq)("",!0)])}}};const C=S;var W=C},1234:function(e,t,n){n.d(t,{Z:function(){return ee}});var a=n(6252),l=n(3577),o=n(2262),r=n(9963),s=n(3907),i=n(9028);class m{constructor(e,t){this.fields=e,this.repo=t,this.currentItem=(0,o.iH)({}),this.originalItem=(0,o.iH)({}),this.errors=(0,o.iH)({})}async find(e){return await this.repo.find(e).then((e=>(this.currentItem.value=e,this.originalItem.value=e,e)))}async save(e){this.clearErrors();try{const t=await this.repo.save(e);return this.clearCurrentItem(),t}catch(t){throw(0,i.z1)(t)&&(this.errors.value=t.response.data.errors),t}}async update(e){this.clearErrors();try{return this.currentItem.value=this.repo.update(e),this.currentItem.value}catch(t){throw(0,i.z1)(t)&&(this.errors.value=t.response.data.errors),t}}async destroy(e){this.repo.destroy(e)}cancel(){this.clearErrors(),this.currentItem.value.id||this.clearCurrentItem()}clearCurrentItem(){this.currentItem.value={}}clearErrors(){this.errors.value={}}}var c=m,u=n(3600),d=n(6381);class p extends d.Z{constructor(e,t={}){super(e,t),this.cachedList=null}query(e){if(!this.cachedList){const t=super.query(e);this.cachedList=t}return this.cachedList}find(e){throw Error("CommentTypeRepository.find not implemented")}save(e){throw Error("CommentTypeRepository.save not implemented")}update(e){throw Error("CommentTypeRepository.update not implemented")}destroy(e){throw Error("CommentTypeRepository.destroy not implemented")}}const v=new p("/api/comment-types");var _=v;const w=(0,o.iH)([]),y=async()=>await _.query().then((e=>(w.value=e.map((e=>({label:e.name,value:e.id}))),w.value))),b=(0,o.iH)([{name:"comment_type_id",label:"Type",type:"select",options:w,required:!0},{name:"content",label:"Comment",type:"large-text",required:!0}]);var g=()=>(y(),new c(b,u.Z)),f={__name:"ReviewCommentForm",props:{commentManager:{type:Object,required:!0},section:{type:[String,null],default:null},subjectType:{type:String,default:"App\\Modules\\Group\\Models\\Group"},subjectId:{type:Number,required:!1},comment:{type:Object},onlyInternal:{type:Boolean,default:!1}},emits:["saved","canceled"],setup(e,{emit:t}){const n=e,l=(0,a.f3)("group");(0,a.bv)((()=>{n.comment&&(r.currentItem.value=n.comment)}));const r=g(),s=(0,a.Fl)((()=>{const e=[...r.fields.value];if(n.onlyInternal){const t=e.findIndex((e=>"comment_type_id"==e.name));e.splice(t,1)}return e})),i=(0,a.Fl)((()=>r.errors.value)),m=(0,a.Fl)({get(){return r.currentItem.value},set(e){r.currentItem.value=e}}),c=()=>{r.clearCurrentItem(),r.clearErrors(),t("canceled")},u=()=>{m.value.subject_type=n.subjectType,m.value.subject_id=n.subjectId||l.value.id,m.value.metadata={section:n.section,root_subject_type:"App\\Modules\\Group\\Models\\Group",root_subject_id:l.value.id},n.onlyInternal&&(m.value.comment_type_id=1),r.save(m.value).then((e=>{n.commentManager.addComment(e),t("saved",e)}))},d=()=>{n.onlyInternal&&(m.value.comment_type_id=1),r.update(m.value).then((e=>{n.commentManager.updateComment(e),t("saved",e)}))},p=()=>{m.value.id?d():u()};return(e,t)=>{const n=(0,a.up)("data-form"),l=(0,a.up)("button-row");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(n,{fields:(0,o.SU)(s),modelValue:(0,o.SU)(m),"onUpdate:modelValue":t[0]||(t[0]=e=>(0,o.dq)(m)?m.value=e:null),errors:(0,o.SU)(i)},null,8,["fields","modelValue","errors"]),(0,a.Wm)(l,{size:"xs","submit-text":"Save",onSubmitted:p,onCanceled:c})])}}};const h=f;var k=h,U=n(2839),S=n(417),C=n(865);const W={class:"my-2"},x={class:"comment-container"},j={key:0,class:"relative"},q={class:"flex justify-between items-start mb-1 rounded"},I={class:"flex space-x-2 items-end"},M={class:"block"},D={class:"flex space-x-2"},z=(0,a.Uk)("Edit"),E=(0,a.Uk)("Delete"),F=(0,a.Uk)("Reply"),R=(0,a.Uk)(" Continue with delete? "),Z={class:"replies ml-1"},H={key:0},T={class:"border-l-2 mt-2 px-2 py-1 bg-gray-100 bg-opacity-50"},A=(0,a._)("strong",null,"Your Reply",-1);var G={__name:"ReviewComment",props:{comment:{type:Object,required:!0},commentManager:{type:Object,required:!0}},emits:["created","updated","resolved","unresolved","deleted"],setup(e,{emit:t}){const n=e,i=(0,s.oR)(),m=g(),c=(0,o.iH)((0,S.Z)("App\\Models\\Comment",n.comment.id)),d=(0,o.iH)(!1),p=(0,o.iH)(!1),v=e=>{if(!e.type)return"gray";switch(e.type.name){case"required revision":return"yellow";case"suggestion":return"blue";case"internal comment":return"gray";default:break}},_=()=>{p.value=!0},w=()=>{m.destroy(n.comment).then((()=>{p.value=!1,n.commentManager.removeComment(n.comment),t("deleted",n.comment)}))},y=async()=>{if(n.comment.is_resolved){const e=await u.Z.unresolve(n.comment.id);return n.commentManager.updateComment(e),t("updated"),void t("resolved")}const e=await u.Z.resolve(n.comment.id);n.commentManager.updateComment(e),t("updated"),t("unresolved")},b=(0,o.iH)(!1),f=async()=>{b.value||h(),b.value=!b.value},h=()=>{c.value.getComments().then((e=>(b.value=!0,e)))},G=(0,o.iH)(!1),$=()=>G.value=!0,B=()=>{const e={...n.comment};e.comments_count+=1,n.commentManager.updateComment(e),b.value=!0,G.value=!1},N=()=>{const e={...n.comment};e.comments_count-=1,n.commentManager.updateComment(e)};(0,a.bv)((()=>{c.value.getComments()}));const O=(0,a.Fl)((()=>(0,C.Fs)("comments-manage")||i.getters.currentUser.person.id==n.comment.creator_id));return(t,n)=>{const s=(0,a.up)("badge"),i=(0,a.up)("icon-checkmark"),m=(0,a.up)("popper"),u=(0,a.up)("dropdown-menu"),g=(0,a.up)("markdown-block"),h=(0,a.up)("icon-reply"),S=(0,a.up)("button-row"),C=(0,a.up)("static-alert"),V=(0,a.up)("ReviewComment",!0);return(0,a.wg)(),(0,a.iD)("div",W,[(0,a._)("div",x,[d.value?((0,a.wg)(),(0,a.j4)(k,{key:1,onCanceled:n[2]||(n[2]=e=>d.value=!1),onSaved:n[3]||(n[3]=e=>d.value=!1),comment:e.comment,commentManager:e.commentManager},null,8,["comment","commentManager"])):((0,a.wg)(),(0,a.iD)("div",j,[(0,a._)("div",q,[(0,a._)("div",I,[(0,a._)("strong",M,(0,l.zw)(e.comment.creator&&e.comment.creator.name),1),(0,a.Wm)(s,{class:"block",color:v(e.comment),size:"xxs"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(e.comment.type&&t.titleCase(e.comment.type.name)),1)])),_:1},8,["color"]),e.comment.is_resolved?((0,a.wg)(),(0,a.j4)(m,{key:0,hover:"",arrow:"",content:"Resolved"},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{class:"text-green-500",title:"Resolved"})])),_:1})):(0,a.kq)("",!0)]),(0,a._)("div",D,[(0,o.SU)(O)?((0,a.wg)(),(0,a.j4)(u,{key:0,hideCheveron:""},{default:(0,a.w5)((()=>[(0,a.Wm)(U["default"],{onClick:n[0]||(n[0]=e=>d.value=!0)},{default:(0,a.w5)((()=>[z])),_:1}),(0,a.Wm)(U["default"],{onClick:y},{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(e.comment.is_resolved?"Mark unresolved":"Resolve"),1)])),_:1}),(0,a.Wm)(U["default"],{onClick:_},{default:(0,a.w5)((()=>[E])),_:1})])),_:1})):(0,a.kq)("",!0)])]),(0,a.Wm)(g,{markdown:e.comment.content,class:"text-sm"},null,8,["markdown"]),(0,a._)("button",{class:"link",onClick:$},[(0,a.Wm)(h,{class:"inline-block"}),F]),(0,a.wy)((0,a.Wm)(C,{variant:"danger",class:""},{default:(0,a.w5)((()=>[R,(0,a.Wm)(S,{size:"xs","submit-text":"Yes, delete",onSubmitted:w,onCanceled:n[1]||(n[1]=e=>p.value=!1),submitVariant:"red"})])),_:1},512),[[r.F8,p.value]])]))]),(0,a._)("div",Z,[b.value?((0,a.wg)(),(0,a.iD)("ul",H,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(c.value.comments,(e=>((0,a.wg)(),(0,a.iD)("li",{key:e.id,class:"border-l-2 mt-2 px-2 py-1 bg-gray-100 bg-opacity-50"},[(0,a.Wm)(V,{comment:e,commentManager:c.value,onDeleted:N},null,8,["comment","commentManager"])])))),128))])):(0,a.kq)("",!0),e.comment.comments_count>0?((0,a.wg)(),(0,a.iD)("button",{key:1,class:"link text-sm",onClick:f},(0,l.zw)(b.value?"Hide":"Show")+" "+(0,l.zw)(e.comment.comments_count)+" "+(0,l.zw)(e.comment.comments_count>1?"replies":"reply"),1)):(0,a.kq)("",!0),(0,a.wy)((0,a._)("div",T,[A,(0,a.Wm)(k,{subjectType:"App\\Models\\Comment",subjectId:e.comment.id,onlyInternal:!0,commentManager:c.value,onSaved:B,onCanceled:n[4]||(n[4]=e=>G.value=!1)},null,8,["subjectId","commentManager"])],512),[[r.F8,G.value]])])])}}};const $=G;var B=$;const N={class:"lg:flex lg:space-x-4 screen-block"},O={class:"flex justify-between items-start space-x-4"},V={key:0,class:"flex justify-between items-center lg:w-2/5 px-2 py-1 pb-0 bg-gray-100 rounded-lg"},Y=(0,a.Uk)(" Comments "),P={class:"lg:w-2/5 p-2 bg-gray-100 rounded-lg mb-2"},L={class:"flex justify-between items-center"},K=(0,a.Uk)(" Comments "),J={class:"bg-white mt-2 p-2"};var Q={__name:"ReviewSection",props:{title:{type:String||null,default:null},name:{type:String||null,default:null}},setup(e){const t=e,n=(0,a.f3)("commentManager"),s=(0,o.iH)(!1),i=(0,o.iH)(!0),m=(0,a.Fl)((()=>n?n.value.comments.filter((e=>!!e.metadata&&e.metadata.section==t.name)):[])),c=(0,a.Fl)((()=>n?m.value.find((e=>"required revision"==e.type.name))?"yellow":m.value.find((e=>"suggestion"==e.type.name))?"blue":"gray":null));return(t,u)=>{const d=(0,a.up)("icon-cheveron-right"),p=(0,a.up)("badge"),v=(0,a.up)("icon-cheveron-down");return(0,a.wg)(),(0,a.iD)("section",N,[(0,a._)("div",{class:(0,l.C_)(["overflow-x-auto flex-grow",{"lg:w-3/5":i.value}])},[(0,a._)("header",O,[(0,a._)("h2",{class:(0,l.C_)(["flex-grow",{"lg:w-3/5":!i.value}])},(0,l.zw)(e.title),3),(0,o.SU)(n)?(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",V,[(0,a._)("h3",null,[(0,a.Wm)(d,{class:"inline cursor-pointer",onClick:u[0]||(u[0]=e=>i.value=!0)}),Y,(0,a.Wm)(p,{color:(0,o.SU)(c)},{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)((0,o.SU)(m).length),1)])),_:1},8,["color"])])],512)),[[r.F8,!i.value]]):(0,a.kq)("",!0)]),(0,a._)("div",null,[(0,a._)("div",null,[(0,a.WI)(t.$slots,"default")])])],2),(0,a.wy)((0,a._)("div",P,[(0,a._)("div",L,[(0,a._)("h3",null,[(0,a.Wm)(v,{class:"inline cursor-pointer",onClick:u[1]||(u[1]=e=>i.value=!1)}),K])]),(0,a._)("ul",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,o.SU)(m),(e=>((0,a.wg)(),(0,a.iD)("li",{key:e.id,class:"bg-white p-2"},[(0,a.Wm)(B,{comment:e,commentManager:(0,o.SU)(n)},null,8,["comment","commentManager"])])))),128))]),(0,a._)("div",J,[s.value?((0,a.wg)(),(0,a.j4)(k,{key:0,section:e.name,commentManager:(0,o.SU)(n),onSaved:u[2]||(u[2]=e=>s.value=!1),onCanceled:u[3]||(u[3]=e=>s.value=!1)},null,8,["section","commentManager"])):((0,a.wg)(),(0,a.iD)("button",{key:1,class:"btn btn-xs block",onClick:u[4]||(u[4]=e=>s.value=!0)},"Add comment"))])],512),[[r.F8,i.value&&(0,o.SU)(n)]])])}}};const X=Q;var ee=X},3496:function(e,t,n){n.d(t,{Z:function(){return _}});var a=n(6252),l=n(2262),o=n(3577),r=n(9955),s=n(3907),i=n(1234);const m={class:"application-review p-2 bg-gray-100"},c={class:"w-full"},u={key:0,class:"mt-1"},d=(0,a._)("em",null,"Details:",-1);var p={__name:"SustainedCurationReview",setup(e){const t=(0,s.oR)(),n=(0,a.Fl)((()=>t.getters["groups/currentItemOrNew"])),p=(0,a.Fl)((()=>n.value.expert_panel));return(0,a.YP)((()=>n.value),((e,a)=>{!e.id||a&&e.id==a.id||t.dispatch("groups/getEvidenceSummaries",n.value)})),(e,t)=>{const s=(0,a.up)("dictionary-row"),v=(0,a.up)("markdown-block");return(0,a.wg)(),(0,a.iD)("div",m,[(0,l.SU)(p).has_approved_pilot?((0,a.wg)(),(0,a.j4)(i.Z,{key:0,title:"Plans for Ongoing Review and Discrepancy Resolution",name:"discrepency-review"},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{label:"Selected protocol",labelWidthClass:"w-48 font-bold"},{default:(0,a.w5)((()=>[(0,a._)("div",c,[(0,a.Uk)((0,o.zw)((0,l.SU)(p).curation_review_protocol?e.titleCase((0,l.SU)(p).curation_review_protocol.full_name):null)+" ",1),100==(0,l.SU)(p).curation_review_protocol_id?((0,a.wg)(),(0,a.iD)("p",u,[d,(0,a.Uk)(" "+(0,o.zw)((0,l.SU)(p).curation_review_protocol_other),1)])):(0,a.kq)("",!0)])])),_:1}),(0,a.Wm)(s,{label:"Notes",labelWidthClass:"w-48 font-bold"},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{markdown:(0,l.SU)(p).curation_review_process_notes},null,8,["markdown"])])),_:1})])),_:1})):(0,a.kq)("",!0),(0,l.SU)(p).has_approved_pilot?((0,a.wg)(),(0,a.j4)(i.Z,{key:1,title:"Evidence Summaries",name:"evidence-summaries"},{default:(0,a.w5)((()=>[(0,a.Wm)(r.Z,{readonly:!0})])),_:1})):(0,a.kq)("",!0),(0,l.SU)(p).has_approved_pilot?((0,a.wg)(),(0,a.j4)(i.Z,{key:2,title:"Core Approval Member, Trained Biocurator, and Biocurator Trainer Designation",name:"member-designation"},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{label:"Core Approval Members",labelWidthClass:"w-48 font-bold"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)((0,l.SU)(n).coreApprovalMembers.map((e=>e.person.name)).join(", ")),1)])),_:1}),(0,a.Wm)(s,{label:"Biocurator Trainers",labelWidthClass:"w-48 font-bold"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)((0,l.SU)(n).biocuratorTrainers.map((e=>e.person.name)).join(", ")),1)])),_:1}),(0,a.Wm)(s,{label:"Trained Biocurators",labelWidthClass:"w-48 font-bold"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)((0,l.SU)(n).trainedBiocurators.map((e=>e.person.name)).join(", ")),1)])),_:1})])),_:1})):(0,a.kq)("",!0)])}}};const v=p;var _=v}}]);
//# sourceMappingURL=105.6aaf2a93.js.map