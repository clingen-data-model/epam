{"version":3,"sources":["webpack:///./src/components/applications/CreateApplicationForm.vue","webpack:///./src/components/applications/CreateApplicationForm.vue?f0ad"],"names":["class","value","for","label","errors","working_name","type","app","placeholder","cdwg_id","cdwgs","cdwg","key","id","name","ep_type_id","epTypes","epType","date_initiated","showInitiationDate","cancel","save","props","emits","data","visible","Date","computed","hasErrors","Object","keys","this","length","watch","clearErrors","methods","initForm","$emit","$store","dispatch","response","status","console","error","initErrors","initAppData","fieldName","info","render"],"mappings":"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","file":"js/create-application-form.7e16a7f6.js","sourcesContent":["<template>\n    <div>\n        <h4 class=\"text-xl font-semibold pb-2 border-b mb-4\">Initiate Application</h4>\n        <input-row label=\"Working Name\" :errors=\"errors.working_name\">\n            <input type=\"text\" \n                v-model=\"this.app.working_name\" \n                placeholder=\"A recognizable name\"\n            >\n        </input-row>\n        <input-row label=\"CDWG\" :errors=\"errors.cdwg_id\">\n            <select v-model=\"app.cdwg_id\">\n                <option :value=\"null\">Select...</option>\n                <option v-for=\"cdwg in cdwgs\" :key=\"cdwg.id\" :value=\"cdwg.id\">{{cdwg.name}}</option>\n            </select>\n        </input-row>\n        <input-row label=\"EP Type\" :errors=\"errors.ep_type_id\">\n            <div>\n                <div\n                    v-for=\"epType in epTypes\" \n                    :key=\"epType.id\" \n                >\n                    <input \n                        type=\"radio\" \n                        :value=\"epType.id\" \n                        v-model=\"app.ep_type_id\"\n                        :id=\"`ep-${epType.id}-radio`\"\n                    >\n                    &nbsp;\n                    <label :for=\"`ep-${epType.id}-radio`\">{{epType.name}}</label>\n                </div>\n            </div>\n        </input-row>\n        <input-row :errors=\"errors.date_initiated\">\n            <div>\n                <div>\n                    <input type=\"checkbox\" v-model=\"showInitiationDate\" id=\"show-initiation-checkbox\">\n                    &nbsp;\n                    <label for=\"show-initiation-checkbox\">Backdate this initiation</label>\n                </div>\n                <input-row label=\"Initiation Date\" v-show=\"showInitiationDate\">\n                    <input type=\"date\" v-model=\"app.date_initiated\">\n                </input-row>\n            </div>\n        </input-row>\n        <button-row>\n            <button class=\"btn\" @click=\"cancel\">Cancel</button>\n            <button class=\"btn blue\" @click=\"save\">Initiate Application</button>\n        </button-row>\n    </div>\n</template>\n<script>\nimport { formatDate } from '../../date_utils'\n\nexport default {\n    name: 'CreateApplicationForm',\n    props: {\n        \n    },\n    emits: [\n        'canceled',\n        'saved',\n    ],\n    data() {\n        return {\n            visible: false,\n            showInitiationDate: false,\n            app: {\n                working_name: null,\n                cdwg_id: null,\n                ep_type_id: null,\n                date_initiated: formatDate(new Date())\n            },\n            cdwgs: [\n                { name: 'test', id: 1},\n                { name: 'beans', id: 2},\n            ],\n            epTypes: [\n                {name: 'GCEP', id: 1},\n                {name: 'VCEP', id: 2}\n            ],\n            errors: {}\n        }\n    },\n    computed: {\n        hasErrors() {\n            return Object.keys(this.errors).length > 0;\n        }\n    },\n    watch: {\n        'app.working_name': function () {\n            this.clearErrors('working_name')\n        },\n        'app.cdwg_id': function () {\n            this.clearErrors('cdwg_id')\n        },\n        'app.ep_type_id': function () {\n            this.clearErrors('ep_type_id')\n        }\n    },\n    methods: {\n        cancel() {\n            this.initForm();\n            this.$emit('canceled');\n        },\n        async save() {\n            try {\n                await this.$store.dispatch('initiateApplication', this.app)\n                this.$emit('saved');\n            } catch (error) {\n                if (error.response && error.response.status == 422 && error.response.data.errors) {\n                    this.errors = error.response.data.errors\n                    return;\n                }\n                console.error(error)\n            }\n        },\n        initForm() {\n            this.initErrors();\n            this.initAppData();\n        },\n        initAppData() {\n            this.app = {\n                working_name: null,\n                cdwg_id: null,\n                ep_type_id: null,\n                date_initiated: formatDate(new Date())\n            };\n        },\n        clearErrors(fieldName) {\n            console.info('clearErrors for ',fieldName)\n            if (fieldName) {\n                delete this.errors[fieldName];\n                return;\n            }\n\n            this.initErrors();\n        },\n        initErrors() {\n            this.errors = {}\n        }\n    }\n}\n</script>   ","import { render } from \"./CreateApplicationForm.vue?vue&type=template&id=e79b9442\"\nimport script from \"./CreateApplicationForm.vue?vue&type=script&lang=js\"\nexport * from \"./CreateApplicationForm.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}