{"version":3,"sources":["webpack:///./src/components/applications/ProgressChart.vue","webpack:///./src/components/applications/ProgressStep.vue","webpack:///./src/components/applications/ProgressStep.vue?4c8b","webpack:///./src/components/applications/ProgressChart.vue?05c2","webpack:///./src/components/groups/GroupForm.vue","webpack:///./src/components/groups/GroupForm.vue?468f","webpack:///./src/components/applications/ApplicationLog.vue","webpack:///./src/components/applications/ApplicationLog.vue?ec13","webpack:///./src/components/log_entries/LogEntryForm.vue","webpack:///./src/components/log_entries/LogEntryForm.vue?14e9","webpack:///./src/adapters/log_entry_repository.js","webpack:///./src/forms/form_factory.js","webpack:///./src/components/applications/ProgressChart.vue?b5c9","webpack:///./src/components/applications/ProgressStep.vue?40f7","webpack:///./src/components/applications/ApplicationLog.vue?9804","webpack:///./src/components/applications/StepTabs.vue","webpack:///./src/components/applications/StepOne.vue","webpack:///./src/components/applications/BaseStep.vue","webpack:///./src/components/applications/documents/DocumentManager.vue","webpack:///./src/components/applications/documents/DocumentList.vue","webpack:///./src/components/applications/documents/DocumentReviewedForm.vue","webpack:///./src/components/applications/documents/DocumentReviewedForm.vue?e529","webpack:///./src/components/applications/documents/DocumentEditForm.vue","webpack:///./src/components/applications/documents/DocumentEditForm.vue?ac53","webpack:///./src/components/applications/documents/DocumentList.vue?98aa","webpack:///./src/components/applications/documents/DocumentUploadForm.vue","webpack:///./src/components/applications/documents/DocumentUploadForm.vue?6760","webpack:///./src/components/applications/documents/FinalDocumentView.vue","webpack:///./src/components/applications/documents/FinalDocumentView.vue?0754","webpack:///./src/components/applications/documents/DocumentManager.vue?d7d5","webpack:///./src/components/applications/ApproveStepForm.vue","webpack:///./src/components/applications/ApproveStepForm.vue?6b20","webpack:///./src/components/applications/BaseStep.vue?3211","webpack:///./src/components/applications/StepOne.vue?e0b3","webpack:///./src/components/applications/StepTwo.vue","webpack:///./src/components/applications/StepTwo.vue?92ff","webpack:///./src/components/applications/StepThree.vue","webpack:///./src/components/applications/StepThree.vue?7b85","webpack:///./src/components/applications/StepFour.vue","webpack:///./src/components/applications/StepFour.vue?7827","webpack:///./src/components/applications/StepTabs.vue?bcf5"],"names":["_createElementVNode","class","_createElementBlock","_hoisted_1","_Fragment","_renderList","$options","i","_createBlock","_component_progress_step","key","step","application","$props","_hoisted_3","_toDisplayString","props","type","Number","required","Object","data","computed","dateInitiated","formatDate","this","date_initiated","approvalDate","approvalDateForStep","displayClass","classes","isApproved","push","isCurrentStep","isFirstStep","isLastStep","join","current_step","stepIsApproved","lastStep","Math","max","apply","steps","methods","__exports__","components","ProgressStep","render","_component_input_row","group_type_id","$event","errors","$setup","options","label","_component_dictionary_row","_createVNode","_Transition","name","mode","expert_panel","long_base_name","placeholder","input-class","short_base_name","_ctx","_hoisted_2","affiliation_id","_component_note","_hoisted_5","_hoisted_7","_hoisted_8","group_status_id","parent_id","emits","groupTypes","id","fullname","groupStatuses","configs","groups","statuses","newGroup","Group","parents","group","get","$store","getters","set","value","commit","e","statusOptions","values","map","status","titleCase","typeOptions","canSetType","hasPermission","typeDisplayName","toUpperCase","affiliationIdPlaceholder","cdwgs","namesDirty","isDirty","affiliationIdDirty","console","log","new","attributes","original","parentOptions","forEach","parent","displayName","sortBy","save","resetErrors","updateGroup","$emit","createGroup","then","response","$router","params","uuid","isValidationError","dispatch","promises","saveGroupData","saveEpData","Promise","all","saveParent","saveName","saveStatus","submitFormData","method","url","attribute","status_id","resetData","cancel","getParentOptions","api","filter","g","emitUpdate","beforeMount","setup","context","formFactory","_component_data_table","fields","$data","sort","cell-id","_withCtx","item","_component_router_link","to","_component_icon_edit","width","activity_type","_component_icon_trash","cell-description","innerHTML","description","_component_modal_dialog","title","_component_log_entry_form","sortName","sortable","Date","String","LogEntryForm","field","desc","selectedLogEntry","editingEntry","hasLogEntries","filteredLogEntries","length","logEntries","entry","properties","noResultsMessage","getLogEntries","editLogEntry","mounted","store","useStore","watch","fetchEntries","immediate","_component_form_container","ref","log_date","expert_panel_type_id","_component_step_input","_component_rich_text_editor","_component_button_row","onClick","StepInput","RichTextEditor","default","newEntry","mapGetters","handler","findEntry","syncEntry","find","initNewEntry","parse","created_at","updateEntry","saveEntry","$el","querySelectorAll","focus","_entries","apiUrl","entryData","post","put","entryIdx","findIndex","deleteEntry","entryId","delete","splice","editing","hideForm","is_validation_error","isGcep","_component_step_one","onStepApproved","_component_tabs_container","tab-location","_component_tab_item","_component_step_two","_component_step_three","_component_step_four","_component_base_step","document-name","document-type","document-gets-reviewed","approve-button-label","sections","_component_definition_review","_component_date_input","_component_remove_button","_component_edit_icon_button","_hoisted_11","_renderSlot","_component_document_manager","document-type-id","getsReviewd","_hoisted_13","hasPendingSubmissionForCurrentStep","_component_static_alert","variant","pendingSubmission","submitter","notes","disabled","_hoisted_19","_Teleport","size","onClosed","approvestepform","clearForm","_component_approve_step_form","onSaved","onCanceled","_component_application_log","_component_final_document_view","_component_document_list","show-version","uploadform","_component_document_upload_form","cell-notes","_component_truncate_expander","truncate-length","cell-is_final","is_final","_component_icon_checkmark","_component_icon_download","height","_component_trash_button","_component_document_edit_form","document","onTriggermarkreviewed","_component_document_reviewed_form","long_name","version","submit-text","onSubmitted","date_reviewed","dateReviewed","isFinal","isReviewed","Boolean","saveDateReviewed","filename","date_received","cols","rows","docProxy","JSON","stringify","DocumentReviewedForm","DocumentEditForm","TrashButton","documentTypeId","getsReviewed","showVersion","showDeleteConfirmation","showReviewedForm","showEditForm","activeDocument","headerClass","resolveValue","filteredFields","clonedFields","kdx","f","jdx","idx","filteredDocuments","documents","d","document_type_id","hasFinalVersion","finalVersion","showMarkReviewed","hideReviewedForm","downloadDocument","window","location","download_url","confirmNewFinal","confirmMessage","confirm","markFinal","openEditForm","initDelete","cancelDelete","commitDelete","alert","file","date_receoved","newDocument","mapState","documentTypes","state","doctypes","items","documentType","FormData","keys","val","append","$refs","fileInput","files","initNewDocument","clearErrors","href","RemoveButton","editDateReceived","newDateReceived","editDateReviewed","newDateReviewed","finalDocument","finalDocumentOfType","firstDocument","firstDocumentOfType","finalDateReviewed","firstDateReceived","initEditReceived","saveDateReceived","info","initEditReviewed","DocumentUploadForm","FinalDocumentView","DocumentList","showUploadForm","multiple","date_approved","_hoisted_6","hasContacts","contact","email","target","cc","_hoisted_9","subject","body","dateApproved","notifyContacts","emailCced","ccAddresses","c","attachments","attachmentsField","ApplicationLog","DocumentManager","ApproveStepForm","documentName","documentGetsReviewed","approveButtonLabel","showApproveForm","editApprovalDate","newApprovalDate","showDocuments","showSections","docsToggleText","sectionsToggleText","hasDocumentsOfType","toggleDocuments","toggleSections","goToPrintable","open","startApproveStep","approveStep","handleApproved","hideApproveForm","initEditApprovalDate","updateApprovalDate","BaseStep","DefinitionReview","_component_cspec_summary","CspecSummary","dateString","_component_sustained_curation_review","SustainedCurationReview","StepOne","StepTwo","StepThree","StepFour","activeStep","activeIndex","deep"],"mappings":"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","file":"js/application-detail~group-detail.a771ee0a.js","sourcesContent":["<style lang=\"postcss\" scoped>\n    .progress-date {\n        @apply text-xs;\n        width: 10em;\n    }\n</style>\n<template>\n    <div>\n        <h3 class=\"pb-2\">EP Progress</h3>\n        <div class=\"flex flex-row space-x-1\">\n            <progress-step v-for=\"i in steps\" :key=\"i\" :step=\"i\" :application=\"application\"></progress-step>\n        </div>\n    </div>\n</template>\n<script>\nimport ProgressStep from '@/components/applications/ProgressStep'\n\nexport default {\n    components: {\n        ProgressStep\n    },\n    props: {\n        application: {\n            required: true,\n            type: Object\n        }\n    },\n    computed: {\n        steps () {\n            return this.application.steps\n        },\n    }\n}\n</script>","<style lang=\"postcss\">\n    .progress-step {\n        @apply h-4 bg-green-100 border border-green-200 flex-1\n    }\n    .progress-step.approved {\n        @apply bg-green-500 border-green-600\n    }\n    .progress-step.active {\n        @apply ring-green-400 ring-2 border-green-400 border-2\n    }\n</style>\n<template>\n    <div class=\"flex-1\">\n        <div class=\"progress-step\" :class=\"displayClass\"></div>\n        <div class=\"flex flex-row-reverse justify-between bg-transparent mt-1\">\n            <div :class=\"{'-mr-10': !isLastStep}\">{{approvalDate}}</div>\n            <div v-if=\"isFirstStep\">{{dateInitiated}}</div>\n        </div>\n    </div>\n</template>\n<script>\nimport { formatDate } from '@/date_utils'\n\nexport default {\n    props: {\n        step: {\n            type: Number,\n            required: true,\n        },\n        application: {\n            type: Object,\n            required: true\n        }\n    },\n    data() {\n        return {\n            \n        }\n    },\n    computed: {\n        dateInitiated () {\n            return formatDate(this.application.date_initiated)\n        },\n        approvalDate() {\n            if (this.application.approvalDateForStep(this.step)) {\n                return formatDate(this.application.approvalDateForStep(this.step))\n            }\n\n            return ' '\n        },\n        displayClass () {\n            const classes = [];\n            if (this.isApproved) {\n                classes.push('approved');\n            } else if (this.isCurrentStep) {\n                classes.push('active');\n            }\n            if (this.isFirstStep) {\n                classes.push('rounded-l')\n            }\n            if (this.isLastStep) {\n                classes.push('rounded-r')\n            }\n            return classes.join(' ');\n        },\n        isCurrentStep () {\n            return this.application.current_step == this.step\n        },\n        isApproved () {\n            return this.application.stepIsApproved(this.step);\n        },\n        isFirstStep () {\n            return this.step == 1;\n        },\n        isLastStep () {\n            const lastStep = Math.max.apply(Math, this.application.steps);\n            return this.step == lastStep;\n        }\n    },\n    methods: {\n    }\n}\n</script>","import { render } from \"./ProgressStep.vue?vue&type=template&id=aa7ee37e\"\nimport script from \"./ProgressStep.vue?vue&type=script&lang=js\"\nexport * from \"./ProgressStep.vue?vue&type=script&lang=js\"\n\nimport \"./ProgressStep.vue?vue&type=style&index=0&id=aa7ee37e&lang=postcss\"\n\nimport exportComponent from \"/Users/yugen/code/epam/resources/app/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ProgressChart.vue?vue&type=template&id=3016494e&scoped=true\"\nimport script from \"./ProgressChart.vue?vue&type=script&lang=js\"\nexport * from \"./ProgressChart.vue?vue&type=script&lang=js\"\n\nimport \"./ProgressChart.vue?vue&type=style&index=0&id=3016494e&lang=postcss&scoped=true\"\n\nimport exportComponent from \"/Users/yugen/code/epam/resources/app/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3016494e\"]])\n\nexport default __exports__","<template>\n    <div>\n        <input-row \n            v-if=\"canSetType\"\n            v-model=\"group.group_type_id\"\n            :errors=\"errors.group_type_id\"\n            type=\"select\"\n            :options=\"typeOptions\"\n            label=\"Type\" \n        />\n\n        <dictionary-row label=\"Type\" v-else>\n            {{typeDisplayName}}\n        </dictionary-row>\n        \n        <transition name=\"slide-fade-down\" mode=\"out-in\">\n            <div v-if=\"group.group_type_id > 2 && group.expert_panel\">\n                <input-row \n                    label=\"Long Base Name\" \n                    v-model=\"group.expert_panel.long_base_name\"\n                    @update:modelValue=\"emitUpdate\"\n                    placeholder=\"Long base name\"\n                    :errors=\"errors.long_base_name\"\n                    input-class=\"w-full\"\n                />\n                <input-row \n                    label=\"Short Base Name\" \n                    v-model=\"group.expert_panel.short_base_name\" \n                    @update:modelValue=\"emitUpdate\"\n                    placeholder=\"Short base name\"\n                    :errors=\"errors.short_base_name\"\n                    input-class=\"w-full\"\n                />\n                <div v-if=\"hasAnyPermission(['groups-manage'])\">\n                    <input-row \n                        label=\"Affiliation ID\" \n                        v-model=\"group.expert_panel.affiliation_id\" \n                        :placeholder=\"affiliationIdPlaceholder\"\n                        :errors=\"errors.affiliation_id\"  \n                        input-class=\"w-full\"\n                        @update:modelValue=\"emitUpdate\"\n                    >\n                        <template v-slot:label>\n                            Affiliation ID\n                            <note>admin-only</note>\n                        </template>\n                    </input-row>\n                </div>\n                <dictionary-row label=\"Affiliation ID\" v-else>\n                    <span v-if=\"group.expert_panel.affiliation_id\">{{group.expert_panel.affiliation_id}}</span>\n                    <span v-else class=\"text-gray-400\">{{'Not yet assigend'}}</span>\n                </dictionary-row>\n            </div>\n            <div v-else>\n                <input-row \n                    v-model=\"group.name\" \n                    placeholder=\"Name\" \n                    label=\"Name\" \n                    input-class=\"w-full\"\n                    :errors=\"errors.name\"\n                    @update:modelValue=\"emitUpdate\"\n                />\n            </div>\n        </transition>\n        <div v-if=\"hasPermission('groups-manage')\">\n            <input-row \n                v-model=\"group.group_status_id\"\n                type=\"select\"\n                :options=\"statusOptions\"\n                :errors=\"errors.group_status_id\"\n                @update:modelValue=\"emitUpdate\"\n            >\n                <template v-slot:label>\n                    Status:\n                    <note>admin-only</note>\n                </template>\n            </input-row>\n\n            <input-row\n                v-model=\"group.parent_id\"\n                type=\"select\"\n                :options=\"parentOptions\"\n                :errors=\"errors.parent_id\"\n                @update:modelValue=\"emitUpdate\"\n            >\n                <template v-slot:label>\n                    Parent group:\n                    <note>admin-only</note>\n                </template>\n            </input-row>\n        </div>\n    </div>\n</template>\n<script>\nimport {sortBy} from 'lodash'\nimport {isValidationError} from '@/http'\nimport {api} from '@/http'\nimport Group from '@/domain/group'\nimport configs from '@/configs'\nimport formFactory from '@/forms/form_factory'\n\nexport default {\n    name: 'GroupForm',\n    emits: [\n        'canceled',\n        'saved',\n        'update'\n    ],\n    data() {\n        return {\n            groupTypes: [\n                {id: 1, fullname: 'Working Group'},\n                {id: 2, fullname: 'Clinical Domain Working Group'},\n                {id: 3, fullname: 'GCEP'},\n                {id: 4, fullname: 'VCEP'},\n            ],\n            groupStatuses: configs.groups.statuses,\n            newGroup: new Group(),\n            parents: []\n        }\n    },\n    computed: {\n        group: {\n            get() {\n                const group = this.$store.getters['groups/currentItem'];\n                if (group) {\n                    return group;\n                }\n                return this.newGroup;\n            },\n            set (value) {\n                try {\n                    this.$store.commit('groups/addItem', value);\n                } catch (e) {\n                    this.newGroup = value;\n                }\n            }\n        },\n        statusOptions () {\n            return Object.values(this.groupStatuses).map(status => ({value: status.id, label: this.titleCase(status.name)}))\n        },\n        typeOptions () {\n            return this.groupTypes.map(type => ({value: type.id, label: type.fullname}));\n        },\n        canSetType() {\n            return this.hasPermission('groups-manage') && !this.group.id \n        },\n        typeDisplayName () {\n            if (!this.group.type) {\n                return \"🐇🥚\";\n            }\n            if (this.group.type.name) {\n                return (this.group.type.id < 3) \n                    ? this.group.type.name.toUpperCase() \n                    : this.group.expert_panel.type.name.toUpperCase();\n            }\n            return null;\n        },\n        affiliationIdPlaceholder () {\n            return 50000\n        },\n        cdwgs () {\n            return this.$store.getters['cdwgs/all']\n        },\n        namesDirty () {\n            return this.group.expert_panel.isDirty('long_base_name')\n                || this.group.expert_panel.isDirty('short_base_name');\n        },\n        affiliationIdDirty () {\n            console.log({\n                new: this.group.expert_panel.attributes.affiliation_id,\n                original: this.group.expert_panel.original.affiliation_id\n            });\n            return this.group.expert_panel.isDirty('affiliation_id');\n        },\n        parentOptions () {\n            const options = [{value: 0, label: 'None'}];\n            this.parents.forEach(parent => {\n                options.push({value: parent.id, label: parent.displayName})\n            })\n\n            return sortBy(options, 'label');\n        }\n    },\n    methods: {\n        async save() {\n            this.resetErrors();\n            try {\n                if (this.group.id) {\n                    await this.updateGroup();\n                    this.$emit('saved');\n\n                    // this.$store.dispatch('groups/find', this.group.uuid);\n                    // this.$store.commit('pushSuccess', 'Group info updated.');\n                    return;\n                } \n\n                const newGroup = await this.createGroup()\n                                    .then(response => response.data.data);\n                this.$emit('saved');\n                this.$store.commit('pushSuccess', 'Group created.');\n                this.$router.push({name: 'AddMember', params: {uuid: newGroup.uuid}});\n            } catch (error) {\n                if (isValidationError(error)) {\n                    this.errors = error.response.data.errors;\n                }\n                throw error;\n            }\n        },\n        createGroup () {\n            let {\n                name, \n                parent_id, \n                group_type_id, \n                group_status_id\n            } = this.group.attributes;\n\n            const {short_base_name} = this.group.expert_panel;\n\n            if (name === null && this.group.expert_panel) {\n                name = this.group.expert_panel.long_base_name;\n            }\n\n            return this.$store.dispatch(\n                'groups/create', \n                {\n                    name,\n                    parent_id,\n                    group_type_id,\n                    group_status_id,\n                    short_base_name\n                }\n            );\n        },\n        updateGroup () {\n            const promises = [];\n            promises.push(this.saveGroupData());\n            if (this.group.expert_panel) {\n                promises.push(this.saveEpData());\n            }\n            \n            return Promise.all(promises);\n        },\n        saveGroupData () {\n            const promises = [];\n            if (this.group.isDirty('parent_id')) {\n                promises.push(this.saveParent());\n            }\n\n            if (this.group.isDirty('name')) {\n                promises.push(this.saveName())\n            }\n\n            if (this.group.isDirty('group_status_id')) {\n                promises.push(this.saveStatus())\n            }\n\n            return Promise.all(promises);\n        },\n        async saveEpData() {\n            const promises = []\n            if (this.namesDirty) {\n                const {long_base_name, short_base_name} = this.group.expert_panel;\n                promises.push(this.submitFormData({\n                    method: 'put',\n                    url: `/api/groups/${this.group.uuid}/expert-panel/name`, \n                    data: { long_base_name, short_base_name }\n                }));\n            }\n\n            if (this.affiliationIdDirty) {\n                promises.push(this.submitFormData({\n                    method: 'put',\n                    url: `/api/groups/${this.group.uuid}/expert-panel/affiliation-id`, \n                    data: { affiliation_id: this.group.expert_panel.affiliation_id }\n                }));\n            }\n\n            return await Promise.all(promises);\n        },\n\n        isDirty (attribute) {\n            return this.group[attribute] != this.group[attribute]\n        },\n        \n        saveParent () {\n            return this.submitFormData({\n                method: 'put',\n                url: `/api/groups/${this.group.uuid}/parent`, \n                data: { parent_id: this.group.parent_id }\n            })\n        },\n        saveName () {\n            return this.submitFormData({\n                method: 'put',\n                url: `/api/groups/${this.group.uuid}/name`,\n                data: {name: this.group.name}\n            })\n        },\n        saveStatus () {\n            return this.submitFormData({\n                method: 'put',\n                url: `/api/groups/${this.group.uuid}/status`,\n                data: {status_id: this.group.group_status_id}\n            })\n        },\n        resetData () {\n            if (this.group.uuid) {\n                this.$store.dispatch('groups/find', this.group.uuid);\n            }\n        },\n        cancel() {\n            if (this.group.uuid) {\n                this.resetData();\n            }\n            this.$emit('canceled');\n        },\n        async getParentOptions () {\n            this.parents = await api.get(`/api/groups`)\n                        .then(response => {\n                            return response.data\n                                .filter(group => group.id != this.group.id)\n                                .map(g => new Group(g))\n                        });\n        },\n        emitUpdate () {\n            this.$emit('update');\n        }\n    },\n    beforeMount() {\n        this.getParentOptions();\n        this.$store.dispatch('cdwgs/getAll');\n    },\n    setup (props, context) {\n        const {errors, submitFormData, resetErrors} = formFactory(props, context)\n\n        return {\n            errors,\n            submitFormData,\n            resetErrors\n        }\n    }\n}\n</script>","import { render } from \"./GroupForm.vue?vue&type=template&id=5323639a\"\nimport script from \"./GroupForm.vue?vue&type=script&lang=js\"\nexport * from \"./GroupForm.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/yugen/code/epam/resources/app/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<style lang=\"postcss\">\n    .links-blue a {\n        @apply text-blue-500;\n    }\n</style>\n<template>\n    <div>\n        <div class=\"px-3 py-2 rounded border border-gray-300 text-gray-500 bg-gray-200\" v-if=\"!hasLogEntries\">\n            {{noResultsMessage}}\n        </div>\n        <data-table :fields=\"fields\" :data=\"filteredLogEntries\" v-model:sort=\"sort\" v-else>\n            <template v-slot:cell-id=\"{item}\">\n                <div class=\"flex space-x-1\">\n                    <router-link :to=\"{name: 'EditLogEntry', params:{id: item.id}}\" class=\"btn btn-xs inline-block\">\n                        <icon-edit width=\"12\"></icon-edit>\n                    </router-link>\n                    <router-link \n                        :to=\"{name: 'ConfirmDeleteLogEntry', params:{id: item.id}}\" \n                        v-if=\"item.activity_type === null\"\n                        class=\"btn btn-xs inline-block\"\n                    >\n                        <icon-trash width=\"12\"></icon-trash>\n                    </router-link>\n                </div>\n            </template>\n            <template v-slot:cell-description=\"{item}\">\n                <div v-html=\"item.description\" class=\"links-blue\"></div>\n            </template>\n        </data-table>\n        <modal-dialog v-model=\"editingEntry\" title=\"Edit log entry\">\n            <log-entry-form></log-entry-form>\n        </modal-dialog>\n    </div>\n</template>\n<script>\nimport {computed, watch} from 'vue'\nimport {useStore} from 'vuex';\n\n\nimport LogEntryForm from '@/components/log_entries/LogEntryForm'\nimport {logEntries, fetchEntries} from '@/adapters/log_entry_repository';\n\n\nconst fields = [\n    {\n        name: 'created_at',\n        label: 'Created',\n        sortName: 'created_at',\n        sortable: true,\n        type: Date,\n    },\n    {\n        name: 'description',\n        label: 'Entry',\n        sortable: true,\n        type: String\n    },\n    {\n        name: 'causer.name',\n        label: 'User',\n        sortable: true\n    },\n    {\n        name: 'id',\n        label: '',\n        sortable: false,\n    }\n];\n\nexport default {\n    components: {\n        LogEntryForm\n    },\n    props: {\n        step: {\n            required: false,\n            type: Number,\n        }\n    },\n    data() {\n        return {\n            fields: fields,\n            sort: {\n                field: 'created_at',\n                desc: true\n            },\n            selectedLogEntry: {},\n            editingEntry: false,\n        }\n    },\n    computed: {\n        hasLogEntries(){\n            return this.filteredLogEntries.length > 0;\n        },\n        filteredLogEntries() {\n            if(this.logEntries && this.step) {\n                return this.logEntries.filter(entry => entry.properties.step == this.step);\n            }\n\n            if (this.logEntries) {\n                return this.logEntries;\n            }\n\n            return []\n        },\n        noResultsMessage() {\n            if (typeof this.step == 'number') {\n                return `No progress log entries have been entered for step ${this.step}`;\n            }\n\n            return 'There are no log entries for this application';\n        }\n    },\n    methods: {\n        async getLogEntries() {\n            async () => {\n                await fetchEntries();\n            }    \n        },\n        editLogEntry(entry) {\n            this.editingEntry = true;\n            this.selectedLogEntry = entry;\n        }\n    },\n    mounted() {\n        // this.getLogEntries()\n    },\n    setup () {\n        const store  = useStore();\n        const group = computed(() => {\n            return store.getters['groups/currentItemOrNew']\n        })\n\n        const application = computed(() => {\n            return group.value.expert_panel;\n        })\n\n        watch(group, () => {\n            if (group.value.uuid) {\n                fetchEntries(`/api/groups/${group.value.uuid}/activity-logs`)\n            }\n        }, {\n            immediate: true\n        })\n        return {\n            group,\n            application,\n            logEntries\n        }\n    }\n}\n</script>","import { render } from \"./ApplicationLog.vue?vue&type=template&id=673aeade\"\nimport script from \"./ApplicationLog.vue?vue&type=script&lang=js\"\nexport * from \"./ApplicationLog.vue?vue&type=script&lang=js\"\n\nimport \"./ApplicationLog.vue?vue&type=style&index=0&id=673aeade&lang=postcss\"\n\nimport exportComponent from \"/Users/yugen/code/epam/resources/app/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <form-container class=\"log-entry-form\" ref=\"form-container\">\n        <input-row label=\"Log Date\" v-model=\"newEntry.log_date\" :errors=\"errors.log_date\" type=\"date\" ref=\"logdate\"></input-row>\n        <step-input v-model=\"newEntry.step\" :errors=\"errors.step\" v-if=\"application.expert_panel_type_id == 2\"></step-input>\n        <input-row label=\"Entry\" :errors=\"errors.entry\">\n            <rich-text-editor v-model=\"newEntry.entry\"></rich-text-editor>\n        </input-row>\n        <button-row>\n            <button class=\"btn\" @click=\"cancel\">Cancel</button>\n            <button class=\"btn blue\" @click=\"save\">Save</button>\n        </button-row>\n    </form-container>\n</template>\n<script>\nimport {mapGetters} from 'vuex'\nimport { formatDate } from '@/date_utils'\nimport StepInput from '@/components/forms/StepInput'\nimport RichTextEditor from '@/components/forms/RichTextEditor'\nimport {logEntries, saveEntry, updateEntry} from '@/adapters/log_entry_repository'\n\nexport default {\n    name: 'LogEntryForm',\n    components: {\n        StepInput,\n        RichTextEditor\n    },\n    props: {\n        id: {\n            required: false,\n            default: null\n        }\n    },\n    data() {\n        return {\n            newEntry: {\n                log_date: new Date(),\n                step: null,\n                entry: ''\n            },\n            errors: {},\n        }\n    },\n    computed: {\n        ...mapGetters({\n            group: 'groups/currentItemOrNew'\n        }),\n        application () {\n            return this.group.expert_panel;\n        }\n    },\n    watch: {\n        id: {\n            immediate: true,\n            handler: function() {\n                const entry = this.findEntry();\n                if (entry) {\n                    this.syncEntry(entry)\n                }\n            }\n        },\n        application: {\n            immediate: true,\n            handler: function () {\n                const entry = this.findEntry();\n                if (entry) {\n                    this.syncEntry(entry);\n                }\n            }\n        }\n    },\n    methods: {\n        findEntry () {\n            if (this.id === null) {\n                return null;\n            }\n            if (this.logEntries) {\n                return this.logEntries.find(i => i.id == this.id);\n            }\n        },\n        initNewEntry () {\n            this.newEntry = {\n                log_date: formatDate(new Date),\n                step: null,\n                entry: ''\n            }\n        },\n        syncEntry (entry) {\n            if (!entry) {\n                return;\n            }\n            this.newEntry = {\n                id: entry.id,\n                log_date: formatDate(new Date(Date.parse((entry.created_at)))),\n                step: entry.properties.step,\n                entry: entry.description\n            }\n        },\n        cancel() {\n            this.initNewEntry();\n            this.$emit('canceled');\n        },\n        async save() {\n            try {\n                if (this.newEntry.id) {\n                    updateEntry(`/api/groups/${this.group.uuid}/activity-logs/${this.newEntry.id}`, this.newEntry);\n                } else {\n                    saveEntry(`/api/groups/${this.group.uuid}/activity-logs`, this.newEntry)\n                }\n                this.initNewEntry();\n                this.$emit('saved');\n            } catch (error) {\n                if (error.response && error.response.status == 422 && error.response.data.errors) {\n                    this.errors = error.response.data.errors\n                    return;\n                }\n            }\n        },\n    },\n    mounted() {\n        this.$el.querySelectorAll('input')[0].focus();\n    },\n    setup () {\n        return {\n            logEntries\n        }\n    }\n}\n</script>","import { render } from \"./LogEntryForm.vue?vue&type=template&id=76f72dce\"\nimport script from \"./LogEntryForm.vue?vue&type=script&lang=js\"\nexport * from \"./LogEntryForm.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/yugen/code/epam/resources/app/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import {ref, computed} from 'vue';\nimport api from '@/http/api'\n\nconst _entries = ref([]);\n\nexport const logEntries = computed(() => {\n    return _entries.value;\n});\n\nexport const fetchEntries = async (apiUrl) => {\n    _entries.value = await api.get(apiUrl)\n        .then(response => response.data.data);\n}\n\nexport const saveEntry = async (apiUrl, entryData) => {\n    return await api.post(apiUrl, entryData)\n        .then(response => {\n            _entries.value.push(response.data);\n            return response.data\n        });\n}\n\nexport const updateEntry = async (apiUrl, entryData) => {\n    return await api.put(apiUrl, entryData)\n        .then(response => {\n            const entryIdx = _entries.value.findIndex(entry => entry.id == response.data.id);\n            _entries.value[entryIdx] = response.data;\n            return response.data\n        });\n}\n\nexport const deleteEntry = async (apiUrl, entryId) => {\n    return await api.delete(`${apiUrl}/${entryId}`)\n        .then(response => {\n            const entryIdx = _entries.value.findIndex(entry => entry.id == entryId);\n            _entries.value.splice(entryIdx, 1);\n\n            return response;\n        });\n}\n","import {ref} from 'vue'\nimport is_validation_error from '@/http/is_validation_error'\nimport api from '@/http/api'\n\nexport const errors = ref({});\nconst editing = ref(false);\nconst hideForm = () => {\n    editing.value = false;\n    errors.value = {};\n}\nexport const submitFormData = async ({method, url, data}) => {\n    try {\n        // return await api.put(\n        return await api({\n            method,\n            url, \n            data\n        }).then(response => response.data.data)\n    } catch (error) {\n        if (is_validation_error(error)) {\n            errors.value = {...errors, ...error.response.data.errors}\n        }\n    }\n}\n\nexport const resetErrors = () => {\n    errors.value = {};\n}\n\nexport default () => {\n    return {\n        errors,\n        editing,\n        hideForm,\n        submitFormData,\n        resetErrors,\n    }\n}","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ProgressChart.vue?vue&type=style&index=0&id=3016494e&lang=postcss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ProgressStep.vue?vue&type=style&index=0&id=aa7ee37e&lang=postcss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ApplicationLog.vue?vue&type=style&index=0&id=673aeade&lang=postcss\"","<template>\n    <div>\n        <div v-if=\"application.isGcep\">\n            <step-one @stepApproved=\"handleApproved\"></step-one>\n        </div>\n            <tabs-container \n                tab-location=\"right\" \n                v-model=\"activeIndex\" \n                v-if=\"this.application.expert_panel_type_id == 2\"\n            >\n            <tab-item label=\"Group Definition\">\n                <step-one @stepApproved=\"handleApproved\"></step-one>\n            </tab-item>\n            <tab-item label=\"Draft Specifications\">\n                <step-two @stepApproved=\"handleApproved\"></step-two>\n            </tab-item>\n            <tab-item label=\"Pilot Specfications\">\n                <step-three @stepApproved=\"handleApproved\"></step-three>\n            </tab-item>\n            <tab-item label=\"Sustained Curation\">\n                <step-four @stepApproved=\"handleApproved\"></step-four>\n            </tab-item>\n        </tabs-container>\n\n    </div>\n</template>\n<script>\nimport { mapGetters } from 'vuex'\nimport StepOne from '@/components/applications/StepOne'\nimport StepTwo from '@/components/applications/StepTwo'\nimport StepThree from '@/components/applications/StepThree'\nimport StepFour from '@/components/applications/StepFour'\n\nexport default {\n    components: {\n        StepOne,\n        StepTwo,\n        StepThree,\n        StepFour,\n    },\n    emits: ['stepApproved'],\n    data() {\n        return {\n            activeStep: 1\n        }\n    },\n    computed: {\n        ...mapGetters({\n            group: 'groups/currentItemOrNew'\n        }),\n        application () {\n            return this.group.expert_panel;\n        },\n        activeIndex: {\n            deep: true,\n            get() {\n                return (this.application && this.application.current_step) ? this.application.current_step - 1 : 0\n            },\n            set(value) {\n                this.activeStep = value+1\n            }\n\n        } \n    },\n    methods: {\n        handleApproved () {\n            this.$emit('stepApproved')\n        }\n    }\n    // watch: {\n    //     application: {\n    //         deep: true,\n    //         handler: function () {\n    //             this.activeStep = this.application.current_step\n    //         }\n    //     }\n    // }\n}\n</script>","<template>\n    <div class=\"application-review\">\n        <base-step \n            :step=\"1\" \n            document-name=\"Scope and Membership Application\" \n            title=\"Scope and Membership\" \n            :document-type=\"1\" \n            :document-gets-reviewed=\"true\"\n            approve-button-label=\"Approve Scope and Membership\"\n            @stepApproved=\"handleApproved\"\n        >\n            <template v-slot:sections>\n                <definition-review />\n                <!-- <div class=\"application-section\">\n                    <member-list />\n                    <div v-if=\"group.isVcep()\">\n                        <h3>Description of Expertise</h3>\n                        <blockquote>\n                            <span v-if=\"application.membership_description\">{{application.membership_description}}</span>\n                            <span v-else class=\"muted\">{{'Pending...'}}</span>\n\n                        </blockquote>\n                    </div>\n                </div>\n                <div class=\"application-section\">\n                    <h2>Scope</h2>\n                    <component :is=\"geneList\" readonly :editing=\"false\"></component>\n\n                    <h3>Description of Scope</h3>\n                    <blockquote>\n                        <span v-if=\"application.scope_description\">{{application.scope_description}}</span>\n                        <span v-else class=\"muted\">{{'Pending...'}}</span>\n                    </blockquote>\n                </div>\n                <div class=\"application-section\" v-if=\"group.isGcep()\">\n                    <h2>GCEP Attestation</h2>\n                    <dictionary-row label=\"GCI Training Date\">\n                        <span v-if=\"application.scope_description\">{{formatDate(application.gci_training_date)}}</span>\n                        <span v-else class=\"muted\">{{'Pending...'}}</span>\n                    </dictionary-row>\n                    <dictionary-row label=\"Signed On\">\n                        <span v-if=\"application.scope_description\">{{formatDate(application.gcep_attestation_date)}}</span>\n                        <span v-else class=\"muted\">{{'Pending...'}}</span>\n                    </dictionary-row>\n                </div>\n\n                <div class=\"application-section\" v-if=\"group.isVcep()\">\n                    <h2>Reanalysis &amp; descrepency resolution signed on</h2>\n                    <dictionary-row label=\"Signed on\">\n                        <span v-if=\"application.scope_description\">\n                            {{formatDate(application.reanalysis_attestation_date)}}\n                        </span>\n                        <span v-else class=\"muted\">{{'Pending...'}}</span>\n                    </dictionary-row>\n                    <dictionary-row label=\"Plans that differ from expectations\" v-if=\"application.reanalysis_other\">\n                        {{application.reanalysis_other}}\n                    </dictionary-row>\n                </div>\n\n            <div class=\"applicaiton-section\" v-if=\"group.isGcep()\">\n                <h2>Plans for Ongoing Review and Reanalysis and Discrepancy Resolution</h2>\n                <gcep-ongoing-plans-form readonly />\n            </div>\n\n                <div class=\"application-section\">\n                    <h2>NHGRI Data Availability</h2>\n                    <dictionary-row label=\"Signed on\">\n                        <span v-if=\"application.nhgri_attestation_date\">\n                            {{formatDate(application.nhgri_attestation_date)}}\n                        </span>\n                        <span v-else class=\"muted\">{{'Pending...'}}</span>\n                    </dictionary-row>\n                </div>\n -->\n\n            </template>\n\n            <!-- <coi-log class=\"mb-6\" :group=\"group\" /> -->\n        </base-step>\n    </div>\n</template>\n<script>\nimport {mapGetters} from 'vuex'\nimport BaseStep from '@/components/applications/BaseStep'\n// import CoiLog from '@/components/applications/COILog'\n// import MemberList from '@/components/groups/MemberList'\n// import ApplicationSection from '@/components/expert_panels/ApplicationSection'\n// import GcepGeneList from '@/components/expert_panels/GcepGeneList'\n// import GcepOngoingPlansForm from '@/components/expert_panels/GcepOngoingPlansForm';\n// import VcepGeneList from '@/components/expert_panels/VcepGeneList'\nimport DefinitionReview from '@/components/expert_panels/DefinitionReview'\n\nexport default {\n    name: 'StepOne',\n    components: {\n        BaseStep,\n        // CoiLog,\n        // MemberList,\n        // ApplicationSection,\n        // GcepOngoingPlansForm,\n        DefinitionReview\n    },\n    emits: ['stepApproved'],\n    data() {\n        return {\n        }\n    },\n    computed: {\n        ...mapGetters({\n            group: 'groups/currentItemOrNew'\n        }),\n        application () {\n            return this.group.expert_panel;\n        },\n        // geneList () {\n        //     return this.group.isVcep() ? VcepGeneList : GcepGeneList;\n        // }\n    },\n    methods: {\n        handleApproved() {\n            this.$emit('stepApproved')\n        }\n    }\n}\n</script>","<template>\n    <div class=\"overflow-x-auto\">\n        <div class=\"mb-6\">\n\n            <div class=\"flex justify-between text-lg font-bold pb-2 mb-2 border-b\">\n                <div class=\"flex space-x-2\">\n                    <h2>\n                        {{title}}\n                    </h2>\n                    <div v-if=\"dateApproved\">\n                        <div class=\"flex space-x-1\" v-if=\"!editApprovalDate\">\n                            <div class=\"text-white bg-green-600 rounded-xl px-2\">\n                                Appproved: {{dateApproved}}\n                            </div>\n                            <edit-icon-button class=\"text-black\" @click=\"initEditApprovalDate\"></edit-icon-button>\n                        </div>\n                        <div class=\"flex space-x-1\" v-else>\n                            <date-input v-model=\"newApprovalDate\"></date-input>\n                            <button class=\"btn blue\" @click=\"updateApprovalDate\">Save</button>\n                            <remove-button @click=\"editApprovalDate = false\"></remove-button>\n                        </div>\n                    </div>\n                </div>\n                <div>\n                    <button class=\"btn btn-xs\" @click=\"toggleDocuments\">{{docsToggleText}}</button>\n                    &nbsp;\n                    <button class=\"btn btn-xs\" @click=\"toggleSections\">{{sectionsToggleText}}</button>\n                    &nbsp;\n                    <button class=\"btn btn-xs\" @click=\"goToPrintable\">Printable Application</button>\n\n                </div>\n            </div>\n            <transition name=\"slide-fade-down\">\n                <div v-if=\"showDocuments\">\n                    <slot name=\"document\">\n                        <div class=\"mt-4 p-4 border rounded-xl bg-gray-50\">\n                            <document-manager\n                                :title=\"documentName\"\n                                :application=\"application\"\n                                :document-type-id=\"documentType\"\n                                :getsReviewd=\"documentGetsReviewed\"\n                                :step=\"step\"\n                            ></document-manager>\n                        </div>\n                    </slot>\n                    <hr class=\"border-gray-200 border-4\">\n                </div>\n            </transition>\n\n            <transition name=\"slide-fade-down\">\n                <div>\n                    <slot name=\"sections\" v-if=\"showSections\">\n                        Step sections here!\n                    </slot>\n                </div>\n            </transition>\n        </div>\n\n        <!-- Approve step -->\n        <div  \n            class=\"border border-l-0 border-r-0 py-4 mb-6\" \n            v-if=\"!application.stepIsApproved(step)\"\n        >\n            <static-alert \n                variant=\"info\" \n                v-if=\"application.hasPendingSubmissionForCurrentStep\"\n                class=\"mb-4\"\n            >\n                This step was submitted by <strong>{{application.pendingSubmission.submitter.name}}</strong> on \n                <strong>{{formatDate(application.pendingSubmission.created_at)}}</strong> with the following notes:\n                <blockquote>\n                    {{application.pendingSubmission.notes}}\n                </blockquote>\n            </static-alert>\n            <button \n                class=\"btn btn-lg w-full\" \n                @click=\"startApproveStep\"\n                :disabled=\"!isCurrentStep\"\n                :title=\"isCurrentStep ? 'Approve this step' : 'You can only approve the application\\'s current step'\"\n            >\n                {{approveButtonLabel}}\n            </button>\n\n            <teleport to=\"body\">\n                <modal-dialog v-model=\"showApproveForm\" size=\"xl\" @closed=\"$refs.approvestepform.clearForm()\">\n                    <approve-step-form  \n                        ref=\"approvestepform\" \n                        @saved=\"handleApproved\" \n                        @canceled=\"hideApproveForm\"\n                    />\n                </modal-dialog>\n            </teleport>\n        </div>\n\n        <slot></slot>\n\n        <slot name=\"log\">\n            <div class=\"mb-6 mt-4 border-t pt-4\">\n                <h3 class=\"mb-2\">Step {{step}} Progress Log</h3>\n                <application-log :step=\"step\"></application-log>\n            </div>\n        </slot>\n    </div>\n</template>\n<script>\nimport { mapGetters } from 'vuex'\nimport { formatDate } from '@/date_utils'\nimport ApplicationLog from '@/components/applications/ApplicationLog'\nimport DocumentManager from '@/components/applications/documents/DocumentManager'\nimport ApproveStepForm from '@/components/applications/ApproveStepForm'\nimport RemoveButton from '@/components/buttons/RemoveButton'\nimport is_validation_error from '@/http/is_validation_error'\n\nexport default {\n    components: {\n        ApplicationLog,\n        DocumentManager,\n        ApproveStepForm,\n        RemoveButton\n    },\n    props: {\n        title: {\n            type: String, \n            required: false,\n            default: 'YOU SHOULD SET A TITLE'\n        },\n        step: {\n            type: Number,\n            required: true\n        },\n        documentName: {\n            type: String,\n            required: false,\n            default: 'Set a document-type attribute if you don\\'t use the \"document\" slot'\n        },\n        documentType: {\n            type: Number,\n            required: false,\n            default: 1\n        },\n        documentGetsReviewed: {\n            type: Boolean,\n            required: false,\n            default: true\n        },\n        approveButtonLabel: {\n            type: String,\n            required: false,\n            default: 'Set \"approve-button-label\" if not overriding slot \"approve-button\"'\n        }\n    },\n    emits: ['documentUploaded', 'stepApproved'],\n    data() {\n        return {\n            showApproveForm: false,\n            editApprovalDate: false,\n            newApprovalDate: null,\n            showDocuments: true,\n            showSections: true,\n        }\n    },\n    computed: {\n        ...mapGetters({\n            group: 'groups/currentItemOrNew'\n        }),\n        application () {\n            return this.group.expert_panel;\n        },\n        isCurrentStep () {\n            return this.step == this.application.current_step\n        },\n        dateApproved () {\n            if (this.application.approvalDateForStep(this.step)) {\n                return formatDate(this.application.approvalDateForStep(this.step))\n            }\n\n            return null;\n        },\n        docsToggleText () {\n            return this.showDocuments ? 'Hide Documents' : 'Show Documents';\n        },\n        sectionsToggleText () {\n            return this.showSections ? 'Hide Sections' : 'Show Sections';\n        }\n    },\n    watch: {\n        group: {\n            immediate: true,\n            handler (to) {\n                if(!to.hasDocumentsOfType(this.documentType)) {\n                    this.showDocuments = false;\n                }\n            }\n        }\n    },\n    methods: {\n        toggleDocuments () {\n            this.showDocuments = !this.showDocuments;\n        },\n        toggleSections () {\n            this.showSections = !this.showSections;\n        },\n        goToPrintable () {\n            window.open(`/groups/${this.group.uuid}/application/review`);\n        },\n\n        startApproveStep () {\n            this.showApproveForm = true;\n        },\n        approveStep () {\n            this.$store.dispatch('applications/approveCurrentStep', {application: this.application, step: this.step})\n            this.$emit('stepApproved')\n        },\n        handleApproved () {\n            this.hideApproveForm();\n            this.$emit('stepApproved');\n        },\n        hideApproveForm () {\n            this.showApproveForm = false;\n        },\n        initEditApprovalDate () {\n            this.editApprovalDate = true;\n            this.newApprovalDate = this.dateApproved;\n        },\n        async updateApprovalDate() {\n            try {\n                await this.$store.dispatch(\n                    'groups/updateApprovalDate', \n                    {\n                        group: this.group, \n                        dateApproved: this.newApprovalDate, \n                        step: this.step\n                    }\n                );\n                // this.group.expert_panel.updateApprovalDate(this.newApprovalDate, this.step);\n                this.editApprovalDate = false;\n            } catch (error) {\n                if (is_validation_error(error)) {\n                    this.errors = error.response.data.errors;\n                    return;\n                }\n            }\n        }\n    }\n}\n</script>","<template>\n    <div>\n        <slot name=\"title\">\n            <div class=\"md:flex justify-between\">\n                <h3>{{title}} Documents</h3>\n            </div>\n        </slot>\n        <div v-if=\"application.stepIsApproved(step) && showVersion\">\n            <final-document-view\n                :application=\"application\"\n                :document-type-id=\"documentTypeId\"\n                :step=\"step\"\n            >\n            </final-document-view>\n        </div>\n\n        <div v-else>\n            <document-list \n                :application=\"application\"\n                :document-type-id=\"documentTypeId\"\n                :show-version=\"showVersion\"\n            ></document-list>\n            \n            <button class=\"btn mb-2 btn-sm\" @click=\"showUploadForm = true\">\n                Upload a new {{showVersion ? `version`: 'document'}}\n            </button>\n        </div>\n        <modal-dialog v-model=\"showUploadForm\" @closed=\"$refs.uploadform.clearForm()\">\n            <document-upload-form \n                :application=\"application\" \n                :document-type-id=\"documentTypeId\" \n                :step=\"step\"\n                @canceled=\"showUploadForm = false\" \n                @saved=\"showUploadForm = false\" \n                ref=\"uploadform\"\n            >\n            </document-upload-form>\n        </modal-dialog>\n    </div>\n</template>\n<script>\nimport DocumentList from './DocumentList'\nimport DocumentUploadForm from './DocumentUploadForm'\nimport FinalDocumentView from './FinalDocumentView'\n\nexport default {\n    name: 'DocumentManager',\n    components: {\n        DocumentUploadForm,\n        FinalDocumentView,\n        DocumentList\n    },\n    props: {\n        application: {\n            type: Object,\n            required: true\n        },\n        documentTypeId: {\n            type: Number,\n            required: true\n        },\n        getsReviewed: {\n            type: Boolean,\n            required: false,\n            default: true\n        },\n        step: {\n            type: Number,\n            required: false,\n            default: null\n        },\n        showVersion: {\n            type: Boolean,\n            default: true\n        },\n        title: {\n            type: String, \n            required: false\n        }\n    },\n    data() {\n        return {\n            showUploadForm: false,\n        }\n    }\n}\n</script>","<template>\n    <div>\n        <data-table \n            :fields=\"filteredFields\" \n            :data=\"filteredDocuments\" \n            :sort=\"{field: filteredFields[0].name, desc: true}\"\n            v-if=\"filteredDocuments.length > 0\"\n        >\n\n            <template v-slot:cell-notes=\"{value}\">\n                <truncate-expander :value=\"value\" :truncate-length=\"50\"></truncate-expander>\n            </template>\n            <template v-slot:cell-is_final=\"{item}\">\n                <icon-checkmark \n                    v-if=\"!item.is_final\" \n                    @click=\"markFinal(item)\" \n                    title=\"Mark this the final version.\"\n                    class=\"text-gray-300 cursor-pointer inline\"\n                ></icon-checkmark>\n                <icon-checkmark \n                    class=\"text-green-600 inline\" \n                    v-if=\"item.is_final\"\n                    title=\"This is the final document\"\n                ></icon-checkmark>\n            </template>\n\n            <template v-slot:cell-id=\"{item}\">\n                <div class=\"flex space-x-1\">\n\n                <button class=\"btn btn-xs\" @click=\"downloadDocument(item)\">\n                    <icon-download width=\"12\" height=\"16\"></icon-download>\n                </button>\n                <button class=\"btn btn-xs\" @click=\"openEditForm(item)\">\n                    <icon-edit width=\"12\" height=\"16\"></icon-edit>\n                </button>\n                <trash-button @click=\"initDelete(item)\"></trash-button>\n                </div>\n            </template>\n        </data-table>\n\n        <div v-else class=\"px-2 py-1 border bg-gray-100 rounded\">No documents uploaded</div>\n\n        <modal-dialog v-model=\"showEditForm\">\n            <document-edit-form\n                :document=\"activeDocument\"\n                :application=\"application\"\n                @canceled=\"showEditForm = false\"\n                @saved=\"showEditForm = false\"\n                @triggermarkreviewed=\"showMarkReviewed\"\n            ></document-edit-form>\n        </modal-dialog>\n\n        <modal-dialog v-model=\"showReviewedForm\">\n            <document-reviewed-form \n                :document=\"activeDocument\" \n                :application=\"application\" \n                @canceled=\"hideReviewedForm\" \n                @saved=\"hideReviewedForm\"\n            ></document-reviewed-form>\n        </modal-dialog>\n\n        <modal-dialog \n            v-model=\"showDeleteConfirmation\" \n            :title=\"`You are about to delete ${activeDocument.type.long_name}, v${activeDocument.version}`\"\n        >\n            <div v-if=\"activeDocument\">\n                <p v-if=\"activeDocument.is_final\" class=\"mb-3\">\n                    This version has been tagged as the final version of the document.\n                </p>\n                <p>Are you sure you want to continue?</p>\n\n                <button-row \n                    submit-text=\"Delete Document\" \n                    @canceled=\"cancelDelete\" \n                    @submitted=\"commitDelete\"\n                >\n                </button-row>\n            </div>\n        </modal-dialog>\n\n    </div>\n</template>\n<script>\n\n\n\nimport TrashButton from '@/components/buttons/TrashIconButton';\nimport DocumentReviewedForm from './DocumentReviewedForm';\nimport DocumentEditForm from './DocumentEditForm';\nimport is_validation_error from '../../../http/is_validation_error';\n\nexport default {\n    components: {\n        DocumentReviewedForm,\n        DocumentEditForm,\n        TrashButton,\n    },\n    props: {\n        documentTypeId: {\n            type: Number,\n            required: true\n        },\n        getsReviewed: {\n            type: Boolean,\n            required: false,\n            default: true\n        },\n        showVersion: {\n            type: Boolean,\n            required: false,\n            default: true\n        }\n    },\n    data() {\n        return {\n            showDeleteConfirmation: false,\n            showReviewedForm: false,\n            showEditForm: false,\n            activeDocument: {type: {}},\n            fields: [\n                {\n                    name: 'version',\n                    label: 'Version',\n                    type: Number\n                },\n                {\n                    name: 'filename',\n                    label: 'File',\n                    type: String,\n                    headerClass: ['w-1/3']\n                },\n                {\n                    name: 'notes',\n                    label: 'Notes',\n                    type: String,\n                    sortable: false,\n                    resolveValue (item) {\n                        return item.notes || '';\n                    },\n                    headerClass: ['w-1/3']\n                },\n                {\n                    name: 'date_received',\n                    label: 'Date Received',\n                    type: Date,\n                    headerClass: ['w-32']\n                },\n                {\n                    name: 'is_final',\n                    label: 'Final',\n                    type: Boolean,\n                    sortable: false,\n                    class: ['text-center'],\n                    headerClass: ['text-center', 'w-12']\n                },\n                {\n                    name: 'id',\n                    label: '',\n                    sortable: false\n                }\n            ],            \n        }\n    },\n    computed: {\n        group () {\n            return this.$store.getters['groups/currentItemOrNew']\n        },\n        application () {\n            return this.group.expert_panel\n        },\n        \n        filteredFields () {\n            let clonedFields = [...this.fields]\n            if (!this.showVersion) {\n                const kdx = clonedFields.findIndex(f => f && f.name == 'version')\n                clonedFields.splice(kdx, 1)\n\n                const jdx = clonedFields.findIndex(f => f && f.name == 'is_final')\n                clonedFields.splice(jdx, 1)\n            }\n\n            if (!this.getsReviewed) {\n                const idx = clonedFields.findIndex(f => f && f.name == 'date_reviewed')\n                clonedFields.splice(idx, 1)\n            }\n            return clonedFields\n        },\n        filteredDocuments() {\n            if (this.application.documents) {\n                return this.application.documents.filter(d =>  d.document_type_id == this.documentTypeId)\n            }\n            return [];\n        },\n        hasFinalVersion() {\n            return (this.filteredDocuments.findIndex(d => d.is_final) > -1);\n        },\n        finalVersion() {\n            return this.filteredDocuments.find(d => d.is_final) || {};\n        }\n    },\n    methods: {\n        showMarkReviewed (item) {\n            this.activeDocument = item;\n            this.showReviewedForm = true;\n        },\n        hideReviewedForm () {\n            this.showReviewedForm = false;\n        },\n        downloadDocument(item) {\n            window.location = item.download_url;\n        },\n        confirmNewFinal(item) {\n                const confirmMessage = `There is already a version of this document marked as final.  Only one version can be marked as final.  Do you want to mark this version (version ${item.version}) as final instead of ${this.finalVersion.version}`\n                return confirm(confirmMessage);\n        },\n        markFinal(item) {\n            if (!this.hasFinalVersion || this.confirmNewFinal(item)) {\n                this.$store.dispatch(\n                    'applications/markDocumentVersionFinal',\n                    {\n                        application: this.application, \n                        document: item\n                    }\n                );\n            }\n        },\n        openEditForm(item) {\n            this.showEditForm = true; \n            this.activeDocument = item;\n        },\n        initDelete(item) {\n            this.activeDocument = item;\n            this.showDeleteConfirmation = true;\n        },\n        cancelDelete() {\n            this.showDeleteConfirmation = false;\n        },\n        async commitDelete() {\n            try {\n                await this.$store.dispatch('applications/deleteDocument', {application: this.application, document: this.activeDocument});\n                this.showDeleteConfirmation = false;\n            } catch (err) {\n                if (is_validation_error(err)) {\n                    alert(err);\n                }\n            }\n        }\n    }\n}\n</script>","<template>\n    <div>\n        <h2 class=\"border-b pb-1 mb-3\">Mark Document Reviewed</h2>\n\n        <input-row v-model=\"dateReviewed\" label=\"Date Reviewed\" :errors=\"errors.date_reviewed\" type=\"date\"></input-row>\n        <button-row>\n            <button class=\"btn\" @click=\"cancel\">Cancel</button>\n            <button class=\"btn blue\" @click=\"saveDateReviewed\">Mark Reviewed</button>\n        </button-row>\n    </div>\n</template>\n<script>\nimport isValidationError from '../../../http/is_validation_error'\n\nexport default {\n    name: 'DocumentReviewForm',\n    props: {\n        application: {\n            type: Object,\n            required: true\n        },\n        document: {\n            type: Object,\n            required: true\n        }\n    },\n    data() {\n        return {\n            dateReviewed: null,\n            isFinal: false,\n            errors: {}\n        }\n    },\n    computed: {\n        isReviewed () {\n            return Boolean(this.dateReviewed)\n        }\n    },\n    methods: {\n        async saveDateReviewed() {\n            try {\n                await this.$store.dispatch(\n                        'applications/markDocumentReviewed',\n                        {\n                            application: this.application, \n                            document: this.document, \n                            dateReviewed: this.dateReviewed,\n                            isFinal: this.isFinal\n                        });\n    \n                this.clearForm();\n                this.$emit('saved');\n            } catch (e) {\n                if (isValidationError(e)) {\n                    this.errors = e.response.data.errors\n                    return;\n                }\n            }\n        },\n        cancel () {\n            this.clearForm();\n            this.$emit('canceled');\n        },\n        clearForm() {\n            this.dateReviewed = null;\n        }\n    }\n}\n</script>","import { render } from \"./DocumentReviewedForm.vue?vue&type=template&id=6499c96e\"\nimport script from \"./DocumentReviewedForm.vue?vue&type=script&lang=js\"\nexport * from \"./DocumentReviewedForm.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/yugen/code/epam/resources/app/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <form-container>\n        <h2 class=\"text-lg border-b pb-1 mb-3\">Edit {{type}} version {{document.version}} Info</h2>\n        \n        <dictionary-row label=\"File\">\n            {{document.filename}}\n        </dictionary-row>\n        <input-row v-model=\"docProxy.date_received\" label=\"Date Received\" type=\"date\" :errors=\"errors.date_received\"></input-row>\n        <input-row :errors=\"errors.notes\" label=\"Notes\">\n            <textarea name=\"notes\" v-model=\"docProxy.notes\" cols=\"30\" rows=\"10\"></textarea>\n        </input-row>\n        <!-- <input-row \n            v-model=\"docProxy.date_reviewed\" \n            label=\"Date Reviewed\" \n            type=\"date\" \n            :errors=\"errors.date_reviewed\"\n            :disabled=\"!docProxy.date_reviewed\"\n        >\n            <template v-slot:after-input>\n                <note class=\"mt-1\" v-if=\"!docProxy.date_reviewed\">Mark this document reviewed to edit this field.</note>\n            </template>\n        </input-row> -->\n        <button-row>\n            <button class=\"btn\" @click=\"cancel\">Cancel</button>\n            <button class=\"btn blue\" @click=\"save\">Save</button>\n        </button-row>\n    </form-container>\n</template>\n<script>\nimport is_validation_error from '../../../http/is_validation_error';\nexport default {\n    name: 'DocumentEditForm',\n    props: {\n        document: {\n            required: true,\n            type: Object\n        },\n        application: {\n            required: true,\n            type: Object\n        }\n    },\n    emits: [\n        'triggermarkreviewed'\n    ],\n    data() {\n        return {\n            docProxy: {},\n            errors: {}\n        }\n    },\n    computed: {\n        type() {\n            return this.document.type ? this.document.type.long_name : ''\n        }\n    },\n    watch: {\n        document: {\n            immediate: true,\n            handler () {\n                this.docProxy = JSON.parse(JSON.stringify(this.document))\n            }\n        }\n    },\n    methods: {\n        cancel() {\n            this.docProxy = {};\n            this.$emit('canceled');\n        },\n        async save() {\n            try {\n                await this.$store.dispatch('applications/updateDocumentInfo', {application: this.application, document: this.docProxy});\n                this.docProxy = {};\n                this.$emit('saved');\n            } catch (error) {\n                if (is_validation_error(error)) {\n                    this.errors = error.response.data.errors\n                }\n                throw error\n            }\n        }\n    }\n}\n</script>","import { render } from \"./DocumentEditForm.vue?vue&type=template&id=78a20646\"\nimport script from \"./DocumentEditForm.vue?vue&type=script&lang=js\"\nexport * from \"./DocumentEditForm.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/yugen/code/epam/resources/app/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./DocumentList.vue?vue&type=template&id=764b6064\"\nimport script from \"./DocumentList.vue?vue&type=script&lang=js\"\nexport * from \"./DocumentList.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/yugen/code/epam/resources/app/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <form-container>\n        <h2 class=\"pb-2 border-b mb-4\">Upload {{documentType.long_name}} document(s)</h2>\n\n        <input-row label=\"Document\" :errors=\"errors.file\">\n            <input type=\"file\" ref=\"fileInput\">\n        </input-row>\n        \n        <input-row \n            label=\"Date Received\" \n            type=\"date\" \n            v-model=\"newDocument.date_received\" \n            :errors=\"errors.date_receoved\"\n        ></input-row>\n\n        <input-row :errors=\"errors.notes\" label=\"Notes\">\n            <textarea name=\"notes\" v-model=\"newDocument.notes\" cols=\"30\" rows=\"10\"></textarea>\n        </input-row>\n        \n        <!-- <input-row label=\"Date Reviewed\" type=\"date\" v-model=\"newDocument.date_reviewed\" :errors=\"errors.date_reviewed\"></input-row> -->\n\n        <button-row>\n            <button class=\"btn white\" @click=\"cancel\">Cancel</button>\n            <button class=\"btn blue\" @click=\"save\">Save</button>\n        </button-row>\n    </form-container>\n</template>\n<script>\nimport { mapState } from 'vuex';\nimport {formatDate} from '../../../date_utils'\nimport is_validation_error from '../../../http/is_validation_error';\n\nexport default {\n    props: {\n        documentTypeId: {\n            type: Number,\n            required: true\n        },\n        step: {\n            type: Number,\n            required: false,\n            default: null\n        },\n    },\n    data() {\n        return {\n            newDocument: {\n                file: null,\n                date_received: new Date(),\n                date_reviewed: null,\n                step: this.step,\n                document_type_id: this.documentTypeId,\n                notes: null\n            },\n            errors: {},\n        }\n    },\n    computed: {\n        ...mapState({\n            documentTypes: state => state.doctypes.items\n        }),\n        group () {\n            return this.$store.getters['groups/currentItemOrNew']\n        },\n        application () {\n            return this.group.expert_panel\n        },\n        isReviewed () {\n            return Boolean(this.newDocument.date_reviewed)\n        },\n        documentType () {\n            if (this.documentTypes.length == 0) {\n                return {};\n            }\n            // return this.documentTypes. \n            return this.$store.getters['doctypes/getItemById'](this.documentTypeId)\n        }\n    },\n    methods: {\n        async save() {\n            try {\n                let data = new FormData();\n                Object.keys(this.newDocument)\n                    .forEach(key => {\n                        const val = this.newDocument[key]\n                        if (val == null) return;\n                        data.append(key, val);\n                    })\n                data.append('file', this.$refs.fileInput.files[0]);\n                await this.$store.dispatch('groups/addApplicationDocument', \n                        {group: this.group, data}\n                    )\n\n                this.clearForm();\n                this.$emit('saved');\n            } catch (error) {\n                if (is_validation_error(error)) {\n                    this.errors = error.response.data.errors\n                    return;\n                }\n            }\n\n        },\n        cancel() {\n            this.clearForm();\n            this.$emit('canceled');\n        },\n        clearForm() {\n            this.initNewDocument();\n            this.clearErrors();\n        },\n        initNewDocument() {\n            this.$refs.fileInput.value = null;\n            this.newDocument = {\n                file: null,\n                date_received: formatDate(new Date()),\n                date_reviewed: null,\n                step: this.step,\n                document_type_id: this.documentTypeId,\n                notes: null\n            }\n        },\n        clearErrors () {\n            this.errors = {}\n        }\n    },\n    mounted() {\n        this.$store.dispatch('doctypes/getItems');\n    }\n}\n</script>","import { render } from \"./DocumentUploadForm.vue?vue&type=template&id=cee29cfc\"\nimport script from \"./DocumentUploadForm.vue?vue&type=script&lang=js\"\nexport * from \"./DocumentUploadForm.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/yugen/code/epam/resources/app/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <div>\n        <dictionary-row label=\"Final Document\">\n            <div>\n                <a :href=\"finalDocument.download_url\" class=\"text-blue-500 underline\" v-if=\"finalDocument.filename\">\n                    {{finalDocument.filename}}\n                </a>\n                <span v-else>none on file</span>\n            </div>\n        </dictionary-row>\n        \n        <dictionary-row label=\"Date Received\">\n            <div v-show=\"!editDateReceived\">\n                {{firstDateReceived}}\n                <edit-icon-button @click=\"initEditReceived\"></edit-icon-button>\n            </div>\n            <div v-show=\"editDateReceived\">\n                <date-input v-model=\"newDateReceived\" class=\"inline-block\"></date-input>\n                <button class=\"btn btn-sm blue\" @click=\"saveDateReceived\">Save</button>\n                <remove-button class=\"ml-1\" @click=\"editDateReceived = false\"></remove-button>\n            </div>\n        </dictionary-row>\n\n        <!-- <dictionary-row label=\"Date Reviewed\">\n            <div v-show=\"!editDateReviewed\">\n                {{finalDateReviewed}}\n                <edit-icon-button @click=\"initEditReviewed\"></edit-icon-button>\n            </div>\n            <div v-show=\"editDateReviewed\">\n                <date-input v-model=\"newDateReviewed\" class=\"inline-block\"></date-input>\n                <button class=\"btn btn-sm blue\" @click=\"saveDateReviewed\">Save</button>\n                <remove-button class=\"ml-1\" @click=\"editDateReviewed = false\"></remove-button>\n            </div>\n        </dictionary-row> -->\n\n        <modal-dialog v-model=\"showEditForm\">\n            <document-edit-form\n                :document=\"finalDocument\"\n                :application=\"application\"\n                @canceled=\"showEditForm = false\"\n                @saved=\"showEditForm = false\"\n            ></document-edit-form>\n        </modal-dialog>\n\n    </div>\n</template>\n<script>\nimport { formatDate } from '../../../date_utils'\nimport DocumentEditForm from './DocumentEditForm'\nimport RemoveButton from '../../buttons/RemoveButton'\nimport is_validation_error from '../../../http/is_validation_error'\n\nexport default {\n    components: {\n        DocumentEditForm,\n        RemoveButton\n    },\n    props: {\n        documentTypeId: {\n            type: Number,\n            required: true\n        },\n        step: {\n            type: Number,\n            required: false,\n            default: null\n        }        \n    },\n    data() {\n        return {\n            showEditForm: false,\n            editDateReceived: false,\n            newDateReceived: null,\n            editDateReviewed: false,\n            newDateReviewed: null\n        }\n    },\n    computed: {\n        group () {\n            return this.$store.getters['groups/currentItemOrNew'];\n        },\n        application () {\n            return this.group.expert_panel;\n        },\n        finalDocument() {\n            return this.application.finalDocumentOfType(this.documentTypeId);\n        },\n        firstDocument() {\n            return this.application.firstDocumentOfType(this.documentTypeId);\n        },\n        finalDateReviewed () {\n            if (!this.finalDocument.date_reviewed) {\n                return '--'\n            }\n            return formatDate(this.finalDocument.date_reviewed)\n        },\n        firstDateReceived () {\n            if (!this.firstDocument.date_received) {\n                return '--'\n            }\n            return formatDate(this.firstDocument.date_received)\n        },\n    },\n    methods: {\n        initEditReceived(){\n            this.editDateReceived = true;\n            this.newDateReceived = this.firstDateReceived\n        },\n        async saveDateReceived() {\n            try {\n                await this.$store.dispatch('applications/updateDocumentInfo', {\n                        application: this.application, \n                        document: {\n                            uuid: this.firstDocument.uuid,\n                            date_received: this.newDateReceived, \n                            date_reviewed: this.firstDocument.date_reviewed\n                        }\n                    });\n                    this.editDateReceived = false;\n            } catch (error) {\n                if (is_validation_error(error)) {\n                    console.info('saveDateReceived errors: ', error.response.data.errors)\n                }\n            }\n        },\n        initEditReviewed(){\n            this.editDateReviewed = true;\n            this.newDateReviewed = this.finalDateReviewed\n        },\n        async saveDateReviewed() {\n            try {\n                await this.$store.dispatch('applications/updateDocumentInfo', {\n                        application: this.application, \n                        document: {\n                            uuid: this.finalDocument.uuid,\n                            date_reviewed: this.newDateReviewed, \n                            date_received: this.finalDocument.date_received\n                        }\n                    });\n                    this.editDateReviewed = false;\n            } catch (error) {\n                if (is_validation_error(error)) {\n                    console.info('saveDateReviewd errors: ', error.response.data.errors)\n                }\n            }\n        },\n    }\n}\n</script>","import { render } from \"./FinalDocumentView.vue?vue&type=template&id=fa9ad6a0\"\nimport script from \"./FinalDocumentView.vue?vue&type=script&lang=js\"\nexport * from \"./FinalDocumentView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/yugen/code/epam/resources/app/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./DocumentManager.vue?vue&type=template&id=7da4f54f\"\nimport script from \"./DocumentManager.vue?vue&type=script&lang=js\"\nexport * from \"./DocumentManager.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/yugen/code/epam/resources/app/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <form-container>\n        <h2>Approve Step {{application.current_step}}</h2>\n\n        <input-row v-model=\"dateApproved\" type=\"date\" :errors=\"errors.date_approved\" label=\"Date Approved\"></input-row>\n\n        <dictionary-row label=\"\">\n            <div>\n                <label class=\"text-sm\">\n                    <input type=\"checkbox\" v-model=\"notifyContacts\" :value=\"true\"> \n                    <div>Send notification email to contacts</div>\n                </label>\n            </div>\n        </dictionary-row>\n        <static-alert\n            v-if=\"!application.hasPendingSubmissionForCurrentStep\"\n            variant=\"warning\"\n        >\n            The expert panel has not yet submitted the application for approval.  \n            <br>\n            You can approve this application but be aware that it is not part of the \"normal\" application workflow.\n        </static-alert>\n        \n        \n        <transition name=\"slide-fade-down\">\n            <div v-show=\"notifyContacts\">\n                <h4 class=\"font-bold border-b\">Email</h4>\n                <dictionary-row label=\"To\">\n                    <static-alert v-if=\"!group.hasContacts\" class=\"flex-1\" variant=\"danger\">\n                        There are no contacts to notify!!\n                    </static-alert>\n                    <ul v-if=\"group.hasContacts\">\n                        <li v-for=\"contact in email.to\" :key=\"contact.email\">\n                            <router-link \n                                :to=\"{name: 'PersonDetail', params: {uuid: contact.uuid}}\"\n                                class=\"text-blue-600 hover:underline\" \n                                target=\"person\"\n                            >\n                                {{contact.name}} &lt;{{contact.email}}&gt;</router-link>\n                        </li>\n                    </ul>\n                </dictionary-row>\n                <dictionary-row label=\"Cc\">\n                    <div v-if=\"email.cc.length > 0\">\n                        <truncate-expander :value=\"ccAddresses\" :truncate-length=\"100\"></truncate-expander>\n                    </div>\n                    <div class=\"text-gray-500\" v-else>None</div>\n                </dictionary-row>\n                <input-row label=\"Subject\">\n                    <input type=\"text\" v-model=\"email.subject\" class=\"w-full\">\n                </input-row>\n                <input-row label=\"Body\">\n                    <rich-text-editor  v-model=\"email.body\"></rich-text-editor>\n                </input-row>\n                <input-row label=\"Attachments\">\n                    <input type=\"file\" multiple ref=\"attachmentsField\">\n                </input-row>\n                <note v-if=\"emailCced\">ClinGen Services will be carbon copied on this email.</note>\n            </div>\n        </transition>\n\n        <button-row>\n            <button class=\"btn\" @click=\"cancel\">Cancel</button>\n            <button class=\"btn blue\" @click=\"save\">\n                Approve step {{application.current_step}}\n                <span v-if=\"notifyContacts\">\n                    and notify\n                </span>\n            </button>\n        </button-row>\n    </form-container>\n</template>\n<script>\nimport {mapGetters} from 'vuex'\nimport api from '@/http/api';\nimport isValidationError from '@/http/is_validation_error';\nimport RichTextEditor from '@/components/forms/RichTextEditor.vue';\n\nexport default {\n    components: {\n        RichTextEditor\n    },\n    emits: [\n        'canceled',\n        'saved'\n    ],\n    data() {\n        return {\n            dateApproved: null,\n            notifyContacts: false,\n            email: {\n                subject: '',\n                body: '',\n                cc: [],\n                to: []\n            },\n            errors: {}\n        }\n    },\n    computed: {\n        ...mapGetters({\n            group: 'groups/currentItemOrNew'\n        }),\n        application () {\n            return this.group.expert_panel;\n        },\n        emailCced () {\n            return this.application.current_step == 1 || this.application.current_step == 4\n        },\n        ccAddresses () {\n            return this.email.cc.map(c => c.email).join(', ')\n        }\n    },\n    watch: {\n        notifyContacts: function (to) {\n            if (to) {\n                api.get(`/api/email-drafts/${this.application.uuid}/${this.application.current_step}`)\n                    .then(response => {\n                        this.email = response.data;\n                    })\n            }\n        }\n    },\n    methods: {\n        clearForm() {\n            this.dateApproved = null;\n            this.notifyContacts = false;\n        },\n        cancel () {\n            this.clearForm();\n            this.$emit('canceled');\n        },\n        async save () {\n            const data = {\n                application: this.application, \n                dateApproved: this.dateApproved,\n                notifyContacts: this.notifyContacts,\n                subject: this.email.subject,\n                body: this.email.body,\n                attachments: this.$refs.attachmentsField.files\n            };\n\n            try {\n                await this.$store.dispatch('applications/approveCurrentStep', data)\n                this.clearForm();\n                this.$emit('saved');\n            } catch (e) {\n                if (isValidationError(e)) {\n                    this.errors = e.response.data.errors\n                    return;\n                }\n            }\n        }\n    },\n    mounted() {\n    }\n\n}\n</script>","import { render } from \"./ApproveStepForm.vue?vue&type=template&id=63b2af72\"\nimport script from \"./ApproveStepForm.vue?vue&type=script&lang=js\"\nexport * from \"./ApproveStepForm.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/yugen/code/epam/resources/app/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./BaseStep.vue?vue&type=template&id=5412dc87\"\nimport script from \"./BaseStep.vue?vue&type=script&lang=js\"\nexport * from \"./BaseStep.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/yugen/code/epam/resources/app/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./StepOne.vue?vue&type=template&id=c5dae8d8\"\nimport script from \"./StepOne.vue?vue&type=script&lang=js\"\nexport * from \"./StepOne.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/yugen/code/epam/resources/app/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <base-step \n        :step=\"2\"\n        :document-type=\"2\"\n        document-name=\"Draft Specifications\"\n        :document-gets-reviewed=\"false\"\n        approve-button-label=\"Approve Draft Specifications\"\n        title=\"Draft ACMG Guideline Specifications\"\n        @stepApproved=\"$emit('stepApproved')\"\n    >\n        <template v-slot:sections>\n            <div class=\"application-section\">\n                <h2>Draft Specifications</h2>\n                <cspec-summary></cspec-summary>\n            </div>\n        </template>\n    </base-step>\n</template>\n<script>\nimport {mapGetters} from 'vuex'\nimport BaseStep from '@/components/applications/BaseStep'\nimport CspecSummary from '@/components/expert_panels/CspecSummary'\n\nexport default {\n    name: 'StepTwo',\n    components: {\n        BaseStep,\n        CspecSummary\n    },\n    props: {\n        \n    },\n    emits: ['stepApproved'],\n    data() {\n        return {\n            \n        }\n    },\n    computed: {\n        ...mapGetters({\n            group: 'groups/currentItemOrNew'\n        }),\n        application () {\n            return this.group.expert_panel;\n        },\n    },\n    methods: {\n\n    }\n}\n</script>","import { render } from \"./StepTwo.vue?vue&type=template&id=afab8c92\"\nimport script from \"./StepTwo.vue?vue&type=script&lang=js\"\nexport * from \"./StepTwo.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/yugen/code/epam/resources/app/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <base-step \n        :step=\"3\"\n        approve-button-label=\"Approve Pilot and Specifications\"\n        title=\"Pilot ACMG Guideline Specificiations\"\n        @stepApproved=\"$emit('stepApproved')\"\n    >\n        <template v-slot:document>\n            <div>\n                <div class=\"mt-4 p-4 border rounded-xl bg-gray-50\">\n                    <document-manager \n                        :application=\"application\"\n                        :document-type-id=\"3\"\n                        :getsReviewd=\"false\"\n                        :step=\"3\"\n                        class=\"mb-4\"\n                        title=\"Final Specifications\"\n                    ></document-manager>\n                </div>\n                <div class=\"mt-4 p-4 border rounded-xl bg-gray-50\">\n                    <document-manager \n                        title=\"Pilot Classifications\"\n                        :application=\"application\"\n                        :document-type-id=\"4\"\n                        :getsReviewd=\"false\"\n                        :step=\"3\"\n                    ></document-manager>\n                </div>\n                <div class=\"mt-4 p-4 border rounded-xl bg-gray-50\">\n                    <document-manager \n                        title=\"Additional Documents\"\n                        :application=\"application\"\n                        :document-type-id=\"7\"\n                        :getsReviewd=\"false\"\n                        :show-version=\"false\"\n                        :step=\"3\"\n                    ></document-manager>\n                </div>\n            </div>\n        </template>        \n        <template v-slot:sections>\n            <div class=\"application-section\">\n                <h2>Pilot Specifications</h2>\n                <cspec-summary></cspec-summary>\n            </div>\n        </template>\n    </base-step>\n</template>\n<script>\nimport {mapGetters} from 'vuex'\nimport {formatDate} from '@/date_utils'\nimport BaseStep from '@/components/applications/BaseStep'\nimport DocumentManager from '@/components/applications/documents/DocumentManager'\nimport CspecSummary from '@/components/expert_panels/CspecSummary'\n\nexport default {\n    name: 'StepThree',\n    components: {\n        BaseStep,\n        DocumentManager,\n        CspecSummary\n    },\n    props: {\n        \n    },\n    emits: ['stepApproved'],\n    data() {\n        return {\n            \n        }\n    },\n    computed: {\n        ...mapGetters({\n            group: 'groups/currentItemOrNew'\n        }),\n        application () {\n            return this.group.expert_panel;\n        },\n    },\n    methods: {\n        formatDate(dateString) {\n            return formatDate(dateString)\n        }\n    }\n}\n</script>","import { render } from \"./StepThree.vue?vue&type=template&id=326b0f52\"\nimport script from \"./StepThree.vue?vue&type=script&lang=js\"\nexport * from \"./StepThree.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/yugen/code/epam/resources/app/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <base-step \n        :step=\"4\"\n        :document-type=\"5\"\n        document-name=\"Sustained Curation\"\n        :document-gets-reviewed=\"true\"\n        approve-button-label=\"Approve Sustained Curation\"\n        title=\"Sustained Curation\"\n        @stepApproved=\"$emit('stepApproved')\"\n    >\n        <template v-slot:sections>\n\n            <sustained-curation-review />\n            <!-- <div class=\"applicaiton-section\">\n                <h2>Plans for Ongoing Review and Reanalysis and Discrepancy Resolution</h2>\n                <vcep-ongoing-plans-form readonly />\n            </div>\n            <div class=\"application-section\">\n                <h2>Example Evidence Summaries</h2>\n                <evidence-summary-list readonly/>\n            </div>\n            <div class=\"application-section\">\n                <h2>Member Designation</h2>\n                <member-designation-form readonly />\n            </div> -->\n        </template>\n    </base-step>\n</template>\n<script>\nimport {mapGetters} from 'vuex'\nimport BaseStep from '@/components/applications/BaseStep'\n// import EvidenceSummaryList from '@/components/expert_panels/EvidenceSummaryList'\n// import VcepOngoingPlansForm from '@/components/expert_panels/VcepOngoingPlansForm'\n// import MemberDesignationForm from '@/components/expert_panels/MemberDesignationForm';\nimport SustainedCurationReview from '@/components/expert_panels/SustainedCurationReview'\n\nexport default {\n    name: 'StepFour',\n    components: {\n        BaseStep,\n        // EvidenceSummaryList,\n        // VcepOngoingPlansForm,\n        // MemberDesignationForm,\n        SustainedCurationReview\n    },\n    props: {\n        \n    },\n    emits: ['stepApproved'],\n    data() {\n        return {\n            \n        }\n    },\n    computed: {\n        ...mapGetters({\n            group: 'groups/currentItemOrNew'\n        }),\n        application () {\n            return this.group.expert_panel;\n        },\n    },\n    methods: {\n\n    }\n}\n</script>","import { render } from \"./StepFour.vue?vue&type=template&id=3bcbebea\"\nimport script from \"./StepFour.vue?vue&type=script&lang=js\"\nexport * from \"./StepFour.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/yugen/code/epam/resources/app/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./StepTabs.vue?vue&type=template&id=0aa622cb\"\nimport script from \"./StepTabs.vue?vue&type=script&lang=js\"\nexport * from \"./StepTabs.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/yugen/code/epam/resources/app/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}